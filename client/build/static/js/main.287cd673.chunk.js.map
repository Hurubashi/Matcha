{"version":3,"sources":["styles.tsx","components/reusableComponents/TextFieldWithIcon.tsx","helpers/CoookieManager.tsx","components/auth/SignIn.tsx","components/auth/SignUp.tsx","components/auth/VerifyEmail.tsx","helpers/GuestRoute.tsx","components/profile/styles.tsx","components/profile/BasicFields.tsx","components/profile/Interests.tsx","components/profile/LookingFor.tsx","components/profile/NotEditable.tsx","reducers/RequestReducer.tsx","reducers/UserReducer.tsx","components/profile/Editable.tsx","helpers/UserContextProvider.tsx","components/profile/index.tsx","reducers/ImagesReducer.tsx","components/gallery/styles.tsx","components/gallery/Edit.tsx","components/gallery/index.tsx","reducers/SearchReducer.tsx","components/search/styles.tsx","components/search/index.tsx","components/userpage/styles.tsx","components/userpage/index.tsx","components/layout/styles.tsx","components/layout/PrimaryAppBar.tsx","components/chat/chatsListStyles.tsx","components/chat/index.tsx","reducers/MessagesReducer.tsx","components/chat/chatBoxStyles.tsx","components/chat/ChatBox.tsx","helpers/SocketManager.tsx","reducers/ChatListReducer.tsx","components/app/UserLayout.tsx","helpers/PrivateRoute.tsx","theme.tsx","index.tsx","components/app/index.tsx"],"names":["styles","makeStyles","theme","createStyles","h1","marginTop","fontWeight","fontSize","root","display","flexWrap","justifyContent","backgroundSize","backgroundPosition","sectionDesktop","breakpoints","up","sectionMobile","rightScrollingContainer","height","overflow","position","down","TextFieldWithIcon","props","React","useState","values","Grid","container","alignItems","item","xs","icon","TextField","label","type","name","fullWidth","onChange","handleChange","onBlur","handleBlur","CookieManager","Cookie","get","AUTHORIZED","status","set","sameSite","remove","SignIn","withFormik","mapPropsToValues","username","password","remember","validationSchema","Yup","shape","required","min","handleSubmit","axios","post","then","res","setAuthorized","setStatus","setErrors","setSubmitting","catch","error","response","touched","errors","isSubmitting","classes","to","Fragment","Container","maxWidth","Typography","variant","className","AccountCircleOutlinedIcon","LockOutlinedIcon","Button","disabled","style","Box","m","textAlign","Link","component","SignUp","email","firstName","lastName","birth","gender","MailOutlineIcon","Filter1OutlinedIcon","Filter2OutlinedIcon","id","InputLabelProps","shrink","src","alt","width","RadioGroup","aria-label","row","borderBottom","map","elem","FormControlLabel","key","value","control","Radio","color","labelPlacement","mt","useStyles","VerifyEmail","params","useParams","success","undefined","msg","responded","setProps","userid","uuid","Alert","severity","CircularProgress","GuestRoute","isAuthorized","path","marginSm","margin","spacing","paddingSm","padding","profileAvatar","visibleAvatarChange","visibility","profileAvatarChange","palette","background","default","photoLibraryIcon","profileTextField","marginBottom","paddingBottom","profileCard","basicInputFieldsContainer","paddingTop","alignSelf","chip","fields","Interests","func","setProfile","profile","editable","profileClasses","interestsDialog","setInterestsDialog","newInterest","setNewInterest","interestDialogClose","addInterest","arr","interests","push","data","Chip","onDelete","interest","filter","clickable","onClick","Dialog","onClose","aria-labelledby","open","DialogContent","dividers","event","val","target","onKeyDown","e","keyCode","autoFocus","InputProps","startAdornment","InputAdornment","size","LookingFor","lookingForDialog","setlookingForDialog","lookingFor","NotEditable","user","setEditable","md","avatar","normal","align","preferences","Date","toLocaleDateString","year","month","day","lat","lon","biography","RequesReduser","baseUrl","reducer","state","action","results","reqConfig","dispatch","message","successCb","errorCb","url","this","method","UserReducer","request","getReq","formatDate","err","onSuccess","putReq","date","d","Intl","DateTimeFormat","formatToParts","mo","da","ye","navigator","geolocation","getCurrentPosition","latitude","coords","longitude","positionError","lat1","lon1","lat2","lon2","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","round","Number","EPSILON","postReq","heartsNumber","heartIsGiven","delReq","userReducer","Editable","slice","changeProfileData","prop","changeNumericData","RegExp","test","FormControl","FormLabel","defaultValue","getLocation","paddingLeft","multiline","rows","saveUser","ctxt","UserContextProvider","Provider","UserContextConsumer","Consumer","Profile","ctx","ImagesReducer","uploadImage","files","fd","FormData","append","getImages","deleteImage","setAvatar","requestDefault","card","imagesContainer","centered","left","top","msTransform","transform","image","border","primary","main","opacity","imageBackdrop","backgroundColor","imageButton","right","bottom","common","white","imageSrc","thumbUp","edit","iconButton","thumbsCount","imagesReducer","Edit","galleryMakeStyles","anchorEl","setAnchorEl","isMenuOpen","Boolean","handleMenuClose","renderMenu","Menu","PaperProps","onMouseLeave","transformOrigin","vertical","horizontal","keepMounted","MenuItem","currentTarget","Gallery","useReducer","useEffect","Card","Tooltip","title","Input","idx","backgroundImage","thumbnail","query","focusVisible","imageTitle","searchFiltersContainer","zIndex","searchReducer","SearchReducer","Search","searchState","searchDispatch","scrollEl","useRef","URLSearchParams","window","location","search","setLookingFor","setInterest","distance","setDistance","current","addEventListener","loadMore","searchUsers","removeEventListener","scrollHeight","scrollTop","offsetHeight","ref","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","flexDirection","ExpansionPanelDetails","gutterBottom","Slider","getAriaValueText","valueLabelDisplay","num","max","ExpansionPanelActions","delete","String","history","pushState","toString","ButtonBase","focusRipple","focusVisibleClassName","Array","i","Skeleton","imagesList","paper","gridList","light","titleBar","UserPage","userState","userDispatch","imagesState","imagesDispatch","profileStyles","makeProfileStyles","getUser","getImagesForSpecificUser","CardMedia","lineHeight","age","flexGrow","IconButton","returnHurt","giveHurt","getDistanse","GridList","cols","img","GridListTile","textTransform","marginRight","grow","appBar","boxShadow","menuList","borderRadius","link","textDecoration","text","PrimaryAppBar","appBarMakeStyles","setMobileChatlist","handleClick","handleClose","handleLogOut","reload","AppBar","Toolbar","Hidden","mdUp","Avatar","cursor","chatsList","minWidth","chatListHeader","minHeight","chatItem","chatItemAvatar","chatName","chatTime","chatMessage","textOverflow","whiteSpace","marginLeft","ChatList","cl","setChat","chatListState","chat","handleChatSelection","interlocutorAvatar","interlocutorName","lastMsg","time","toLocaleString","interlocutorId","senderId","MessageReducer","chatId","chatBox","messageBox","overflowY","paddingRight","close","font","leftMessage","rightMessage","messageContent","messageInput","messageReducer","MessagesReducer","ChatBox","socketManager","newMessage","setNewMessage","messagesEndRef","messageState","messageDispatch","scrollToBottom","smooth","scrollIntoView","behavior","getMessages","socket","on","removeListener","sendMsg","replace","length","sendMessage","receiverId","msgStyle","placeholder","rowsMax","endAdornment","SocketManager","address","process","io","emit","ChatListReducer","chatListReducer","PrivateLayout","mobileChatlist","chatListDispatch","mainClasses","mainStyles","getChats","smDown","borderRight","SwipeableDrawer","anchor","onOpen","PrivateRoute","useTheme","paletteOptions","secondary","hint","getPalette","createMuiTheme","typography","fontFamily","join","overrides","MuiIconButton","MuiOutlinedInput","notchedOutline","borderColor","MuiButton","contained","outlined","MuiChip","MuiPaper","MuiTypography","h3","ReactDOM","render","useMemo","ThemeProvider","CssBaseline","exact","SingIn","SingUp","document","querySelector"],"mappings":"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","file":"static/js/main.287cd673.chunk.js","sourcesContent":["import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\th1: {\n\t\t\tmarginTop: '0.5em',\n\t\t\tfontWeight: 400,\n\t\t\tfontSize: '3.5em',\n\t\t},\n\t\troot: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'space-around',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center 40%',\n\t\t\tmarginTop: '2em',\n\t\t},\n\t\tsectionDesktop: {\n\t\t\tdisplay: 'none',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t},\n\t\t},\n\t\tsectionMobile: {\n\t\t\tdisplay: 'flex',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\trightScrollingContainer: {\n\t\t\theight: 'inherit',\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tposition: 'initial',\n\t\t\t},\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React, { ChangeEvent } from 'react'\nimport { TextField, Grid } from '@material-ui/core'\n\nexport interface Props {\n\tlabel: string\n\ttype: string\n\tname: string\n\ticon: (props: any) => JSX.Element\n\thandleChange: (e: ChangeEvent<any>) => void\n\thandleBlur: (e: ChangeEvent<any>) => void\n}\n\nconst TextFieldWithIcon: React.FC<Props> = props => {\n\tconst [values] = React.useState<Props>(props)\n\n\treturn (\n\t\t<Grid container alignItems='flex-end'>\n\t\t\t<Grid item xs={1}>\n\t\t\t\t<values.icon />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={11}>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={values.label}\n\t\t\t\t\ttype={values.type}\n\t\t\t\t\tname={values.name}\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t\tonChange={values.handleChange}\n\t\t\t\t\tonBlur={values.handleBlur}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default TextFieldWithIcon\n","import Cookie from 'js-cookie'\n\nexport class CookieManager {\n\t// Consts for cookie names\n\tprivate static AUTHORIZED = 'authorized'\n\n\tstatic isAuthorized(): boolean {\n\t\tif (Cookie.get('user') === CookieManager.AUTHORIZED) return true\n\t\telse return false\n\t}\n\n\tstatic setAuthorized(status: boolean): void {\n\t\tif (status) Cookie.set('user', CookieManager.AUTHORIZED, { sameSite: 'strict' })\n\t\telse Cookie.remove('user')\n\t}\n}\n","import React from 'react'\nimport { Link as ReactLink, Redirect } from 'react-router-dom'\nimport * as Yup from 'yup'\nimport { withFormik, FormikProps, Form } from 'formik'\nimport axios from 'axios'\nimport { Button, Link, Box, Typography, Container } from '@material-ui/core'\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\n\nimport styles from '../../styles'\nimport TextFieldWithIcon from '../reusableComponents/TextFieldWithIcon'\nimport { CookieManager } from '../../helpers/CoookieManager'\n\ninterface FormValues {\n\tusername: string\n\tpassword: string\n\tremember: boolean\n}\n\nconst InnerForm = (props: FormikProps<FormValues>) => {\n\tconst { touched, errors, isSubmitting } = props\n\tconst classes = styles()\n\n\tif (props.status) {\n\t\treturn <Redirect to='/profile' />\n\t}\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Container maxWidth='sm'>\n\t\t\t\t<Typography variant='h1' className={classes.h1}>\n\t\t\t\t\t{'Sign In'}\n\t\t\t\t</Typography>\n\t\t\t\t<Form>\n\t\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\t\tlabel='Username'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='username'\n\t\t\t\t\t\ticon={AccountCircleOutlinedIcon}\n\t\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{touched.username && errors.username && <div>{errors.username}</div>}\n\t\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\ticon={LockOutlinedIcon}\n\t\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{touched.password && errors.password && <div>{errors.password}</div>}\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\tstyle={{ marginTop: '2em' }}>\n\t\t\t\t\t\t{'Log In'}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t\t<Box m={1} textAlign='center'>\n\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\t{'New here? '}\n\t\t\t\t\t\t<ReactLink to='/register'>\n\t\t\t\t\t\t\t<Link component='button' type='button' variant='body1'>\n\t\t\t\t\t\t\t\t{'Sign Up'}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</ReactLink>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Container>\n\t\t</React.Fragment>\n\t)\n}\n\nconst SignIn = withFormik<{}, FormValues>({\n\tmapPropsToValues: (props) => {\n\t\treturn {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tremember: true,\n\t\t}\n\t},\n\tvalidationSchema: Yup.object().shape({\n\t\tusername: Yup.string().required('Required'),\n\t\tpassword: Yup.string().required('Required').min(6, 'Must be 6 characters or less'),\n\t}),\n\n\thandleSubmit: (values: FormValues, props) => {\n\t\taxios\n\t\t\t.post('/api/auth/login', {\n\t\t\t\tusername: values.username,\n\t\t\t\tpassword: values.password,\n\t\t\t})\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tCookieManager.setAuthorized(true)\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: res['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (error.response['data']['success'] === true) {\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: error.response['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t},\n})(InnerForm)\n\nexport default SignIn\n","import React from 'react'\nimport { Link as ReactLink, Redirect } from 'react-router-dom'\nimport * as Yup from 'yup'\nimport { withFormik, FormikProps, Form } from 'formik'\nimport {\n\tButton,\n\tContainer,\n\tLink,\n\tBox,\n\tTypography,\n\tRadioGroup,\n\tFormControlLabel,\n\tRadio,\n\tGrid,\n\tTextField,\n} from '@material-ui/core'\nimport axios from 'axios'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined'\nimport Filter1OutlinedIcon from '@material-ui/icons/Filter1Outlined'\nimport Filter2OutlinedIcon from '@material-ui/icons/Filter2Outlined'\nimport styles from '../../styles'\nimport TextFieldWithIcon from '../reusableComponents/TextFieldWithIcon'\nimport CakeIcon from '@material-ui/icons/Cake'\n\ninterface FormValues {\n\temail: string\n\tusername: string\n\tfirstName: string\n\tlastName: string\n\tpassword: string\n\tgender: string\n\tbirth: string\n}\n\nconst InnerForm = (props: FormikProps<FormValues>) => {\n\tconst { touched, errors, isSubmitting } = props\n\tconst classes = styles()\n\n\tif (props.status) {\n\t\treturn <Redirect to='/profile' />\n\t}\n\n\treturn (\n\t\t<Container maxWidth='sm'>\n\t\t\t<Typography variant='h1' className={classes.h1}>\n\t\t\t\t{'Sing Up'}\n\t\t\t</Typography>\n\t\t\t<Form>\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Email'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tname='email'\n\t\t\t\t\ticon={MailOutlineIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.email && errors.email && <div>{errors.email}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Username'\n\t\t\t\t\ttype='username'\n\t\t\t\t\tname='username'\n\t\t\t\t\ticon={AccountCircleOutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.username && errors.username && <div>{errors.username}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='First name'\n\t\t\t\t\ttype='firstName'\n\t\t\t\t\tname='firstName'\n\t\t\t\t\ticon={Filter1OutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.firstName && errors.firstName && <div>{errors.firstName}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Last name'\n\t\t\t\t\ttype='lastName'\n\t\t\t\t\tname='lastName'\n\t\t\t\t\ticon={Filter2OutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.lastName && errors.lastName && <div>{errors.lastName}</div>}\n\n\t\t\t\t<Grid container alignItems='flex-end' style={{ height: '3.587em' }}>\n\t\t\t\t\t<Grid item xs={1}>\n\t\t\t\t\t\t<CakeIcon />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={11}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid='date'\n\t\t\t\t\t\t\ttype='date'\n\t\t\t\t\t\t\tname='birth'\n\t\t\t\t\t\t\tonChange={props.handleChange}\n\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t{touched.birth && errors.birth && <div>{errors.birth}</div>}\n\n\t\t\t\t<Grid container alignItems='flex-end' style={{ height: '3.587em' }}>\n\t\t\t\t\t<Grid item xs={1}>\n\t\t\t\t\t\t<img src={'/images/genderIcon.svg'} alt='gender' style={{ width: '2em', height: '2em' }} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={11}>\n\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\taria-label='gender'\n\t\t\t\t\t\t\tonChange={props.handleChange}\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tname='gender'\n\t\t\t\t\t\t\tstyle={{ borderBottom: '0.5px solid #0f0f11' }}>\n\t\t\t\t\t\t\t{['male', 'female'].map((elem) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tkey={'gender' + elem}\n\t\t\t\t\t\t\t\t\t\tvalue={elem}\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\t\t\t\tlabel={elem}\n\t\t\t\t\t\t\t\t\t\tlabelPlacement='end'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t{touched.gender && errors.gender && <div>{errors.gender}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Password'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='password'\n\t\t\t\t\ticon={LockOutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.password && errors.password && <div>{errors.password}</div>}\n\n\t\t\t\t{/** Log In **/}\n\t\t\t\t<Box mt={2}>\n\t\t\t\t\t<Button type='submit' variant='contained' fullWidth={true} disabled={isSubmitting}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box m={1} textAlign='center'>\n\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\t{'Already have accaunt? '}\n\t\t\t\t\t\t<ReactLink to='/login'>\n\t\t\t\t\t\t\t<Link component='button' type='button' variant='body1'>\n\t\t\t\t\t\t\t\t{'Sign In'}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</ReactLink>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Form>\n\t\t</Container>\n\t)\n}\n\nconst SignUp = withFormik<{}, FormValues>({\n\tmapPropsToValues: (props) => {\n\t\treturn {\n\t\t\temail: '',\n\t\t\tusername: '',\n\t\t\tfirstName: '',\n\t\t\tlastName: '',\n\t\t\tpassword: '',\n\t\t\tbirth: '',\n\t\t\tgender: '',\n\t\t}\n\t},\n\tvalidationSchema: Yup.object().shape({\n\t\temail: Yup.string().email('Should be a valid email adress').required('Required'),\n\t\tusername: Yup.string().required('Required'),\n\t\tfirstName: Yup.string().required('Required'),\n\t\tlastName: Yup.string().required('Required'),\n\t\tpassword: Yup.string().required('Required').min(6, 'Must be 6 characters or less'),\n\t\tbirth: Yup.string().required('Required'),\n\t\tgender: Yup.string().required('Required'),\n\t}),\n\n\thandleSubmit: (values: FormValues, props) => {\n\t\taxios\n\t\t\t.post('/api/auth/register', {\n\t\t\t\temail: values.email,\n\t\t\t\tusername: values.username,\n\t\t\t\tfirstName: values.firstName,\n\t\t\t\tlastName: values.lastName,\n\t\t\t\tpassword: values.password,\n\t\t\t\tbirth: values.birth,\n\t\t\t\tgender: values.gender,\n\t\t\t})\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: res['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (!error.response) {\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (error.response['data']['success'] === true) {\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: error.response['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t},\n})(InnerForm)\n\nexport default SignUp\n","import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\n\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { Alert } from '@material-ui/lab'\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tfullWidth: {\n\t\t\twidth: '100%',\n\t\t},\n\t}),\n)\n\ninterface RouteParams {\n\tuserid: string | undefined\n\tuuid: string | undefined\n}\n\ninterface Props {\n\tsuccess: boolean | undefined\n\tmsg: string | undefined\n\tresponded: boolean\n}\n\nconst VerifyEmail: React.FC = () => {\n\tconst classes = useStyles()\n\n\tconst params = useParams<RouteParams>()\n\tconst [props, setProps] = useState<Props>({\n\t\tsuccess: undefined,\n\t\tmsg: undefined,\n\t\tresponded: false,\n\t})\n\n\tif (props.responded === false) {\n\t\taxios\n\t\t\t.get('/api/auth/verify/' + params.userid + '/' + params.uuid)\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tsetProps({ success: true, msg: 'You email successufully verified.', responded: true })\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (error.response['data'] && error.response['data']['success'] === false) {\n\t\t\t\t\tsetProps({ success: false, msg: error.response['data']['msg'], responded: true })\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<Container maxWidth='md'>\n\t\t\t<Box justifyContent='center' marginTop='2.5em' display='flex'>\n\t\t\t\t{props.success === true && (\n\t\t\t\t\t<Alert severity='success' className={classes.fullWidth}>\n\t\t\t\t\t\t{props.msg}\n\t\t\t\t\t</Alert>\n\t\t\t\t)}\n\t\t\t\t{props.success === undefined && <CircularProgress className={classes.root} />}\n\t\t\t\t{props.success === false && (\n\t\t\t\t\t<Alert severity='error' className={classes.fullWidth}>\n\t\t\t\t\t\t{props.msg}\n\t\t\t\t\t</Alert>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Container>\n\t)\n}\n\nexport default VerifyEmail\n","import React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport { CookieManager } from './CoookieManager'\n\ninterface Props {\n\tpath: string\n\tcomponent: React.FC | React.ComponentType\n}\nconst GuestRoute: React.FC<Props> = (props: Props) => {\n\treturn CookieManager.isAuthorized() ? (\n\t\t<Redirect to='/search' />\n\t) : (\n\t\t<React.Fragment>\n\t\t\t<Route path={props.path} component={props.component} />\n\t\t</React.Fragment>\n\t)\n}\n\nexport default GuestRoute\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tmarginSm: {\n\t\t\tmargin: `${theme.spacing(0.1)}em`,\n\t\t},\n\t\tpaddingSm: {\n\t\t\tpadding: `${theme.spacing(0.1)}em`,\n\t\t},\n\t\tprofileAvatar: {\n\t\t\twidth: `22em`,\n\t\t\theight: `22em`,\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\twidth: `16em`,\n\t\t\t\theight: `16em`,\n\t\t\t\tmargin: 'none',\n\t\t\t},\n\t\t\tborderRadius: '50%',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tvisibleAvatarChange: {\n\t\t\t'&:hover': {\n\t\t\t\t'& $profileAvatarChange': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tprofileAvatarChange: {\n\t\t\tmarginTop: `-22em`,\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tmarginTop: `-16em`,\n\t\t\t},\n\t\t\tlineHeight: `${theme.spacing(0.5)}em`,\n\t\t\tdisplay: 'flex',\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tcolor: 'white',\n\t\t\topacity: 0.5,\n\t\t\tvisibility: 'hidden',\n\t\t\tmarginBottom: '0.5em',\n\t\t},\n\t\tphotoLibraryIcon: { fontSize: `${theme.spacing(0.5)}em`, margin: 'auto' },\n\t\tprofileTextField: {\n\t\t\tmarginBottom: '0.7em',\n\t\t\tpaddingBottom: '0.4em',\n\t\t\tborderBottom: '1px solid #28272c',\n\t\t},\n\t\tprofileCard: {\n\t\t\tmarginBottom: '2em',\n\t\t},\n\t\tbasicInputFieldsContainer: {\n\t\t\tpaddingTop: '1.5em',\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t\tchip: {\n\t\t\tmargin: `${theme.spacing(0.05)}em`,\n\t\t},\n\t}),\n)\n\nexport default styles\n","interface BasicField {\n\tname: string\n\tkey: 'username' | 'email' | 'firstName' | 'lastName'\n}\nconst fields: BasicField[] = [\n\t{\n\t\tname: 'Username',\n\t\tkey: 'username',\n\t},\n\t{\n\t\tname: 'Email',\n\t\tkey: 'email',\n\t},\n\t{\n\t\tname: 'First Name',\n\t\tkey: 'firstName',\n\t},\n\t{\n\t\tname: 'Last Name',\n\t\tkey: 'lastName',\n\t},\n]\n\nexport default fields\n","import React from 'react'\nimport { Box, TextField, Button, Typography, Dialog, DialogContent, InputAdornment, Chip } from '@material-ui/core'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\nimport profileClasses from './styles'\n\nimport { User } from '../../reducers/UserReducer'\n\ninterface Props {\n\tsetProfile: ((value: React.SetStateAction<User>) => void) | null\n\tprofile: User\n\teditable: boolean\n}\n\nconst Interests: React.FC<Props> = (props: Props) => {\n\tconst { setProfile, profile, editable } = props\n\tconst classes = profileClasses()\n\n\tconst [interestsDialog, setInterestsDialog] = React.useState<boolean>(false)\n\tconst [newInterest, setNewInterest] = React.useState<string>('')\n\n\tconst newInterestOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = (event.target as HTMLInputElement).value\n\t\tsetNewInterest(val)\n\t}\n\n\tconst interestDialogOpen = () => {\n\t\tsetInterestsDialog(true)\n\t}\n\tconst interestDialogClose = () => {\n\t\tsetInterestsDialog(false)\n\t}\n\n\tconst removeInterest = (interest: string) => () => {\n\t\tif (setProfile) {\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tinterests: profile.interests.filter((chip) => chip !== interest),\n\t\t\t})\n\t\t}\n\t}\n\n\tconst addInterest = () => {\n\t\tif (setProfile) {\n\t\t\tlet arr = profile.interests\n\t\t\tarr.push(newInterest)\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tinterests: arr,\n\t\t\t})\n\t\t\tsetNewInterest('')\n\t\t\tinterestDialogClose()\n\t\t}\n\t}\n\n\tconst runFuncOnEnter = (func: () => void) => (e: React.KeyboardEvent) => {\n\t\tif (e.keyCode === 13) {\n\t\t\tfunc()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box marginBottom='1em'>\n\t\t\t{editable ? (\n\t\t\t\t<Box>\n\t\t\t\t\t<Typography>{'Interests'}:</Typography>\n\t\t\t\t\t{profile.interests.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} onDelete={removeInterest(data)} />\n\t\t\t\t\t})}\n\t\t\t\t\t<Chip\n\t\t\t\t\t\ticon={<AddCircleOutlineIcon />}\n\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\tlabel={'New'}\n\t\t\t\t\t\tclickable={true}\n\t\t\t\t\t\tonClick={interestDialogOpen}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Box textAlign='left'>\n\t\t\t\t\t<Typography>{'Interests'}:</Typography>\n\t\t\t\t\t{profile.interests.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} variant='outlined' />\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Dialog onClose={interestDialogClose} aria-labelledby='customized-dialog-title' open={interestsDialog}>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid='outlined-search'\n\t\t\t\t\t\tlabel='Search field'\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tvalue={newInterest}\n\t\t\t\t\t\tonChange={newInterestOnChange}\n\t\t\t\t\t\tonKeyDown={runFuncOnEnter(addInterest)}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: <InputAdornment position='start'>#</InputAdornment>,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\n\t\t\t\t<Box textAlign='center' m={1}>\n\t\t\t\t\t<Button autoFocus variant='outlined' size='small' onClick={addInterest}>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</Box>\n\t)\n}\n\nexport default Interests\n","import React from 'react'\nimport { Box, TextField, Button, Typography, Dialog, DialogContent, InputAdornment, Chip } from '@material-ui/core'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\nimport profileClasses from './styles'\n\nimport { User } from '../../reducers/UserReducer'\n\ninterface Props {\n\tsetProfile: ((value: React.SetStateAction<User>) => void) | null\n\tprofile: User\n\teditable: boolean\n}\n\nconst LookingFor: React.FC<Props> = (props: Props) => {\n\tconst { setProfile, profile, editable } = props\n\tconst classes = profileClasses()\n\n\tconst [lookingForDialog, setlookingForDialog] = React.useState<boolean>(false)\n\tconst [newInterest, setNewInterest] = React.useState<string>('')\n\n\tconst newInterestOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = (event.target as HTMLInputElement).value\n\t\tsetNewInterest(val)\n\t}\n\n\tconst interestDialogOpen = () => {\n\t\tsetlookingForDialog(true)\n\t}\n\tconst interestDialogClose = () => {\n\t\tsetlookingForDialog(false)\n\t}\n\n\tconst removeInterest = (interest: string) => () => {\n\t\tif (setProfile) {\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tlookingFor: profile.lookingFor.filter((chip) => chip !== interest),\n\t\t\t})\n\t\t}\n\t}\n\n\tconst addInterest = () => {\n\t\tif (setProfile) {\n\t\t\tlet arr = profile.lookingFor\n\t\t\tarr.push(newInterest)\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tlookingFor: arr,\n\t\t\t})\n\t\t\tsetNewInterest('')\n\t\t\tinterestDialogClose()\n\t\t}\n\t}\n\n\tconst runFuncOnEnter = (func: () => void) => (e: React.KeyboardEvent) => {\n\t\tif (e.keyCode === 13) {\n\t\t\tfunc()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box marginBottom='1em'>\n\t\t\t{editable ? (\n\t\t\t\t<Box>\n\t\t\t\t\t<Typography>{'LookingFor'}:</Typography>\n\t\t\t\t\t{profile.lookingFor.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} onDelete={removeInterest(data)} />\n\t\t\t\t\t})}\n\t\t\t\t\t<Chip\n\t\t\t\t\t\ticon={<AddCircleOutlineIcon />}\n\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\tlabel={'New'}\n\t\t\t\t\t\tclickable={true}\n\t\t\t\t\t\tonClick={interestDialogOpen}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Box textAlign='left'>\n\t\t\t\t\t<Typography>{'LookingFor'}:</Typography>\n\t\t\t\t\t{profile.lookingFor.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} variant='outlined' />\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Dialog onClose={interestDialogClose} aria-labelledby='customized-dialog-title' open={lookingForDialog}>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid='outlined-search'\n\t\t\t\t\t\tlabel='Search field'\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tvalue={newInterest}\n\t\t\t\t\t\tonChange={newInterestOnChange}\n\t\t\t\t\t\tonKeyDown={runFuncOnEnter(addInterest)}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: <InputAdornment position='start'>#</InputAdornment>,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\n\t\t\t\t<Box textAlign='center' m={1}>\n\t\t\t\t\t<Button autoFocus variant='outlined' size='small' onClick={addInterest}>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</Box>\n\t)\n}\n\nexport default LookingFor\n","import React from 'react'\nimport { Box, Button, Typography, Grid } from '@material-ui/core'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary'\nimport profileClasses from './styles'\nimport fields from './BasicFields'\nimport Interests from './Interests'\nimport LookingFor from './LookingFor'\nimport { Link } from 'react-router-dom'\nimport { User } from '../../reducers/UserReducer'\n\ninterface Props {\n\tuser: User\n\tsetEditable: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nconst NotEditable: React.FC<Props> = (props: Props) => {\n\tconst { user, setEditable } = props\n\tconst classes = profileClasses()\n\n\treturn (\n\t\t<Box className={classes.profileCard}>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.visibleAvatarChange}`}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName={classes.profileAvatar}\n\t\t\t\t\t\t\tsrc={user.avatar ? user.avatar.normal : `/images/noavatar${user.gender}.jpg`}\n\t\t\t\t\t\t\talt='Your avatar'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Link to='/gallery'>\n\t\t\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.profileAvatarChange}`}>\n\t\t\t\t\t\t\t\t<PhotoLibraryIcon className={classes.photoLibraryIcon} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={6} className={classes.basicInputFieldsContainer}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{fields.map((elem) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Typography align='left' className={classes.profileTextField} key={elem.key}>\n\t\t\t\t\t\t\t\t\t{elem.name}: {user[elem.key]}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box textAlign='left'>\n\t\t\t\t\t\t<Typography className={classes.profileTextField}>\n\t\t\t\t\t\t\t{'Gender'}: {user.gender}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography className={classes.profileTextField}>\n\t\t\t\t\t\t\t{'Sexual preferences'}: {user.preferences}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Typography align='left' className={classes.profileTextField}>\n\t\t\t\tBirthday:{' '}\n\t\t\t\t{new Date(user.birth).toLocaleDateString('en-US', {\n\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\tmonth: 'long',\n\t\t\t\t\tday: 'numeric',\n\t\t\t\t})}\n\t\t\t</Typography>\n\t\t\t<Typography align='left' className={classes.profileTextField}>\n\t\t\t\tLatitude: {user.lat}\n\t\t\t</Typography>\n\t\t\t<Typography align='left' className={classes.profileTextField}>\n\t\t\t\tLongitude: {user.lon}\n\t\t\t</Typography>\n\t\t\t<LookingFor setProfile={null} profile={user} editable={false} />\n\t\t\t<Interests setProfile={null} profile={user} editable={false} />\n\t\t\t<Box textAlign='center'>\n\t\t\t\t<Typography align='left'>{'About'}:</Typography>\n\t\t\t\t<Box className={classes.paddingSm}>\n\t\t\t\t\t<Typography align='left'>{user.biography}</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Button onClick={() => setEditable(true)} variant='outlined' className={classes.marginSm}>\n\t\t\t\t\t{'Edit'}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default NotEditable\n","import React from 'react'\nimport axios, { AxiosRequestConfig, AxiosResponse } from 'axios'\n\nexport type State<T> = { status: 'loading' } | { status: 'error'; error: string } | { status: 'success'; data: T }\n\nexport type Action<T> = { type: 'request' } | { type: 'success'; results: T } | { type: 'failure'; error: string }\n\nexport default abstract class RequesReduser<T> {\n\tabstract baseUrl: string\n\n\treducer = (state: State<T>, action: Action<T>): State<T> => {\n\t\tswitch (action.type) {\n\t\t\tcase 'request':\n\t\t\t\treturn { status: 'loading' }\n\t\t\tcase 'success':\n\t\t\t\treturn { status: 'success', data: action.results }\n\t\t\tcase 'failure':\n\t\t\t\treturn { status: 'error', error: action.error }\n\t\t}\n\t}\n\tprotected requestDefault(reqConfig: AxiosRequestConfig, dispatch: React.Dispatch<Action<T>>) {\n\t\taxios(reqConfig)\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tdispatch({ type: 'success', results: res['data']['data'] })\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({ type: 'failure', error: res['data']['message'] })\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tdispatch({ type: 'failure', error: error.message })\n\t\t\t})\n\t}\n\n\tprotected request(\n\t\treqConfig: AxiosRequestConfig,\n\t\tsuccessCb: (res: AxiosResponse<any>) => void = () => {},\n\t\terrorCb: (res: string) => void = () => {},\n\t) {\n\t\taxios(reqConfig)\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tsuccessCb(res)\n\t\t\t\t} else {\n\t\t\t\t\terrorCb(res['data']['message'])\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\terrorCb(error.message)\n\t\t\t})\n\t}\n\n\tprotected getReq(url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'GET',\n\t\t}\n\t}\n\tprotected postReq(data: any, url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'POST',\n\t\t\tdata: data,\n\t\t}\n\t}\n\tprotected putReq(data: any, url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: data,\n\t\t}\n\t}\n\tprotected delReq(url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'DELETE',\n\t\t}\n\t}\n}\n","import RequesReduser, { Action } from './RequestReducer'\n\ntype Gender = 'male' | 'female' | ''\ntype Preferences = 'male' | 'female' | 'male and female'\n\nexport type User = {\n\tid: number\n\tusername: string\n\temail: string\n\tfirstName: string\n\tlastName: string\n\tgender: Gender\n\tpreferences: Preferences\n\tavatar?:\n\t\t| {\n\t\t\t\tthumbnail: string\n\t\t\t\tnormal: string\n\t\t  }\n\t\t| undefined\n\tlookingFor: string[]\n\tinterests: string[]\n\tbiography: string\n\tlat: number\n\tlon: number\n\theartIsGiven: boolean\n\theartsNumber: number\n\tbirth: Date | string\n\tage: number\n}\n\nclass UserReducer extends RequesReduser<User> {\n\tbaseUrl = '/api/user'\n\tgetUser(dispatch: React.Dispatch<Action<User>>, url?: string) {\n\t\tthis.request(\n\t\t\tthis.getReq(`/api/user/${url}`),\n\t\t\t(res) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tresults: { ...res['data']['data'], birth: this.formatDate(res['data']['data'].birth) },\n\t\t\t\t})\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\tsaveUser(data: User, dispatch: React.Dispatch<Action<User>>, onSuccess: () => void) {\n\t\tthis.request(\n\t\t\tthis.putReq(data),\n\t\t\t(res) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tresults: { ...res['data']['data'], birth: this.formatDate(res['data']['data'].birth) },\n\t\t\t\t})\n\t\t\t\tonSuccess()\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\tformatDate(date: string) {\n\t\tconst d = new Date(date)\n\t\tconst dtf = new Intl.DateTimeFormat('en', { year: 'numeric', month: '2-digit', day: '2-digit' })\n\t\tconst [{ value: mo }, , { value: da }, , { value: ye }] = dtf.formatToParts(d)\n\t\treturn `${ye}-${mo}-${da}`\n\t}\n\n\tgetLocation(dispatch: React.Dispatch<Action<User>>, onSuccess: (lat: number, lon: number) => void) {\n\t\tconst success = (position: Position) => {\n\t\t\tconst latitude = position.coords.latitude\n\t\t\tconst longitude = position.coords.longitude\n\t\t\t//   `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`;\n\t\t\tthis.request(\n\t\t\t\tthis.putReq({ lat: latitude, lon: longitude }),\n\t\t\t\t(res) => {\n\t\t\t\t\tonSuccess(latitude, longitude)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t\t},\n\t\t\t)\n\t\t}\n\n\t\tconst error = (positionError: PositionError) => {\n\t\t\t// console.log('PositionError:' + positionError.message)\n\t\t}\n\n\t\tif (!navigator.geolocation) {\n\t\t\t// Geolocation is not supported by your browser\n\t\t} else {\n\t\t\tnavigator.geolocation.getCurrentPosition(success, error)\n\t\t}\n\t}\n\n\tgetDistanse(lat1: number, lon1: number, lat2: number, lon2: number): number {\n\t\tconst R = 6371e3 // metres\n\t\tconst φ1 = (lat1 * Math.PI) / 180 // φ, λ in radians\n\t\tconst φ2 = (lat2 * Math.PI) / 180\n\t\tconst Δφ = ((lat2 - lat1) * Math.PI) / 180\n\t\tconst Δλ = ((lon2 - lon1) * Math.PI) / 180\n\n\t\tconst a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2)\n\t\tconst c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n\n\t\tconst d = Math.round(((R * c) / 1000 + Number.EPSILON) * 100) / 100 // in km\n\t\treturn d\n\t}\n\n\tgiveHurt(dispatch: React.Dispatch<Action<User>>, user: User) {\n\t\tthis.request(\n\t\t\tthis.postReq({}, `/api/heart/${user.id}`),\n\t\t\t(res) => {\n\t\t\t\tif (res.data['success']) {\n\t\t\t\t\tdispatch({ type: 'success', results: { ...user, heartsNumber: user.heartsNumber + 1, heartIsGiven: true } })\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\treturnHurt(dispatch: React.Dispatch<Action<User>>, user: User) {\n\t\tthis.request(\n\t\t\tthis.delReq(`/api/heart/${user.id}`),\n\t\t\t(res) => {\n\t\t\t\tif (res.data['success']) {\n\t\t\t\t\tdispatch({ type: 'success', results: { ...user, heartsNumber: user.heartsNumber - 1, heartIsGiven: false } })\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default UserReducer\n","import React, { useState } from 'react'\nimport {\n\tBox,\n\tRadio,\n\tRadioGroup,\n\tFormControl,\n\tFormLabel,\n\tFormControlLabel,\n\tTextField,\n\tButton,\n\tGrid,\n\tTypography,\n} from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary'\nimport profileClasses from './styles'\nimport fields from './BasicFields'\nimport Interests from './Interests'\nimport LookingFor from './LookingFor'\nimport { Action } from '../../reducers/RequestReducer'\nimport UserReducer, { User } from '../../reducers/UserReducer'\n\nconst userReducer = new UserReducer()\n\ninterface Props {\n\tdispatch: React.Dispatch<Action<User>>\n\tuser: User\n\tsetEditable: React.Dispatch<React.SetStateAction<boolean>>\n}\n\ninterface TextMaskCustomProps {\n\tinputRef: (ref: HTMLInputElement | null) => void\n}\n\nconst Editable: React.FC<Props> = (props: Props) => {\n\tconst classes = profileClasses()\n\tconst { dispatch, user, setEditable } = props\n\tconst [profile, setProfile] = useState<User>({\n\t\t...user,\n\t\tinterests: user.interests.slice(),\n\t})\n\n\tconst changeProfileData = (prop: string) => (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetProfile({ ...profile, [prop]: event.target.value })\n\t}\n\n\tconst closeEditing = () => {\n\t\tdispatch({ type: 'success', results: user })\n\t\tsetEditable(false)\n\t}\n\n\tconst changeNumericData = (prop: string) => (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tvar re = new RegExp(/(^[-+]?\\d*\\.?\\d*$)/g)\n\t\tif (re.test(event.target.value)) setProfile({ ...profile, [prop]: event.target.value })\n\t}\n\n\treturn (\n\t\t<Box className={classes.profileCard}>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.visibleAvatarChange}`}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName={classes.profileAvatar}\n\t\t\t\t\t\t\tsrc={profile.avatar ? profile.avatar.normal : `/images/noavatar${profile.gender}.jpg`}\n\t\t\t\t\t\t\talt='Your avatar'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Link to='/gallery'>\n\t\t\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.profileAvatarChange}`}>\n\t\t\t\t\t\t\t\t<PhotoLibraryIcon className={classes.photoLibraryIcon} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={6} className={classes.basicInputFieldsContainer}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{fields.map((elem) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel={elem.name}\n\t\t\t\t\t\t\t\t\tonChange={changeProfileData(elem.key)}\n\t\t\t\t\t\t\t\t\tvalue={profile[elem.key]}\n\t\t\t\t\t\t\t\t\tkey={elem.key}\n\t\t\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<FormControl component='fieldset'>\n\t\t\t\t\t\t\t<FormLabel component='legend'>Choose your Gender</FormLabel>\n\t\t\t\t\t\t\t<RadioGroup aria-label='gender' value={profile.gender || ''} onChange={changeProfileData('gender')} row>\n\t\t\t\t\t\t\t\t{['male', 'female'].map((elem) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\tkey={'gender' + elem}\n\t\t\t\t\t\t\t\t\t\t\tvalue={elem}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\t\t\t\t\tlabel={elem}\n\t\t\t\t\t\t\t\t\t\t\tlabelPlacement='start'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl component='fieldset'>\n\t\t\t\t\t\t\t<FormLabel component='legend'>Your sexual preference</FormLabel>\n\t\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\t\taria-label='preferences'\n\t\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\t\tvalue={profile.preferences}\n\t\t\t\t\t\t\t\tonChange={changeProfileData('preferences')}>\n\t\t\t\t\t\t\t\t{['male', 'female', 'male and female'].map((elem) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\tkey={'pref' + elem}\n\t\t\t\t\t\t\t\t\t\t\tvalue={elem}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\t\t\t\t\tlabel={elem}\n\t\t\t\t\t\t\t\t\t\t\tlabelPlacement='start'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<TextField\n\t\t\t\tid='date'\n\t\t\t\tlabel='Birthday'\n\t\t\t\ttype='date'\n\t\t\t\tdefaultValue={profile.birth}\n\t\t\t\tonChange={changeProfileData('birth')}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Typography>Location</Typography>\n\t\t\t<Grid container>\n\t\t\t\t<Grid xs={4} item>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel={'Latitude'}\n\t\t\t\t\t\tonChange={changeNumericData('lat')}\n\t\t\t\t\t\tvalue={profile['lat']}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid xs={4} item>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel={'Longitude'}\n\t\t\t\t\t\tonChange={changeNumericData('lon')}\n\t\t\t\t\t\tvalue={profile['lon']}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid xs={4} item>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tuserReducer.getLocation(dispatch, (lat, lon) => setProfile({ ...profile, lat: lat, lon: lon }))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tstyle={{ margin: 'auto', paddingLeft: '1.5em' }}>\n\t\t\t\t\t\tDetect\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<LookingFor setProfile={setProfile} profile={profile} editable={true} />\n\t\t\t<Interests setProfile={setProfile} profile={profile} editable={true} />\n\t\t\t<Box textAlign='center'>\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t\tid='outlined-multiline-static'\n\t\t\t\t\tlabel='About'\n\t\t\t\t\tmultiline\n\t\t\t\t\trows='8'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tvalue={profile.biography}\n\t\t\t\t\tonChange={changeProfileData('biography')}\n\t\t\t\t/>\n\t\t\t\t<Button onClick={closeEditing} variant='outlined' className={classes.marginSm}>\n\t\t\t\t\t{'Close'}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tuserReducer.saveUser({ ...profile, interests: profile.interests, avatar: undefined }, dispatch, () =>\n\t\t\t\t\t\t\tsetEditable(false),\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tclassName={classes.marginSm}>\n\t\t\t\t\t{'Save'}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Editable\n","import * as React from 'react'\nimport { User } from '../reducers/UserReducer'\nimport { Action, State } from '../reducers/RequestReducer'\n\nconst ctxt = React.createContext<{ state: State<User>; dispatch: React.Dispatch<Action<User>> } | null>(null)\n\nexport const UserContextProvider = ctxt.Provider\n\nexport const UserContextConsumer = ctxt.Consumer\n","import React, { useState } from 'react'\nimport { Container } from '@material-ui/core'\n\nimport NotEditable from './NotEditable'\nimport Editable from './Editable'\nimport { UserContextConsumer } from '../../helpers/UserContextProvider'\n\nconst Profile: React.FC = () => {\n\tconst [editable, setEditable] = useState<boolean>(false)\n\n\treturn (\n\t\t<UserContextConsumer>\n\t\t\t{(ctx) =>\n\t\t\t\tctx && (\n\t\t\t\t\t<Container maxWidth='md'>\n\t\t\t\t\t\t{editable && ctx.state.status === 'success' && (\n\t\t\t\t\t\t\t<Editable user={ctx.state.data} dispatch={ctx.dispatch} setEditable={setEditable} />\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{!editable && ctx.state.status === 'success' && (\n\t\t\t\t\t\t\t<NotEditable user={ctx.state.data} setEditable={setEditable} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Container>\n\t\t\t\t)\n\t\t\t}\n\t\t</UserContextConsumer>\n\t)\n}\n\nexport default Profile\n","import RequesReduser, { Action } from './RequestReducer'\n\nexport type Image = {\n\tid: number\n\timage: {\n\t\tnormal: string\n\t\tthumbnail: string\n\t}\n}\n\nclass ImagesReducer extends RequesReduser<Image[]> {\n\tbaseUrl = '/api/image'\n\tgetImages(dispatch: React.Dispatch<Action<Image[]>>, url?: string) {\n\t\tthis.requestDefault(this.getReq(), dispatch)\n\t}\n\n\tgetImagesForSpecificUser(dispatch: React.Dispatch<Action<Image[]>>, username?: string) {\n\t\tthis.requestDefault(this.getReq('/api/image/' + username), dispatch)\n\t}\n\n\tuploadImage = (event: React.ChangeEvent<HTMLInputElement>, dispatch: React.Dispatch<Action<Image[]>>) => {\n\t\tconst elem = event.target\n\t\tif (elem.files) {\n\t\t\tconst fd = new FormData()\n\t\t\tfd.append('image', elem.files[0])\n\t\t\tthis.request(\n\t\t\t\tthis.postReq(fd),\n\t\t\t\t() => {\n\t\t\t\t\tthis.getImages(dispatch)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t\t},\n\t\t\t)\n\t\t}\n\t}\n\n\tdeleteImage = (id: number, dispatch: React.Dispatch<Action<Image[]>>) => {\n\t\tthis.request(\n\t\t\tthis.delReq(`/api/image/${id}`),\n\t\t\t() => {\n\t\t\t\tthis.getImages(dispatch)\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\tsetAvatar = (id: number, dispatch: React.Dispatch<Action<Image[]>>) => {\n\t\tthis.request(\n\t\t\tthis.putReq({ avatar: id }, '/api/user'),\n\t\t\t() => {\n\t\t\t\tthis.getImages(dispatch)\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default ImagesReducer\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tcard: {\n\t\t\tmarginTop: '1em',\n\t\t\tmarginBottom: '1em',\n\t\t\tpadding: '1em',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tmarginTop: '0.5em',\n\t\t\t\tmarginBottom: '0.5em',\n\t\t\t\tpadding: '0.5em',\n\t\t\t},\n\t\t},\n\t\timagesContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\troot: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcentered: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: '50%',\n\t\t\ttop: '50%',\n\t\t\tmsTransform: 'translateY(-50%)',\n\t\t\ttransform: 'translateX(-50%) translateY(-50%)',\n\t\t\twidth: 'fit-content',\n\t\t\theight: 'fit-content',\n\t\t},\n\t\timage: {\n\t\t\tdisplay: 'inline-block',\n\t\t\tfontSize: '12px',\n\t\t\tposition: 'relative',\n\t\t\theight: '20em',\n\t\t\tborder: `1px groove ${theme.palette.primary.main}`,\n\t\t\tmargin: '1.16%',\n\t\t\twidth: '31%',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\theight: '10em',\n\t\t\t\t'& $imageBackdrop': {\n\t\t\t\t\topacity: 0.25,\n\t\t\t\t},\n\t\t\t\t'& $thumbUp': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t\t'& $edit': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\t'& $imageBackdrop': {\n\t\t\t\t\topacity: 0.25,\n\t\t\t\t},\n\t\t\t\t'& $thumbUp': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t\t'& $edit': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\timageBackdrop: {\n\t\t\topacity: 0,\n\t\t\tbackgroundColor: 'black',\n\t\t},\n\t\timageButton: {\n\t\t\tposition: 'absolute',\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\timageSrc: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center 40%',\n\t\t},\n\t\tthumbUp: {\n\t\t\tright: '1em',\n\t\t\tbottom: '1em',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tright: '0.1em',\n\t\t\t\tbottom: '0.1em',\n\t\t\t},\n\t\t},\n\t\tedit: {\n\t\t\tright: '1em',\n\t\t\ttop: '1em',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tright: '0.1em',\n\t\t\t\ttop: '0.1em',\n\t\t\t},\n\t\t},\n\t\ticonButton: {\n\t\t\theight: '3em',\n\t\t\tposition: 'absolute',\n\t\t\tright: '1em',\n\t\t\tbottom: '1em',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tcolor: 'white',\n\t\t\tvisibility: 'hidden',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tright: '0.1em',\n\t\t\t\tbottom: '0.1em',\n\t\t\t\tvisibility: 'hidden',\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t\t},\n\t\t},\n\t\tthumbsCount: {\n\t\t\tmargin: '0.1em',\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React from 'react'\nimport { Button, Menu, MenuItem } from '@material-ui/core'\nimport EditIcon from '@material-ui/icons/Edit'\nimport { Action } from '../../reducers/RequestReducer'\nimport ImagesReducer, { Image } from '../../reducers/ImagesReducer'\nimport galleryMakeStyles from './styles'\n\nconst imagesReducer = new ImagesReducer()\n\ninterface Props {\n\tid: number\n\tdispatch: React.Dispatch<Action<Image[]>>\n}\n\nconst Edit: React.FC<Props> = (props: Props) => {\n\tconst classes = galleryMakeStyles()\n\n\tconst [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n\tconst isMenuOpen = Boolean(anchorEl)\n\n\tconst handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleMenuClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst renderMenu = (\n\t\t<Menu\n\t\t\tPaperProps={{\n\t\t\t\tstyle: {\n\t\t\t\t\tborder: '1px solid #d3d4d5',\n\t\t\t\t},\n\t\t\t\tonMouseLeave: handleMenuClose,\n\t\t\t}}\n\t\t\tanchorEl={anchorEl}\n\t\t\ttransformOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\tkeepMounted\n\t\t\topen={isMenuOpen}\n\t\t\tonClose={handleMenuClose}>\n\t\t\t<MenuItem onClick={() => imagesReducer.setAvatar(props.id, props.dispatch)}>Set as Avatar</MenuItem>\n\t\t\t<MenuItem onClick={() => imagesReducer.deleteImage(props.id, props.dispatch)}>Remove</MenuItem>\n\t\t</Menu>\n\t)\n\n\treturn (\n\t\t<Button\n\t\t\tkey={'edit'}\n\t\t\tsize='small'\n\t\t\tclassName={`${classes.iconButton} ${classes.edit}`}\n\t\t\tonClick={handleProfileMenuOpen}>\n\t\t\t<EditIcon />\n\t\t\t{renderMenu}\n\t\t</Button>\n\t)\n}\n\nexport default Edit\n","import React, { useEffect, useReducer } from 'react'\nimport { Container, Card, Tooltip, Button, Typography, Input } from '@material-ui/core'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\nimport ImagesReducer from '../../reducers/ImagesReducer'\nimport Edit from './Edit'\nimport galleryMakeStyles from './styles'\n\nconst imagesReducer = new ImagesReducer()\n\nconst Gallery: React.FC = () => {\n\tconst classes = galleryMakeStyles()\n\tconst [state, dispatch] = useReducer(imagesReducer.reducer, { status: 'loading' })\n\n\tuseEffect(() => {\n\t\timagesReducer.getImages(dispatch)\n\t}, [])\n\n\treturn (\n\t\t<Container>\n\t\t\t{state.status === 'success' && (\n\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t<Typography align='center'>Gallery</Typography>\n\t\t\t\t\t<div className={classes.imagesContainer}>\n\t\t\t\t\t\t<div className={classes.image}>\n\t\t\t\t\t\t\t<Tooltip title='Add new photo' aria-label='add'>\n\t\t\t\t\t\t\t\t<Button className={classes.centered} size='small' component='label'>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\t\t\t\t\t\tonChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n\t\t\t\t\t\t\t\t\t\t\timagesReducer.uploadImage(event, dispatch)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddCircleOutlineIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{state.data.map((image, idx) => (\n\t\t\t\t\t\t\t<div key={idx} className={classes.image}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={classes.imageSrc}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${image.image.thumbnail})`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className={`${classes.imageBackdrop} ${classes.imageSrc}`} />\n\t\t\t\t\t\t\t\t<Edit id={image.id} dispatch={dispatch} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</Container>\n\t)\n}\n\nexport default Gallery\n","import RequesReduser, { Action } from './RequestReducer'\nimport { User } from './UserReducer'\n\ninterface Results {\n\tusers: User[]\n\tpages: number\n}\nclass UserReducer extends RequesReduser<User[]> {\n\tbaseUrl = '/api/search'\n\n\tsearchUsers(dispatch: React.Dispatch<Action<User[]>>, query?: string) {\n\t\tthis.requestDefault(this.getReq(`/api/search?${query}`), dispatch)\n\t}\n}\n\nexport default UserReducer\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\twidth: '100%',\n\t\t\tmarginTop: 0,\n\t\t},\n\t\timage: {\n\t\t\tposition: 'relative',\n\t\t\theight: 200,\n\t\t\twidth: '31%',\n\t\t\tmargin: '1.16%',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\twidth: '47.6%',\n\t\t\t\theight: 100,\n\t\t\t},\n\t\t},\n\t\tfocusVisible: {},\n\t\timageButton: {\n\t\t\tposition: 'absolute',\n\t\t\t// left: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tdisplay: 'flex',\n\t\t\t// alignItems: 'center',\n\t\t\t// justifyContent: 'center',\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\timageSrc: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center 40%',\n\t\t},\n\t\timageTitle: {\n\t\t\tposition: 'relative',\n\t\t\tpadding: `${theme.spacing(1)}px ${theme.spacing(1)}px ${theme.spacing(1) + 6}px`,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tsearchFiltersContainer: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\t// padding: '0.5em',\n\t\t\t// height: '5em',\n\t\t\tzIndex: 1,\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React, { useEffect, useRef } from 'react'\nimport {\n\tBox,\n\tButtonBase,\n\tTypography,\n\tSlider,\n\tGrid,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tExpansionPanelDetails,\n\tExpansionPanelActions,\n\tButton,\n\tTextField,\n} from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport SearchReducer from '../../reducers/SearchReducer'\nimport { Link } from 'react-router-dom'\nimport styles from './styles'\n\nconst searchReducer = new SearchReducer()\n\nconst Search: React.FC = () => {\n\tconst classes = styles()\n\n\tconst [searchState, searchDispatch] = React.useReducer(searchReducer.reducer, { status: 'loading' })\n\tconst scrollEl = useRef<HTMLDivElement>(null)\n\tconst params = new URLSearchParams(window.location.search)\n\n\tconst [lookingFor, setLookingFor] = React.useState(params.get('lookingfor'))\n\tconst [interest, setInterest] = React.useState(params.get('interest'))\n\tconst [distance, setDistance] = React.useState(Number(params.get('distance')) || 10)\n\n\t// const pagesToshow = 1\n\n\tuseEffect(() => {\n\t\tconst current = scrollEl.current\n\t\tcurrent?.addEventListener('scroll', loadMore)\n\t\tsearchReducer.searchUsers(searchDispatch, window.location.search)\n\t\treturn () => current?.removeEventListener('scroll', loadMore)\n\t}, [])\n\n\tconst loadMore = () => {\n\t\tif (scrollEl.current) {\n\t\t\tconst scrollHeight = scrollEl.current.scrollHeight\n\t\t\tconst scrollTop = scrollEl.current.scrollTop + scrollEl.current.offsetHeight\n\t\t\tif (scrollHeight === scrollTop) {\n\t\t\t\t//load more\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction changeLocation() {\n\t\tif (lookingFor) {\n\t\t\tparams.set('lookingfor', lookingFor)\n\t\t} else {\n\t\t\tparams.delete('lookingfor')\n\t\t}\n\t\tif (interest) {\n\t\t\tparams.set('interest', interest)\n\t\t} else {\n\t\t\tparams.delete('interest')\n\t\t}\n\t\tif (distance) {\n\t\t\tparams.set('distance', String(distance))\n\t\t} else {\n\t\t\tparams.delete('distance')\n\t\t}\n\t\twindow.history.pushState({}, '', '/search?&' + params.toString())\n\t\tsearchReducer.searchUsers(searchDispatch, window.location.search)\n\t}\n\n\tfunction valuetext(value: number) {\n\t\treturn `${value}km`\n\t}\n\tconst changeDist = (num: number) => {\n\t\tsetDistance(num)\n\t}\n\treturn (\n\t\t<div ref={scrollEl}>\n\t\t\t<ExpansionPanel className={classes.searchFiltersContainer}>\n\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\texpandIcon={<ExpandMoreIcon style={{ color: 'white' }} />}\n\t\t\t\t\taria-controls='panel1a-content'\n\t\t\t\t\tid='panel1a-header'\n\t\t\t\t\tstyle={{ flexDirection: 'initial' }}>\n\t\t\t\t\t<Typography style={{ width: '100%', textAlign: 'right' }}>Search options</Typography>\n\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t<Typography id='discrete-slider' gutterBottom>\n\t\t\t\t\t\t\t\tDistance\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tvalue={distance}\n\t\t\t\t\t\t\t\tgetAriaValueText={valuetext}\n\t\t\t\t\t\t\t\taria-labelledby='discrete-slider'\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\tonChange={(e, val) => changeDist(Number(val))}\n\t\t\t\t\t\t\t\tmin={10}\n\t\t\t\t\t\t\t\tmax={1000}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t<Typography id='discrete-slider' gutterBottom>\n\t\t\t\t\t\t\t\tLookingFor\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\t\tvalue={lookingFor ? lookingFor : ''}\n\t\t\t\t\t\t\t\tonChange={(e) => setLookingFor(e.currentTarget.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t<Typography id='discrete-slider' gutterBottom>\n\t\t\t\t\t\t\t\tInterest\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\t\tvalue={interest ? interest : ''}\n\t\t\t\t\t\t\t\tonChange={(e) => setInterest(e.currentTarget.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ExpansionPanelActions>\n\t\t\t\t\t\t<Button size='small' variant='outlined' onClick={changeLocation}>\n\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ExpansionPanelActions>\n\t\t\t\t</ExpansionPanelDetails>\n\t\t\t</ExpansionPanel>\n\t\t\t<Box className={`${classes.root}`}>\n\t\t\t\t{searchState.status === 'success' &&\n\t\t\t\t\tsearchState.data.map((user, idx) => (\n\t\t\t\t\t\t<ButtonBase\n\t\t\t\t\t\t\tfocusRipple\n\t\t\t\t\t\t\tkey={'user' + idx}\n\t\t\t\t\t\t\tclassName={classes.image}\n\t\t\t\t\t\t\tfocusVisibleClassName={classes.focusVisible}>\n\t\t\t\t\t\t\t<Link to={user.username}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={classes.imageSrc}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${\n\t\t\t\t\t\t\t\t\t\t\tuser.avatar ? user.avatar?.thumbnail : `/images/noavatar${user.gender}.jpg`\n\t\t\t\t\t\t\t\t\t\t})`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className={classes.imageButton}>\n\t\t\t\t\t\t\t\t\t<Typography component='span' variant='subtitle1' color='inherit' className={classes.imageTitle}>\n\t\t\t\t\t\t\t\t\t\t{user.firstName + ' ' + user.lastName}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</ButtonBase>\n\t\t\t\t\t))}\n\t\t\t\t{searchState.status === 'loading' &&\n\t\t\t\t\t[...Array(9)].map((e, i) => (\n\t\t\t\t\t\t<Skeleton key={'skel' + i} variant='rect' className={classes.image} style={{ backgroundColor: 'gray' }} />\n\t\t\t\t\t))}\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default Search\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tuser: {},\n\t\timagesList: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'space-around',\n\t\t\toverflow: 'hidden',\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t\tmarginTop: '1em',\n\t\t},\n\t\tgridList: {\n\t\t\tflexWrap: 'nowrap',\n\t\t\t// Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n\t\t\ttransform: 'translateZ(0)',\n\t\t},\n\t\ttitle: {\n\t\t\tcolor: theme.palette.primary.light,\n\t\t},\n\t\ttitleBar: {\n\t\t\tbackground: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React, { useEffect, useReducer } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { Grid, Chip, Typography, CardMedia, GridList, GridListTile, IconButton } from '@material-ui/core'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport { UserContextConsumer } from '../../helpers/UserContextProvider'\nimport UserReducer from '../../reducers/UserReducer'\nimport ImagesReducer from '../../reducers/ImagesReducer'\nimport makeProfileStyles from '../profile/styles'\nimport makeStyles from './styles'\n\nconst userReducer = new UserReducer()\nconst imagesReducer = new ImagesReducer()\n\nconst UserPage: React.FC = () => {\n\tconst { user } = useParams()\n\tconst [userState, userDispatch] = useReducer(userReducer.reducer, { status: 'loading' })\n\tconst [imagesState, imagesDispatch] = useReducer(imagesReducer.reducer, { status: 'loading' })\n\n\tconst classes = makeStyles()\n\tconst profileStyles = makeProfileStyles()\n\n\tuseEffect(() => {\n\t\tuserReducer.getUser(userDispatch, user)\n\t\timagesReducer.getImagesForSpecificUser(imagesDispatch, user)\n\t}, [user])\n\n\treturn (\n\t\t<UserContextConsumer>\n\t\t\t{(ctx) =>\n\t\t\t\tctx?.state.status === 'success' &&\n\t\t\t\tuserState.status === 'success' && (\n\t\t\t\t\t<Grid container style={{ height: 'inherit', width: '100%', padding: '2em' }} spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\timage={\n\t\t\t\t\t\t\t\t\tuserState.data.avatar ? userState.data.avatar.normal : `/images/noavatar${userState.data.gender}.jpg`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstyle={{ paddingTop: '150%' }}></CardMedia>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t\t<div style={{ display: 'flex', fontSize: '1.8em', lineHeight: '1.5em' }}>\n\t\t\t\t\t\t\t\t<Typography variant='h4' style={{ fontWeight: 'bold' }}>\n\t\t\t\t\t\t\t\t\t{`${userState.data.firstName}, ${userState.data.age}`}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div style={{ flexGrow: 1 }}></div>\n\t\t\t\t\t\t\t\t{userState.data.heartsNumber}\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '-12px' }}\n\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\tuserState.data.heartIsGiven\n\t\t\t\t\t\t\t\t\t\t\t? () => userReducer.returnHurt(userDispatch, userState.data)\n\t\t\t\t\t\t\t\t\t\t\t: () => userReducer.giveHurt(userDispatch, userState.data)\n\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t<FavoriteBorderIcon\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\twidth: '1.5em',\n\t\t\t\t\t\t\t\t\t\t\theight: '1.5em',\n\t\t\t\t\t\t\t\t\t\t\tcolor: userState.data.heartIsGiven ? '#d73652' : '#fff',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Typography style={{ borderBottom: '2px solid #28272c', paddingBottom: '1em' }}>\n\t\t\t\t\t\t\t\t<LocationOnIcon />{' '}\n\t\t\t\t\t\t\t\t{userReducer.getDistanse(\n\t\t\t\t\t\t\t\t\tctx.state.data.lat,\n\t\t\t\t\t\t\t\t\tctx.state.data.lon,\n\t\t\t\t\t\t\t\t\tuserState.data.lat,\n\t\t\t\t\t\t\t\t\tuserState.data.lon,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{' km away'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant='h5' style={{ color: '#908f96', marginTop: '1em' }}>\n\t\t\t\t\t\t\t\tLooking for\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{userState.data.lookingFor.map((data) => {\n\t\t\t\t\t\t\t\treturn <Chip key={data} label={data} className={profileStyles.chip} />\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t<Typography variant='h5' style={{ color: '#908f96', marginTop: '1em' }}>\n\t\t\t\t\t\t\t\tAbout\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>{userState.data.biography}</Typography>\n\t\t\t\t\t\t\t{imagesState.status === 'success' && (\n\t\t\t\t\t\t\t\t<div className={classes.imagesList}>\n\t\t\t\t\t\t\t\t\t<GridList className={classes.gridList} cols={3}>\n\t\t\t\t\t\t\t\t\t\t{imagesState.data.map((img) => (\n\t\t\t\t\t\t\t\t\t\t\t<GridListTile key={img.id} style={{ height: '10em' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={img.image.thumbnail} alt={''} />\n\t\t\t\t\t\t\t\t\t\t\t</GridListTile>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GridList>\n\t\t\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ color: '#908f96', fontSize: '0.8rem', textTransform: 'uppercase' }}>\n\t\t\t\t\t\t\t\t\t\t\t\tRelationship\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>It's complicated</Typography>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ color: '#908f96', fontSize: '0.8rem', textTransform: 'uppercase' }}>\n\t\t\t\t\t\t\t\t\t\t\t\tInterests\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t{userState.data.interests.map((data, idx) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={idx} style={{ marginRight: '0.2em' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t#{data}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)\n\t\t\t}\n\t\t</UserContextConsumer>\n\t)\n}\n\nexport default UserPage\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tgrow: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tappBar: {\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tboxShadow: 'none',\n\t\t\tzIndex: 2,\n\t\t},\n\t\tmenuList: {\n\t\t\tpadding: 0,\n\t\t},\n\t\ticonButton: {\n\t\t\tborderRadius: '0.1em',\n\t\t\tpadding: '1em',\n\t\t\twidth: '100%',\n\t\t\tjustifyContent: 'start',\n\t\t},\n\t\tlink: {\n\t\t\ttextDecoration: 'none',\n\t\t\tcolor: theme.palette.text.primary,\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React from 'react'\nimport { AppBar, Toolbar, Typography, Menu, Avatar, IconButton, Hidden } from '@material-ui/core/'\n\nimport axios from 'axios'\nimport appBarMakeStyles from './styles'\nimport { Link } from 'react-router-dom'\nimport { UserContextConsumer } from '../../helpers/UserContextProvider'\nimport ChatIcon from '@material-ui/icons/Chat'\nimport { Button } from '@material-ui/core'\nimport { CookieManager } from '../../helpers/CoookieManager'\n\ninterface Props {\n\tsetMobileChatlist: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nconst PrimaryAppBar: React.FC<Props> = (props: Props) => {\n\tconst classes = appBarMakeStyles()\n\tconst { setMobileChatlist } = props\n\tconst [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n\n\tconst handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleLogOut = () => {\n\t\tsetAnchorEl(null)\n\t\taxios\n\t\t\t.post('/api/auth/logout')\n\t\t\t.then(function (res) {\n\t\t\t\tCookieManager.setAuthorized(false)\n\t\t\t\twindow.location.reload()\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\t// props.setErrors({ username: error })\n\t\t\t})\n\t}\n\n\tconst menuList = (\n\t\t<UserContextConsumer>\n\t\t\t{(ctx) =>\n\t\t\t\tctx?.state.status === 'success' && (\n\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t\t\t\t<Link to={ctx.state.data.username} className={classes.link} onClick={handleClose}>\n\t\t\t\t\t\t\t<Button className={classes.iconButton} color='inherit'>\n\t\t\t\t\t\t\t\t{'My profile'}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to='/profile' className={classes.link} onClick={handleClose}>\n\t\t\t\t\t\t\t<Button className={classes.iconButton} color='inherit'>\n\t\t\t\t\t\t\t\t{'Settings'}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Button className={classes.iconButton} color='inherit' onClick={handleLogOut}>\n\t\t\t\t\t\t\t{'Exit'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</UserContextConsumer>\n\t)\n\treturn (\n\t\t<UserContextConsumer>\n\t\t\t{(ctx) =>\n\t\t\t\tctx?.state.status === 'success' && (\n\t\t\t\t\t<AppBar position='static' className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t<IconButton onClick={() => setMobileChatlist(true)}>\n\t\t\t\t\t\t\t\t\t<ChatIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Link to='/search' className={classes.link}>\n\t\t\t\t\t\t\t\t<Typography variant='h3'>Matcha</Typography>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<div className={classes.grow} />\n\t\t\t\t\t\t\t<div onClick={handleClick}>\n\t\t\t\t\t\t\t\t<Avatar alt='Avatar' src={ctx.state.data.avatar?.thumbnail} style={{ cursor: 'pointer' }} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Menu id='simple-menu' anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose}>\n\t\t\t\t\t\t\t\t{menuList}\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t)\n\t\t\t}\n\t\t</UserContextConsumer>\n\t)\n}\n\nexport default PrimaryAppBar\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tchatsList: { paddingLeft: '1em', minWidth: '18em' },\n\t\tchatListHeader: { position: 'static', minHeight: '64px', marginBottom: '1.5em', display: 'flex' },\n\t\tchatItem: {\n\t\t\tdisplay: 'flex',\n\t\t\ttextAlign: 'left',\n\t\t\tjustifyContent: 'flex-start',\n\t\t\twidth: '100%',\n\t\t\tmarginBottom: '1.5em',\n\t\t},\n\t\tchatItemAvatar: {\n\t\t\twidth: '3.5em',\n\t\t\theight: '3.5em',\n\t\t\tmarginRight: '0.5em',\n\t\t},\n\t\tchatName: { fontSize: '1rem' },\n\t\tchatTime: { color: '#94929c', fontSize: '0.7rem' },\n\t\tchatMessage: {\n\t\t\tfontSize: '0.8rem',\n\t\t\toverflow: 'hidden',\n\t\t\ttextOverflow: 'ellipsis',\n\t\t\twhiteSpace: 'nowrap',\n\t\t\tmarginLeft: '0.2em',\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React from 'react'\nimport { Box, Typography, Avatar, ButtonBase } from '@material-ui/core/'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\nimport { Chat } from '../../reducers/ChatListReducer'\nimport { State } from '../../reducers/RequestReducer'\nimport styles from './chatsListStyles'\n\ninterface Props {\n\tsetChat: React.Dispatch<React.SetStateAction<Chat | null>>\n\tchatListState: State<Chat[]>\n\tsetMobileChatlist?: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nconst ChatList: React.FC<Props> = (props: Props) => {\n\tconst cl = styles()\n\tconst { setChat, chatListState, setMobileChatlist } = props\n\n\tconst handleChatSelection = (chat: Chat) => {\n\t\tif (setMobileChatlist) setMobileChatlist(false)\n\t\tsetChat(chat)\n\t}\n\n\treturn (\n\t\t<Box className={cl.chatsList}>\n\t\t\t<Box className={cl.chatListHeader}>\n\t\t\t\t<Typography variant='h5' style={{ alignSelf: 'center' }}>\n\t\t\t\t\tMessages\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t{chatListState.status === 'success' &&\n\t\t\t\t\tchatListState.data.map((chat, idx) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ButtonBase className={cl.chatItem} key={idx} onClick={() => handleChatSelection(chat)}>\n\t\t\t\t\t\t\t\t<Avatar className={cl.chatItemAvatar} alt='avatar' src={chat.interlocutorAvatar} />\n\t\t\t\t\t\t\t\t<Box style={{ overflow: 'hidden' }}>\n\t\t\t\t\t\t\t\t\t<Typography className={cl.chatName}>{chat.interlocutorName}</Typography>\n\t\t\t\t\t\t\t\t\t<Typography className={cl.chatTime}>\n\t\t\t\t\t\t\t\t\t\t{chat.lastMsg?.time ? new Date(chat.lastMsg.time).toLocaleString() : ''}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Box style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t\t{chat.interlocutorId === chat.lastMsg?.senderId && <ArrowBackIcon fontSize='small' />}\n\t\t\t\t\t\t\t\t\t\t{/* {chat.msgStatus === 'unreaded' && <FiberManualRecordIcon fontSize='small' color='error' />} */}\n\t\t\t\t\t\t\t\t\t\t<Typography className={cl.chatMessage}>{chat.lastMsg?.text || 'No messages'}</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ButtonBase>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default ChatList\n","import RequesReduser, { Action } from './RequestReducer'\n\nexport type Message = {\n\tid?: number\n\tchatId: number\n\tsenderId?: number\n\tmessage: string\n\ttime?: Date\n}\n\nclass MessageReducer extends RequesReduser<Message[]> {\n\tbaseUrl = '/api/message'\n\tgetMessages(dispatch: React.Dispatch<Action<Message[]>>, chatId: number, onSuccess: () => void) {\n\t\tthis.request(\n\t\t\tthis.getReq(`/api/message/chat/${chatId}`),\n\t\t\t(res) => {\n\t\t\t\tdispatch({ type: 'success', results: res['data']['data'] })\n\t\t\t\tonSuccess()\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default MessageReducer\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tchatBox: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tzIndex: 2,\n\t\t},\n\t\tmessageBox: {\n\t\t\toverflowY: 'scroll',\n\t\t\tpaddingLeft: 20,\n\t\t\tpaddingRight: 20,\n\t\t\theight: 'calc(100% - 14em)',\n\t\t},\n\t\tclose: {\n\t\t\tdisplay: 'flex',\n\t\t\tpadding: '0.8em',\n\t\t\tborderBottom: '1px solid #c4c4c480',\n\t\t\tmarginBottom: '0.5em',\n\t\t},\n\t\tmessage: {\n\t\t\tposition: 'relative',\n\t\t\tmarginBottom: '10px',\n\t\t\tpadding: '10px',\n\t\t\ttextAlign: 'left',\n\t\t\tfont: \"400 .9em 'Open Sans', sans-serif\",\n\t\t\tborderRadius: '10px',\n\t\t},\n\t\tleftMessage: {\n\t\t\tmarginRight: '20px',\n\t\t\tbackgroundColor: '#24232a',\n\t\t},\n\t\trightMessage: {\n\t\t\tmarginLeft: '20px',\n\t\t\tbackgroundColor: '#e92d41',\n\t\t},\n\t\tmessageContent: {\n\t\t\tpadding: '0',\n\t\t\tmargin: '0',\n\t\t},\n\t\tmessageInput: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tpadding: 10,\n\t\t\tfont: \"400 .9em 'Open Sans', sans-serif\",\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport Box from '@material-ui/core/Box'\nimport IconButton from '@material-ui/core/IconButton'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Avatar from '@material-ui/core/Avatar'\nimport SendIcon from '@material-ui/icons/Send'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport MessagesReducer from '../../reducers/MessagesReducer'\nimport { SocketManager } from '../../helpers/SocketManager'\nimport { Chat } from '../../reducers/ChatListReducer'\nimport styles from './chatBoxStyles'\n\ninterface Props {\n\tchat: Chat\n\tsetChat: React.Dispatch<React.SetStateAction<Chat | null>>\n\tsocketManager: SocketManager\n}\n\nconst messageReducer = new MessagesReducer()\n\nconst ChatBox: React.FC<Props> = (props: Props) => {\n\tconst classes = styles()\n\tconst { chat, setChat, socketManager } = props\n\tconst [newMessage, setNewMessage] = React.useState('')\n\tconst messagesEndRef = React.useRef<HTMLDivElement>(null)\n\tconst [messageState, messageDispatch] = React.useReducer(messageReducer.reducer, { status: 'loading' })\n\n\tconst scrollToBottom = (smooth: boolean) => {\n\t\tif (messagesEndRef && messagesEndRef.current) {\n\t\t\tif (smooth) messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n\t\t\telse messagesEndRef.current.scrollIntoView()\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\tmessageReducer.getMessages(messageDispatch, chat.id, () => {\n\t\t\tscrollToBottom(false)\n\t\t})\n\n\t\tsocketManager.socket.on('messageSent', (data: any) => {\n\t\t\tsetNewMessage('')\n\t\t\tmessageDispatch({ type: 'success', results: data })\n\t\t\tscrollToBottom(true)\n\t\t})\n\t\tsocketManager.socket.on('message', (data: any) => {\n\t\t\tmessageDispatch({ type: 'success', results: data })\n\t\t\tscrollToBottom(true)\n\t\t})\n\n\t\treturn () => {\n\t\t\tsocketManager.socket.removeListener('message')\n\t\t\tsocketManager.socket.removeListener('messageSent')\n\t\t}\n\t}, [chat, socketManager.socket])\n\n\tconst sendMsg = () => {\n\t\tconst res = newMessage.replace(/(\\r\\n|\\n|\\r)/gm, '')\n\t\tsetNewMessage(res)\n\t\tif (res.length > 0) socketManager.sendMessage({ chatId: chat.id, receiverId: chat.interlocutorId, text: res })\n\t}\n\n\tconst runFuncOnEnter = (func: () => void) => (e: React.KeyboardEvent) => {\n\t\tif (e.keyCode === 13) {\n\t\t\tfunc()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Card className={classes.chatBox}>\n\t\t\t<Box className={classes.close}>\n\t\t\t\t<Avatar src={chat.interlocutorAvatar} style={{ width: '3em', height: '3em' }} />\n\t\t\t\t<Typography variant='h6' style={{ padding: '0.5em' }}>\n\t\t\t\t\t{chat.interlocutorName}\n\t\t\t\t</Typography>\n\t\t\t\t<div style={{ flexGrow: 1 }}></div>\n\t\t\t\t<IconButton style={{ width: '2em', height: '2em' }} onClick={() => setChat(null)}>\n\t\t\t\t\t<CloseIcon fontSize='default' />\n\t\t\t\t</IconButton>\n\t\t\t</Box>\n\t\t\t<Box color='text.primary' className={classes.messageBox}>\n\t\t\t\t{messageState.status === 'loading' && <div>loading..</div>}\n\t\t\t\t{messageState.status === 'success' &&\n\t\t\t\t\tmessageState.data.map((elem, idx) => {\n\t\t\t\t\t\tconst msgStyle = chat.interlocutorId === elem.senderId ? classes.leftMessage : classes.rightMessage\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={`${classes.message} ${msgStyle}`} key={'msg' + idx}>\n\t\t\t\t\t\t\t\t<Typography className={classes.messageContent}>{elem.message}</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t<div ref={messagesEndRef} />\n\t\t\t</Box>\n\t\t\t<TextField\n\t\t\t\tplaceholder='Enter your message'\n\t\t\t\tclassName={classes.messageInput}\n\t\t\t\tmultiline={true}\n\t\t\t\tvariant='outlined'\n\t\t\t\trowsMax='4'\n\t\t\t\tvalue={newMessage}\n\t\t\t\tonChange={(e) => setNewMessage(e.target.value)}\n\t\t\t\tonKeyDown={runFuncOnEnter(sendMsg)}\n\t\t\t\tInputProps={{\n\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t<IconButton onClick={sendMsg}>\n\t\t\t\t\t\t\t<SendIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Card>\n\t)\n}\n\nexport default ChatBox\n","import io from 'socket.io-client'\n\nexport class SocketManager {\n\taddress = process.env.REACT_APP_SOCKET_SERVER || 'http://localhost:5001'\n\tsocket: SocketIOClient.Socket = io(this.address)\n\n\tconstructor() {\n\t\tthis.socket.on('error', function (err: any) {})\n\n\t\tthis.socket.on('connect', function () {\n\t\t\t// socket successfuly connected!\n\t\t})\n\t}\n\n\tsendMessage(message: { chatId: number; receiverId: number; text: string }) {\n\t\tthis.socket.emit('message', message)\n\t}\n}\n","import RequesReduser, { Action } from './RequestReducer'\n\ntype MsgStatus = 'sended' | 'readed' | 'unreaded'\n\nexport type Chat = {\n\tid: number\n\tinterlocutorId: number\n\tinterlocutorName: string\n\tinterlocutorAvatar?: string\n\tlastMsg?:\n\t\t| {\n\t\t\t\tsenderId: number\n\t\t\t\ttext: string\n\t\t\t\ttime: Date\n\t\t  }\n\t\t| undefined\n}\n\nclass ChatListReducer extends RequesReduser<Chat[]> {\n\tbaseUrl = '/api/chat'\n\tgetChats(dispatch: React.Dispatch<Action<Chat[]>>, onSuccess: () => void) {\n\t\tthis.request(\n\t\t\tthis.getReq(),\n\t\t\t(res) => {\n\t\t\t\tdispatch({ type: 'success', results: res['data']['data'] })\n\t\t\t\tonSuccess()\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default ChatListReducer\n","import React from 'react'\nimport { Route } from 'react-router-dom'\nimport PrimaryAppBar from '../layout/PrimaryAppBar'\nimport UserReducer from '../../reducers/UserReducer'\nimport { Chat } from '../../reducers/ChatListReducer'\nimport { UserContextProvider } from '../../helpers/UserContextProvider'\nimport ChatList from '../chat/index'\nimport ChatBox from '../chat/ChatBox'\nimport { Grid, Card, Container, Hidden, SwipeableDrawer } from '@material-ui/core'\n\nimport { SocketManager } from '../../helpers/SocketManager'\nimport ChatListReducer from '../../reducers/ChatListReducer'\n\nimport mainStyles from '../../styles'\n\nconst userReducer = new UserReducer()\nconst socketManager = new SocketManager()\nconst chatListReducer = new ChatListReducer()\n\ninterface Props {\n\tpath: string\n\tcomponent: React.FC\n}\n\nconst PrivateLayout: React.FC<Props> = (props: Props) => {\n\tconst [state, dispatch] = React.useReducer(userReducer.reducer, { status: 'loading' })\n\tconst [chat, setChat] = React.useState<Chat | null>(null)\n\tconst [mobileChatlist, setMobileChatlist] = React.useState<boolean>(false)\n\tconst [chatListState, chatListDispatch] = React.useReducer(chatListReducer.reducer, { status: 'loading' })\n\n\tconst mainClasses = mainStyles()\n\tReact.useEffect(() => {\n\t\tuserReducer.getUser(dispatch)\n\t\tchatListReducer.getChats(chatListDispatch, () => {\n\t\t\tsocketManager.socket.on('chatlist', (data: any) => {\n\t\t\t\tchatListReducer.getChats(chatListDispatch, () => {})\n\t\t\t})\n\t\t})\n\n\t\treturn () => {\n\t\t\tsocketManager.socket.removeListener('chatlist')\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<UserContextProvider value={{ state, dispatch }}>\n\t\t\t\t{/* <SocketContextProvider value={{ socket: socketManager }}> */}\n\t\t\t\t<Container style={{ paddingTop: '0.5em', paddingBottom: '0.5em' }}>\n\t\t\t\t\t<Card style={{ border: '1px solid bisque' }}>\n\t\t\t\t\t\t<Grid container style={{ height: 'calc(100vh - 2em)' }}>\n\t\t\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t\t\t<Grid item md={3} style={{ borderRight: '1px solid bisque' }}>\n\t\t\t\t\t\t\t\t\t<ChatList setChat={setChat} chatListState={chatListState} />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t<SwipeableDrawer\n\t\t\t\t\t\t\t\t\tanchor={'left'}\n\t\t\t\t\t\t\t\t\topen={mobileChatlist}\n\t\t\t\t\t\t\t\t\tonClose={() => setMobileChatlist(false)}\n\t\t\t\t\t\t\t\t\tonOpen={() => setMobileChatlist(true)}>\n\t\t\t\t\t\t\t\t\t<ChatList setChat={setChat} chatListState={chatListState} setMobileChatlist={setMobileChatlist} />\n\t\t\t\t\t\t\t\t</SwipeableDrawer>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Route path={props.path}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={9} className={mainClasses.rightScrollingContainer}>\n\t\t\t\t\t\t\t\t\t<PrimaryAppBar setMobileChatlist={setMobileChatlist} />\n\t\t\t\t\t\t\t\t\t{chat ? <ChatBox chat={chat} setChat={setChat} socketManager={socketManager} /> : ''}\n\t\t\t\t\t\t\t\t\t<div style={{ height: 'calc(100% - 5em)', overflowY: 'scroll' }}>\n\t\t\t\t\t\t\t\t\t\t<props.component />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Card>\n\t\t\t\t</Container>\n\t\t\t\t{/* </SocketContextProvider> */}\n\t\t\t</UserContextProvider>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default PrivateLayout\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { CookieManager } from './CoookieManager'\nimport PrivateLayout from '../components/app/UserLayout'\n\ninterface Props {\n\tpath: string\n\tcomponent: React.FC\n}\n\nconst PrivateRoute: React.FC<Props> = (props: Props) => {\n\treturn CookieManager.isAuthorized() ? (\n\t\t<PrivateLayout component={props.component} path={props.path} />\n\t) : (\n\t\t<Redirect to='/login' />\n\t)\n}\n\nexport default PrivateRoute\n","import { createMuiTheme, Theme } from '@material-ui/core/styles'\nimport { PaletteOptions } from '@material-ui/core/styles/createPalette'\n\nexport type Palette = 'light' | 'dark'\nfunction getPalette(name: Palette): PaletteOptions {\n\tswitch (name) {\n\t\tcase 'light':\n\t\t\treturn {\n\t\t\t\tprimary: {\n\t\t\t\t\tmain: '#FE5D26',\n\t\t\t\t},\n\t\t\t\tsecondary: {\n\t\t\t\t\tmain: '#19857b',\n\t\t\t\t},\n\t\t\t\tbackground: {\n\t\t\t\t\tdefault: '#fff',\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\tprimary: '#1a191e',\n\t\t\t\t},\n\t\t\t}\n\t\tcase 'dark':\n\t\t\treturn {\n\t\t\t\tprimary: {\n\t\t\t\t\tmain: '#FE5D26',\n\t\t\t\t},\n\t\t\t\tsecondary: {\n\t\t\t\t\tmain: '#19857b',\n\t\t\t\t},\n\t\t\t\tbackground: {\n\t\t\t\t\tdefault: '#1a191e',\n\t\t\t\t\tpaper: '#1a191e',\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\tprimary: '#fff',\n\t\t\t\t\tsecondary: 'rgba(255, 255, 255, 0.7)',\n\t\t\t\t\tdisabled: 'rgba(255, 255, 255, 0.5)',\n\t\t\t\t\thint: 'rgba(255, 255, 255, 0.5)',\n\t\t\t\t},\n\t\t\t}\n\t}\n}\n\n// nice grey #f5f5f5\n\nconst useTheme = (palette: Palette) => (): Theme => {\n\tconst paletteOptions = getPalette(palette)\n\treturn createMuiTheme({\n\t\tpalette: paletteOptions,\n\t\ttypography: {\n\t\t\tfontFamily: ['Roboto', 'Helvetica', 'Arial'].join(','), //'Dancing Script'\n\t\t\tfontSize: 13,\n\t\t},\n\t\toverrides: {\n\t\t\tMuiIconButton: {\n\t\t\t\troot: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.19)',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiOutlinedInput: {\n\t\t\t\tnotchedOutline: {\n\t\t\t\t\tborderColor: 'bisque',\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiButton: {\n\t\t\t\tcontained: {\n\t\t\t\t\tbackground: 'linear-gradient(45deg, #FE5D26 30%, #FF8E53 90%)',\n\t\t\t\t\tcolor: 'white',\n\t\t\t\t},\n\t\t\t\toutlined: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: '#1a191e',\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t},\n\t\t\t\troot: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\tbackgroundColor: '#49484a',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiChip: {\n\t\t\t\troot: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: '#FE5D26',\n\t\t\t\t},\n\t\t\t\toutlined: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: '#FE5D26',\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiPaper: {\n\t\t\t\toutlined: {\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiTypography: {\n\t\t\t\th3: {\n\t\t\t\t\tfontFamily: 'Dancing Script',\n\t\t\t\t\tfontSize: '34px',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n}\n\nexport default useTheme\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/app'\n\nReactDOM.render(<App />, document.querySelector('#root'))\n","import React from 'react'\nimport SingIn from '../auth/SignIn'\nimport SingUp from '../auth/SignUp'\nimport VerifyEmail from '../auth/VerifyEmail'\nimport GuestRoute from '../../helpers/GuestRoute'\nimport Profile from '../profile'\nimport Gallery from '../gallery'\nimport Search from '../search'\nimport UserPage from '../userpage'\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport PrivateRoute from '../../helpers/PrivateRoute'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { ThemeProvider } from '@material-ui/core/styles'\n\nimport useTheme, { Palette } from '../../theme'\n\nexport default function App() {\n\tconst colorTheme: Palette = 'dark'\n\n\tconst theme = React.useMemo(useTheme(colorTheme), [colorTheme])\n\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<CssBaseline />\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' exact component={SingIn}>\n\t\t\t\t\t\t<GuestRoute path='/' component={SingIn} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<GuestRoute path='/login' component={SingIn} />\n\t\t\t\t\t<GuestRoute path='/register' component={SingUp} />\n\t\t\t\t\t<GuestRoute path='/verify/:userid/:uuid' component={VerifyEmail} />\n\t\t\t\t\t<PrivateRoute path='/profile' component={Profile} />\n\t\t\t\t\t<PrivateRoute path='/search' component={Search} />\n\t\t\t\t\t<PrivateRoute path='/gallery' component={Gallery} />\n\t\t\t\t\t<PrivateRoute path='/:user' component={UserPage} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</ThemeProvider>\n\t)\n}\n"],"sourceRoot":""}