{"version":3,"sources":["styles.tsx","components/reusableComponents/TextFieldWithIcon.tsx","components/auth/SignIn.tsx","components/auth/SignUp.tsx","components/auth/VerifyEmail.tsx","helpers/getJwt.tsx","components/layout/styles.tsx","helpers/UserContextProvider.tsx","components/layout/PrimaryAppBar.tsx","helpers/GuestRoute.tsx","components/profile/styles.tsx","components/profile/BasicFields.tsx","components/profile/Interests.tsx","components/profile/LookingFor.tsx","components/profile/NotEditable.tsx","reducers/RequestReducer.tsx","reducers/UserReducer.tsx","components/profile/Editable.tsx","components/profile/index.tsx","reducers/ImagesReducer.tsx","components/gallery/styles.tsx","components/gallery/Edit.tsx","components/gallery/index.tsx","reducers/SearchReducer.tsx","components/search/styles.tsx","components/search/index.tsx","components/userpage/styles.tsx","components/userpage/index.tsx","reducers/ChatListReducer.tsx","components/chat/chatsListStyles.tsx","components/chat/index.tsx","reducers/MessagesReducer.tsx","components/chat/chatBoxStyles.tsx","components/chat/ChatBox.tsx","helpers/SocketManager.tsx","components/app/UserLayout.tsx","helpers/PrivateRoute.tsx","theme.tsx","index.tsx","components/app/index.tsx"],"names":["styles","makeStyles","theme","createStyles","h1","marginTop","fontWeight","fontSize","root","display","flexWrap","justifyContent","backgroundSize","backgroundPosition","sectionDesktop","breakpoints","up","sectionMobile","rightScrollingContainer","height","overflow","position","TextFieldWithIcon","props","React","useState","values","Grid","container","alignItems","item","xs","icon","TextField","label","type","name","fullWidth","onChange","handleChange","onBlur","handleBlur","SignIn","withFormik","mapPropsToValues","username","password","remember","validationSchema","Yup","shape","required","min","handleSubmit","axios","post","then","res","setStatus","setErrors","setSubmitting","catch","error","response","touched","errors","isSubmitting","classes","status","to","Fragment","Container","maxWidth","Typography","variant","className","AccountCircleOutlinedIcon","LockOutlinedIcon","Button","disabled","style","Box","m","textAlign","Link","component","SignUp","email","firstName","lastName","birth","gender","console","log","MailOutlineIcon","Filter1OutlinedIcon","Filter2OutlinedIcon","id","InputLabelProps","shrink","src","alt","width","RadioGroup","aria-label","row","borderBottom","map","elem","FormControlLabel","key","value","control","Radio","color","labelPlacement","mt","useStyles","VerifyEmail","params","useParams","success","undefined","msg","responded","setProps","get","userid","uuid","Alert","severity","CircularProgress","isUser","Cookie","grow","flexGrow","appBar","backgroundColor","palette","background","default","boxShadow","zIndex","iconButton","borderRadius","link","textDecoration","text","primary","ctxt","UserContextProvider","Provider","UserContextConsumer","Consumer","PrimaryAppBar","appBarMakeStyles","ctx","state","AppBar","Toolbar","IconButton","data","GuestRoute","path","marginSm","margin","spacing","paddingSm","padding","profileAvatar","down","visibleAvatarChange","visibility","profileAvatarChange","photoLibraryIcon","profileTextField","marginBottom","paddingBottom","profileCard","basicInputFieldsContainer","paddingTop","alignSelf","chip","fields","Interests","func","setProfile","profile","editable","profileClasses","interestsDialog","setInterestsDialog","newInterest","setNewInterest","interestDialogClose","addInterest","arr","interests","push","Chip","onDelete","interest","filter","clickable","onClick","Dialog","onClose","aria-labelledby","open","DialogContent","dividers","event","val","target","onKeyDown","e","keyCode","autoFocus","InputProps","startAdornment","InputAdornment","size","LookingFor","lookingForDialog","setlookingForDialog","lookingFor","NotEditable","user","setEditable","md","avatar","normal","align","preferences","Date","toLocaleDateString","year","month","day","lat","lon","biography","RequesReduser","baseUrl","reducer","action","results","reqConfig","dispatch","message","successCb","errorCb","url","this","method","UserReducer","request","getReq","formatDate","err","onSuccess","putReq","date","d","Intl","DateTimeFormat","formatToParts","mo","da","ye","navigator","geolocation","getCurrentPosition","latitude","coords","longitude","positionError","lat1","lon1","lat2","lon2","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","round","Number","EPSILON","postReq","heartsNumber","heartIsGiven","delReq","userReducer","Editable","slice","changeProfileData","prop","changeNumericData","RegExp","test","FormControl","FormLabel","defaultValue","getLocation","paddingLeft","multiline","rows","saveUser","Profile","ImagesReducer","uploadImage","files","fd","FormData","append","getImages","deleteImage","setAvatar","requestDefault","card","imagesContainer","centered","left","top","msTransform","transform","image","border","main","opacity","imageBackdrop","imageButton","right","bottom","common","white","imageSrc","thumbUp","edit","thumbsCount","imagesReducer","Edit","galleryMakeStyles","anchorEl","setAnchorEl","isMenuOpen","Boolean","handleMenuClose","renderMenu","Menu","PaperProps","onMouseLeave","transformOrigin","vertical","horizontal","keepMounted","MenuItem","currentTarget","Gallery","useReducer","useEffect","Card","Tooltip","title","Input","idx","backgroundImage","thumbnail","query","focusVisible","imageTitle","searchFiltersContainer","searchReducer","SearchReducer","Search","searchState","searchDispatch","scrollEl","useRef","URLSearchParams","window","location","search","setLookingFor","setInterest","distance","setDistance","current","addEventListener","loadMore","searchUsers","removeEventListener","scrollHeight","scrollTop","offsetHeight","ref","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","flexDirection","ExpansionPanelDetails","gutterBottom","Slider","getAriaValueText","valueLabelDisplay","num","max","ExpansionPanelActions","set","delete","String","history","pushState","toString","ButtonBase","focusRipple","focusVisibleClassName","Array","i","Skeleton","imagesList","paper","gridList","light","titleBar","UserPage","userState","userDispatch","imagesState","imagesDispatch","profileStyles","makeProfileStyles","getUser","getImagesForSpecificUser","CardMedia","lineHeight","age","returnHurt","giveHurt","getDistanse","GridList","cols","img","GridListTile","textTransform","marginRight","ChatListReducer","chatsList","chatListHeader","minHeight","chatItem","chatItemAvatar","chatName","chatTime","chatMessage","textOverflow","whiteSpace","marginLeft","ChatList","chatListReducer","cl","setChat","socketManager","chatListState","chatListDispatch","getChats","socket","on","removeListener","chat","Avatar","interlocutorAvatar","interlocutorName","lastMsg","time","toLocaleString","interlocutorId","senderId","MessageReducer","chatId","chatBox","messageBox","overflowY","paddingRight","close","font","leftMessage","rightMessage","messageContent","messageInput","messageReducer","MessagesReducer","ChatBox","newMessage","setNewMessage","messagesEndRef","messageState","messageDispatch","scrollToBottom","smooth","scrollIntoView","behavior","getMessages","sendMsg","replace","length","sendMessage","receiverId","msgStyle","placeholder","rowsMax","endAdornment","SocketManager","io","emit","PrivateLayout","mainClasses","mainStyles","borderRight","PrivateRoute","useTheme","paletteOptions","secondary","hint","getPalette","createMuiTheme","typography","fontFamily","join","overrides","MuiIconButton","MuiOutlinedInput","notchedOutline","borderColor","MuiButton","contained","outlined","MuiDrawer","MuiChip","MuiPaper","MuiTypography","h3","ReactDOM","render","useMemo","ThemeProvider","CssBaseline","exact","SingIn","SingUp","document","querySelector"],"mappings":"8ZAqCeA,EAnCAC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACZC,GAAI,CACHC,UAAW,QACXC,WAAY,IACZC,SAAU,SAEXC,KAAM,CACLC,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChBC,eAAgB,QAChBC,mBAAoB,aACpBR,UAAW,OAEZS,eAAe,aACdL,QAAS,QACRP,EAAMa,YAAYC,GAAG,MAAQ,CAC7BP,QAAS,SAGXQ,cAAc,aACbR,QAAS,QACRP,EAAMa,YAAYC,GAAG,MAAQ,CAC7BP,QAAS,SAGXS,wBAAyB,CACxBC,OAAQ,UACRC,SAAU,SACVC,SAAU,iB,0BCEEC,EAtB4B,SAAAC,GAAU,IAAD,EAClCC,IAAMC,SAAgBF,GAAhCG,EAD4C,oBAGnD,OACC,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,YAC1B,kBAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GACd,kBAACL,EAAOM,KAAR,OAED,kBAACL,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,IACd,kBAACE,EAAA,EAAD,CACCC,MAAOR,EAAOQ,MACdC,KAAMT,EAAOS,KACbC,KAAMV,EAAOU,KACbC,WAAW,EACXC,SAAUZ,EAAOa,aACjBC,OAAQd,EAAOe,gBCqFLC,EAtCAC,YAA2B,CACzCC,iBAAkB,SAACrB,GAClB,MAAO,CACNsB,SAAU,GACVC,SAAU,GACVC,UAAU,IAGZC,iBAAkBC,WAAaC,MAAM,CACpCL,SAAUI,WAAaE,SAAS,YAChCL,SAAUG,WAAaE,SAAS,YAAYC,IAAI,EAAG,kCAGpDC,aAAc,SAAC3B,EAAoBH,GAClC+B,IACEC,KAAK,cAAe,CACpBV,SAAUnB,EAAOmB,SACjBC,SAAUpB,EAAOoB,WAEjBU,MAAK,SAAUC,IACgB,IAA3BA,EAAG,KAAH,QACHlC,EAAMmC,WAAU,IAEhBnC,EAAMoC,UAAU,CAAEd,SAAUY,EAAG,KAAH,MAC5BlC,EAAMqC,eAAc,OAGrBC,OAAM,SAAUC,IAC0B,IAAtCA,EAAMC,SAAN,aACHxC,EAAMmC,WAAU,IAEhBnC,EAAMoC,UAAU,CAAEd,SAAUiB,EAAMC,SAAN,WAC5BxC,EAAMqC,eAAc,SAhCVjB,EAxDG,SAACpB,GAAoC,IAC9CyC,EAAkCzC,EAAlCyC,QAASC,EAAyB1C,EAAzB0C,OAAQC,EAAiB3C,EAAjB2C,aACnBC,EAAUnE,IAEhB,OAAIuB,EAAM6C,OACF,kBAAC,IAAD,CAAUC,GAAG,aAGpB,kBAAC,IAAMC,SAAP,KACC,kBAACC,EAAA,EAAD,CAAWC,SAAS,MACnB,kBAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAWR,EAAQ/D,IAC1C,WAEF,kBAAC,IAAD,KACC,kBAAC,EAAD,CACC8B,MAAM,WACNC,KAAK,OACLC,KAAK,WACLJ,KAAM4C,IACNrC,aAAchB,EAAMgB,aACpBE,WAAYlB,EAAMkB,aAElBuB,EAAQnB,UAAYoB,EAAOpB,UAAY,6BAAMoB,EAAOpB,UACrD,kBAAC,EAAD,CACCX,MAAM,WACNC,KAAK,WACLC,KAAK,WACLJ,KAAM6C,IACNtC,aAAchB,EAAMgB,aACpBE,WAAYlB,EAAMkB,aAElBuB,EAAQlB,UAAYmB,EAAOnB,UAAY,6BAAMmB,EAAOnB,UACrD,kBAACgC,EAAA,EAAD,CACC3C,KAAK,SACLuC,QAAQ,YACRrC,WAAW,EACX0C,SAAUb,EACVc,MAAO,CAAE3E,UAAW,QACnB,WAGH,kBAAC4E,EAAA,EAAD,CAAKC,EAAG,EAAGC,UAAU,UACpB,kBAACV,EAAA,EAAD,CAAYC,QAAQ,SAClB,aACD,kBAAC,IAAD,CAAWL,GAAG,aACb,kBAACe,EAAA,EAAD,CAAMC,UAAU,SAASlD,KAAK,SAASuC,QAAQ,SAC7C,mB,mGCkKMY,EA1DA3C,YAA2B,CACzCC,iBAAkB,SAACrB,GAClB,MAAO,CACNgE,MAAO,GACP1C,SAAU,GACV2C,UAAW,GACXC,SAAU,GACV3C,SAAU,GACV4C,MAAO,GACPC,OAAQ,KAGV3C,iBAAkBC,WAAaC,MAAM,CACpCqC,MAAOtC,WAAasC,MAAM,kCAAkCpC,SAAS,YACrEN,SAAUI,WAAaE,SAAS,YAChCqC,UAAWvC,WAAaE,SAAS,YACjCsC,SAAUxC,WAAaE,SAAS,YAChCL,SAAUG,WAAaE,SAAS,YAAYC,IAAI,EAAG,gCACnDsC,MAAOzC,WAAaE,SAAS,YAC7BwC,OAAQ1C,WAAaE,SAAS,cAG/BE,aAAc,SAAC3B,EAAoBH,GAClCqE,QAAQC,IAAInE,GACZ4B,IACEC,KAAK,iBAAkB,CACvBgC,MAAO7D,EAAO6D,MACd1C,SAAUnB,EAAOmB,SACjB2C,UAAW9D,EAAO8D,UAClBC,SAAU/D,EAAO+D,SACjB3C,SAAUpB,EAAOoB,SACjB4C,MAAOhE,EAAOgE,MACdC,OAAQjE,EAAOiE,SAEfnC,MAAK,SAAUC,IACgB,IAA3BA,EAAG,KAAH,QACHlC,EAAMmC,WAAU,IAEhBnC,EAAMoC,UAAU,CAAEd,SAAUY,EAAG,KAAH,MAC5BlC,EAAMqC,eAAc,OAGrBC,OAAM,SAAUC,GAChB,IAAKA,EAAMC,SAGV,OAFA6B,QAAQC,IAAI,sBACZtE,EAAMqC,eAAc,IAGqB,IAAtCE,EAAMC,SAAN,aACHxC,EAAMmC,WAAU,IAEhBnC,EAAMoC,UAAU,CAAEd,SAAUiB,EAAMC,SAAN,WAC5BxC,EAAMqC,eAAc,SApDVjB,EApIG,SAACpB,GAAoC,IAC9CyC,EAAkCzC,EAAlCyC,QAASC,EAAyB1C,EAAzB0C,OAAQC,EAAiB3C,EAAjB2C,aACnBC,EAAUnE,IAEhB,OAAIuB,EAAM6C,OACF,kBAAC,IAAD,CAAUC,GAAG,aAIpB,kBAACE,EAAA,EAAD,CAAWC,SAAS,MACnB,kBAACC,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAWR,EAAQ/D,IAC1C,WAEF,kBAAC,IAAD,KACC,kBAAC,EAAD,CACC8B,MAAM,QACNC,KAAK,QACLC,KAAK,QACLJ,KAAM8D,IACNvD,aAAchB,EAAMgB,aACpBE,WAAYlB,EAAMkB,aAElBuB,EAAQuB,OAAStB,EAAOsB,OAAS,6BAAMtB,EAAOsB,OAE/C,kBAAC,EAAD,CACCrD,MAAM,WACNC,KAAK,WACLC,KAAK,WACLJ,KAAM4C,IACNrC,aAAchB,EAAMgB,aACpBE,WAAYlB,EAAMkB,aAElBuB,EAAQnB,UAAYoB,EAAOpB,UAAY,6BAAMoB,EAAOpB,UAErD,kBAAC,EAAD,CACCX,MAAM,aACNC,KAAK,YACLC,KAAK,YACLJ,KAAM+D,IACNxD,aAAchB,EAAMgB,aACpBE,WAAYlB,EAAMkB,aAElBuB,EAAQwB,WAAavB,EAAOuB,WAAa,6BAAMvB,EAAOuB,WAEvD,kBAAC,EAAD,CACCtD,MAAM,YACNC,KAAK,WACLC,KAAK,WACLJ,KAAMgE,IACNzD,aAAchB,EAAMgB,aACpBE,WAAYlB,EAAMkB,aAElBuB,EAAQyB,UAAYxB,EAAOwB,UAAY,6BAAMxB,EAAOwB,UAErD,kBAAC9D,EAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,WAAWmD,MAAO,CAAE7D,OAAQ,YACtD,kBAACQ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GACd,kBAAC,IAAD,OAED,kBAACJ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,IACd,kBAACE,EAAA,EAAD,CACCgE,GAAG,OACH9D,KAAK,OACLC,KAAK,QACLE,SAAUf,EAAMgB,aAChBF,WAAW,EACX6D,gBAAiB,CAChBC,QAAQ,OAKXnC,EAAQ0B,OAASzB,EAAOyB,OAAS,6BAAMzB,EAAOyB,OAE/C,kBAAC/D,EAAA,EAAD,CAAMC,WAAS,EAACC,WAAW,WAAWmD,MAAO,CAAE7D,OAAQ,YACtD,kBAACQ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GACd,yBAAKqE,IAAK,yBAA0BC,IAAI,SAASrB,MAAO,CAAEsB,MAAO,MAAOnF,OAAQ,UAEjF,kBAACQ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,IACd,kBAACwE,EAAA,EAAD,CACCC,aAAW,SACXlE,SAAUf,EAAMgB,aAChBkE,KAAG,EACHrE,KAAK,SACL4C,MAAO,CAAE0B,aAAc,wBACtB,CAAC,OAAQ,UAAUC,KAAI,SAACC,GACxB,OACC,kBAACC,EAAA,EAAD,CACCC,IAAK,SAAWF,EAChBG,MAAOH,EACPI,QAAS,kBAACC,EAAA,EAAD,CAAOC,MAAM,YACtBhF,MAAO0E,EACPO,eAAe,cAOpBnD,EAAQ2B,QAAU1B,EAAO0B,QAAU,6BAAM1B,EAAO0B,QAEjD,kBAAC,EAAD,CACCzD,MAAM,WACNC,KAAK,WACLC,KAAK,WACLJ,KAAM6C,IACNtC,aAAchB,EAAMgB,aACpBE,WAAYlB,EAAMkB,aAElBuB,EAAQlB,UAAYmB,EAAOnB,UAAY,6BAAMmB,EAAOnB,UAGrD,kBAACmC,EAAA,EAAD,CAAKmC,GAAI,GACR,kBAACtC,EAAA,EAAD,CAAQ3C,KAAK,SAASuC,QAAQ,YAAYrC,WAAW,EAAM0C,SAAUb,GAArE,YAKD,kBAACe,EAAA,EAAD,CAAKC,EAAG,EAAGC,UAAU,UACpB,kBAACV,EAAA,EAAD,CAAYC,QAAQ,SAClB,yBACD,kBAAC,IAAD,CAAWL,GAAG,UACb,kBAACe,EAAA,EAAD,CAAMC,UAAU,SAASlD,KAAK,SAASuC,QAAQ,SAC7C,mB,kBCpJH2C,EAAYpH,aAAW,SAACC,GAAD,OAC5BC,YAAa,CACZK,KAAM,CACLa,SAAU,YAEXgB,UAAW,CACViE,MAAO,aA6DKgB,EA7Ce,WAC7B,IAAMnD,EAAUkD,IAEVE,EAASC,cAHoB,EAIT/F,mBAAgB,CACzCgG,aAASC,EACTC,SAAKD,EACLE,WAAW,IAPuB,mBAI5BrG,EAJ4B,KAIrBsG,EAJqB,KA0BnC,OAhBwB,IAApBtG,EAAMqG,WACTtE,IACEwE,IAAI,gBAAkBP,EAAOQ,OAAS,IAAMR,EAAOS,MACnDxE,MAAK,SAAUC,GACfmC,QAAQC,IAAI0B,EAAOQ,SACY,IAA3BtE,EAAG,KAAH,SACHoE,EAAS,CAAEJ,SAAS,EAAME,IAAK,oCAAqCC,WAAW,OAGhF/D,OAAM,SAAUC,GACZA,EAAMC,SAAN,OAAgE,IAAtCD,EAAMC,SAAN,cAC7B8D,EAAS,CAAEJ,SAAS,EAAOE,IAAK7D,EAAMC,SAAN,SAA+B6D,WAAW,OAM7E,kBAACrD,EAAA,EAAD,CAAWC,SAAS,MACnB,kBAACS,EAAA,EAAD,CAAKtE,eAAe,SAASN,UAAU,QAAQI,QAAQ,SACnC,IAAlBc,EAAMkG,SACN,kBAACQ,EAAA,EAAD,CAAOC,SAAS,UAAUvD,UAAWR,EAAQ9B,WAC3Cd,EAAMoG,UAGUD,IAAlBnG,EAAMkG,SAAyB,kBAACU,EAAA,EAAD,CAAkBxD,UAAWR,EAAQ3D,QAClD,IAAlBe,EAAMkG,SACN,kBAACQ,EAAA,EAAD,CAAOC,SAAS,QAAQvD,UAAWR,EAAQ9B,WACzCd,EAAMoG,Q,kBCnEAS,EAAS,WACrB,QAAIC,IAAOP,IAAI,S,kBCmBD9H,EApBAC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACZmI,KAAM,CACLC,SAAU,GAEXC,OAAQ,CACPC,gBAAiBvI,EAAMwI,QAAQC,WAAWC,QAC1CC,UAAW,OACXC,OAAQ,GAETC,WAAY,CACXC,aAAc,SAEfC,KAAM,CACLC,eAAgB,OAChBhC,MAAOhH,EAAMwI,QAAQS,KAAKC,c,SCbvBC,GAAO7H,gBAA2F,MAE3F8H,GAAsBD,GAAKE,SAE3BC,GAAsBH,GAAKI,S,qBCkEzBC,GAhEiB,WAC/B,IAAMvF,EAAUwF,IAuBhB,OACC,kBAACH,GAAD,MACE,SAACI,GAAD,MACsB,aAAnB,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKC,MAAMzF,SACV,kBAAC0F,EAAA,EAAD,CAAQzI,SAAS,SAASsD,UAAWR,EAAQqE,QAC5C,kBAACuB,EAAA,EAAD,KACC,kBAACtF,EAAA,EAAD,CAAYC,QAAQ,MAApB,UACA,yBAAKC,UAAWR,EAAQmE,OACxB,kBAAC,IAAD,CAAMjE,GAAG,UAAUM,UAAWR,EAAQ8E,MACrC,kBAACe,EAAA,EAAD,CAAYrF,UAAWR,EAAQ4E,WAAY7B,MAAM,WAC/C,WAGH,kBAAC,IAAD,CAAM7C,GAAIuF,EAAIC,MAAMI,KAAKpH,SAAU8B,UAAWR,EAAQ8E,MACrD,kBAACe,EAAA,EAAD,CAAYrF,UAAWR,EAAQ4E,WAAY7B,MAAM,WAC/C,eAGH,kBAAC,IAAD,CAAM7C,GAAG,WAAWM,UAAWR,EAAQ8E,MACtC,kBAACe,EAAA,EAAD,CAAYrF,UAAWR,EAAQ4E,WAAY7B,MAAM,WAChD,kBAAC,KAAD,cClCMgD,GAXqB,SAAC3I,GACpC,OAAO6G,IACN,kBAAC,IAAD,CAAU/D,GAAG,aAEb,kBAAC,IAAMC,SAAP,KACC,kBAAC,GAAD,MACA,kBAAC,IAAD,CAAO6F,KAAM5I,EAAM4I,KAAM9E,UAAW9D,EAAM8D,c,qBCiD9BrF,GA9DAC,aAAW,SAACC,GAAD,eACzBC,YAAa,CACZiK,SAAU,CACTC,OAAO,GAAD,OAAKnK,EAAMoK,QAAQ,IAAnB,OAEPC,UAAW,CACVC,QAAQ,GAAD,OAAKtK,EAAMoK,QAAQ,IAAnB,OAERG,eAAa,GACZnE,MAAM,OACNnF,OAAO,QAFK,cAGXjB,EAAMa,YAAY2J,KAAK,MAAQ,CAC/BpE,MAAM,OACNnF,OAAO,OACPkJ,OAAQ,SANG,6BAQE,OARF,wBASH,SATG,uBAUJ,QAVI,yBAWF,YAXE,uBAYJ,WAZI,GAcbM,oBAAqB,CACpB,UAAW,CACV,yBAA0B,CACzBC,WAAY,aAIfC,qBAAmB,GAClBxK,UAAU,SADQ,cAEjBH,EAAMa,YAAY2J,KAAK,MAAQ,CAC/BrK,UAAU,UAHO,qCAKHH,EAAMoK,QAAQ,IALX,+BAMT,QANS,gCAODpK,EAAMwI,QAAQC,WAAWC,SAPxB,sBAQX,SARW,wBAST,IATS,2BAUN,UAVM,6BAWJ,SAXI,GAanBkC,iBAAkB,CAAEvK,SAAS,GAAD,OAAKL,EAAMoK,QAAQ,IAAnB,MAA6BD,OAAQ,QACjEU,iBAAkB,CACjBC,aAAc,QACdC,cAAe,QACfvE,aAAc,qBAEfwE,YAAa,CACZV,QAAS,MACTQ,aAAc,OAEfG,0BAA2B,CAC1BC,WAAY,QACZC,UAAW,cAEZC,KAAM,CACLjB,OAAO,GAAD,OAAKnK,EAAMoK,QAAQ,KAAnB,YCpCMiB,GAnBc,CAC5B,CACCnJ,KAAM,WACN0E,IAAK,YAEN,CACC1E,KAAM,QACN0E,IAAK,SAEN,CACC1E,KAAM,aACN0E,IAAK,aAEN,CACC1E,KAAM,YACN0E,IAAK,a,qEC8FQ0E,GApGoB,SAACjK,GAAkB,IAyC7BkK,EAxChBC,EAAkCnK,EAAlCmK,WAAYC,EAAsBpK,EAAtBoK,QAASC,EAAarK,EAAbqK,SACvBzH,EAAU0H,KAFoC,EAINrK,IAAMC,UAAkB,GAJlB,mBAI7CqK,EAJ6C,KAI5BC,EAJ4B,OAKdvK,IAAMC,SAAiB,IALT,mBAK7CuK,EAL6C,KAKhCC,EALgC,KAe9CC,EAAsB,WAC3BH,GAAmB,IAYdI,EAAc,WACnB,GAAIT,EAAY,CACf,IAAIU,EAAMT,EAAQU,UAClBD,EAAIE,KAAKN,GACTN,EAAW,gBACPC,EADM,CAETU,UAAWD,KAEZH,EAAe,IACfC,MAUF,OACC,kBAACjH,EAAA,EAAD,CAAK+F,aAAa,OAChBY,EACA,kBAAC3G,EAAA,EAAD,KACC,kBAACR,EAAA,EAAD,KAAa,YAAb,KACCkH,EAAQU,UAAU1F,KAAI,SAACsD,GACvB,OAAO,kBAACsC,GAAA,EAAD,CAAMzF,IAAKmD,EAAM/H,MAAO+H,EAAMtF,UAAWR,EAAQmH,KAAMkB,UAlC3CC,EAkCoExC,EAlC/C,WACxCyB,GACHA,EAAW,gBACPC,EADM,CAETU,UAAWV,EAAQU,UAAUK,QAAO,SAACpB,GAAD,OAAUA,IAASmB,YAJnC,IAACA,KAoCpB,kBAACF,GAAA,EAAD,CACCvK,KAAM,kBAAC,KAAD,MACN2C,UAAWR,EAAQmH,KACnBpJ,MAAO,MACPyK,WAAW,EACXC,QAhDsB,WAC1Bb,GAAmB,OAmDjB,kBAAC9G,EAAA,EAAD,CAAKE,UAAU,QACd,kBAACV,EAAA,EAAD,KAAa,YAAb,KACCkH,EAAQU,UAAU1F,KAAI,SAACsD,GACvB,OAAO,kBAACsC,GAAA,EAAD,CAAMzF,IAAKmD,EAAM/H,MAAO+H,EAAMtF,UAAWR,EAAQmH,KAAM5G,QAAQ,iBAKzE,kBAACmI,GAAA,EAAD,CAAQC,QAASZ,EAAqBa,kBAAgB,0BAA0BC,KAAMlB,GACrF,kBAACmB,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAACjL,EAAA,EAAD,CACCgE,GAAG,kBACH/D,MAAM,eACNC,KAAK,SACLuC,QAAQ,WACRqC,MAAOiF,EACP1J,SAzEuB,SAAC6K,GAC5B,IAAMC,EAAOD,EAAME,OAA4BtG,MAC/CkF,EAAemB,IAwEXE,WAxCmB7B,EAwCOU,EAxCc,SAACoB,GAC3B,KAAdA,EAAEC,SACL/B,MAuCGpJ,WAAW,EACXoL,WAAS,EACTC,WAAY,CACXC,eAAgB,kBAACC,GAAA,EAAD,CAAgBvM,SAAS,SAAzB,SAKnB,kBAAC4D,EAAA,EAAD,CAAKE,UAAU,SAASD,EAAG,GAC1B,kBAACJ,EAAA,EAAD,CAAQ2I,WAAS,EAAC/I,QAAQ,WAAWmJ,KAAK,QAAQjB,QAAST,GAA3D,WCSU2B,GApGqB,SAACvM,GAAkB,IAyC9BkK,EAxChBC,EAAkCnK,EAAlCmK,WAAYC,EAAsBpK,EAAtBoK,QAASC,EAAarK,EAAbqK,SACvBzH,EAAU0H,KAFqC,EAILrK,IAAMC,UAAkB,GAJnB,mBAI9CsM,EAJ8C,KAI5BC,EAJ4B,OAKfxM,IAAMC,SAAiB,IALR,mBAK9CuK,EAL8C,KAKjCC,EALiC,KAe/CC,EAAsB,WAC3B8B,GAAoB,IAYf7B,EAAc,WACnB,GAAIT,EAAY,CACf,IAAIU,EAAMT,EAAQsC,WAClB7B,EAAIE,KAAKN,GACTN,EAAW,gBACPC,EADM,CAETsC,WAAY7B,KAEbH,EAAe,IACfC,MAUF,OACC,kBAACjH,EAAA,EAAD,CAAK+F,aAAa,OAChBY,EACA,kBAAC3G,EAAA,EAAD,KACC,kBAACR,EAAA,EAAD,KAAa,aAAb,KACCkH,EAAQsC,WAAWtH,KAAI,SAACsD,GACxB,OAAO,kBAACsC,GAAA,EAAD,CAAMzF,IAAKmD,EAAM/H,MAAO+H,EAAMtF,UAAWR,EAAQmH,KAAMkB,UAlC3CC,EAkCoExC,EAlC/C,WACxCyB,GACHA,EAAW,gBACPC,EADM,CAETsC,WAAYtC,EAAQsC,WAAWvB,QAAO,SAACpB,GAAD,OAAUA,IAASmB,YAJrC,IAACA,KAoCpB,kBAACF,GAAA,EAAD,CACCvK,KAAM,kBAAC,KAAD,MACN2C,UAAWR,EAAQmH,KACnBpJ,MAAO,MACPyK,WAAW,EACXC,QAhDsB,WAC1BoB,GAAoB,OAmDlB,kBAAC/I,EAAA,EAAD,CAAKE,UAAU,QACd,kBAACV,EAAA,EAAD,KAAa,aAAb,KACCkH,EAAQsC,WAAWtH,KAAI,SAACsD,GACxB,OAAO,kBAACsC,GAAA,EAAD,CAAMzF,IAAKmD,EAAM/H,MAAO+H,EAAMtF,UAAWR,EAAQmH,KAAM5G,QAAQ,iBAKzE,kBAACmI,GAAA,EAAD,CAAQC,QAASZ,EAAqBa,kBAAgB,0BAA0BC,KAAMe,GACrF,kBAACd,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAACjL,EAAA,EAAD,CACCgE,GAAG,kBACH/D,MAAM,eACNC,KAAK,SACLuC,QAAQ,WACRqC,MAAOiF,EACP1J,SAzEuB,SAAC6K,GAC5B,IAAMC,EAAOD,EAAME,OAA4BtG,MAC/CkF,EAAemB,IAwEXE,WAxCmB7B,EAwCOU,EAxCc,SAACoB,GAC3B,KAAdA,EAAEC,SACL/B,MAuCGpJ,WAAW,EACXoL,WAAS,EACTC,WAAY,CACXC,eAAgB,kBAACC,GAAA,EAAD,CAAgBvM,SAAS,SAAzB,SAKnB,kBAAC4D,EAAA,EAAD,CAAKE,UAAU,SAASD,EAAG,GAC1B,kBAACJ,EAAA,EAAD,CAAQ2I,WAAS,EAAC/I,QAAQ,WAAWmJ,KAAK,QAAQjB,QAAST,GAA3D,WCnBU+B,GAtEsB,SAAC3M,GAAkB,IAC/C4M,EAAsB5M,EAAtB4M,KAAMC,EAAgB7M,EAAhB6M,YACRjK,EAAU0H,KAEhB,OACC,kBAAC5G,EAAA,EAAD,CAAKN,UAAWR,EAAQ+G,aACvB,kBAACvJ,EAAA,EAAD,CAAMC,WAAS,GACd,kBAACD,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIsM,GAAI,GACtB,yBAAK1J,UAAS,UAAKR,EAAQsG,cAAb,YAA8BtG,EAAQwG,sBACnD,yBACChG,UAAWR,EAAQsG,cACnBrE,IAAK+H,EAAKG,OAASH,EAAKG,OAAOC,OAA1B,0BAAsDJ,EAAKxI,OAA3D,QACLU,IAAI,gBAEL,kBAAC,IAAD,CAAMhC,GAAG,YACR,yBAAKM,UAAS,UAAKR,EAAQsG,cAAb,YAA8BtG,EAAQ0G,sBACnD,kBAAC,KAAD,CAAkBlG,UAAWR,EAAQ2G,uBAKzC,kBAACnJ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIsM,GAAI,EAAG1J,UAAWR,EAAQgH,2BAC5C,kBAAClG,EAAA,EAAD,KACEsG,GAAO5E,KAAI,SAACC,GACZ,OACC,kBAACnC,EAAA,EAAD,CAAY+J,MAAM,OAAO7J,UAAWR,EAAQ4G,iBAAkBjE,IAAKF,EAAKE,KACtEF,EAAKxE,KADP,KACe+L,EAAKvH,EAAKE,UAK5B,kBAAC7B,EAAA,EAAD,CAAKE,UAAU,QACd,kBAACV,EAAA,EAAD,CAAYE,UAAWR,EAAQ4G,kBAC7B,SADF,KACcoD,EAAKxI,QAEnB,kBAAClB,EAAA,EAAD,CAAYE,UAAWR,EAAQ4G,kBAC7B,qBADF,KAC0BoD,EAAKM,gBAKlC,kBAAChK,EAAA,EAAD,CAAY+J,MAAM,OAAO7J,UAAWR,EAAQ4G,kBAA5C,YACW,IACT,IAAI2D,KAAKP,EAAKzI,OAAOiJ,mBAAmB,QAAS,CACjDC,KAAM,UACNC,MAAO,OACPC,IAAK,aAGP,kBAACrK,EAAA,EAAD,CAAY+J,MAAM,OAAO7J,UAAWR,EAAQ4G,kBAA5C,aACYoD,EAAKY,KAEjB,kBAACtK,EAAA,EAAD,CAAY+J,MAAM,OAAO7J,UAAWR,EAAQ4G,kBAA5C,cACaoD,EAAKa,KAElB,kBAAC,GAAD,CAAYtD,WAAY,KAAMC,QAASwC,EAAMvC,UAAU,IACvD,kBAAC,GAAD,CAAWF,WAAY,KAAMC,QAASwC,EAAMvC,UAAU,IACtD,kBAAC3G,EAAA,EAAD,CAAKE,UAAU,UACd,kBAACV,EAAA,EAAD,CAAY+J,MAAM,QAAQ,QAA1B,KACA,kBAACvJ,EAAA,EAAD,CAAKN,UAAWR,EAAQoG,WACvB,kBAAC9F,EAAA,EAAD,CAAY+J,MAAM,QAAQL,EAAKc,YAEhC,kBAACnK,EAAA,EAAD,CAAQ8H,QAAS,kBAAMwB,GAAY,IAAO1J,QAAQ,WAAWC,UAAWR,EAAQiG,UAC9E,W,iECvEwB8E,G,kDACpBC,a,OAETC,QAAU,SAACvF,EAAiBwF,GAC3B,OAAQA,EAAOlN,MACd,IAAK,UACJ,MAAO,CAAEiC,OAAQ,WAClB,IAAK,UACJ,MAAO,CAAEA,OAAQ,UAAW6F,KAAMoF,EAAOC,SAC1C,IAAK,UACJ,MAAO,CAAElL,OAAQ,QAASN,MAAOuL,EAAOvL,S,4DAGlByL,EAA+BC,GACvDlM,IAAMiM,GACJ/L,MAAK,SAAUC,IACgB,IAA3BA,EAAG,KAAH,SACHmC,QAAQC,IAAIpC,EAAG,KAAH,MACZ+L,EAAS,CAAErN,KAAM,UAAWmN,QAAS7L,EAAG,KAAH,QAErC+L,EAAS,CAAErN,KAAM,UAAW2B,MAAOL,EAAG,KAAH,aAGpCI,OAAM,SAAUC,GAChB0L,EAAS,CAAErN,KAAM,UAAW2B,MAAOA,EAAM2L,e,8BAK3CF,GAGE,IAFFG,EAEC,uDAF8C,aAC/CC,EACC,uDADgC,aAEjCrM,IAAMiM,GACJ/L,MAAK,SAAUC,IACgB,IAA3BA,EAAG,KAAH,QACHiM,EAAUjM,GAEVkM,EAAQlM,EAAG,KAAH,YAGTI,OAAM,SAAUC,GAChB6L,EAAQ7L,EAAM2L,c,6BAIAG,GAChB,MAAO,CACNA,SAAalI,IAARkI,EAAoBC,KAAKV,QAAUS,EACxCE,OAAQ,S,8BAGQ7F,EAAW2F,GAC5B,MAAO,CACNA,SAAalI,IAARkI,EAAoBC,KAAKV,QAAUS,EACxCE,OAAQ,OACR7F,KAAMA,K,6BAGSA,EAAW2F,GAC3B,MAAO,CACNA,SAAalI,IAARkI,EAAoBC,KAAKV,QAAUS,EACxCE,OAAQ,MACR7F,KAAMA,K,6BAGS2F,GAChB,MAAO,CACNA,SAAalI,IAARkI,EAAoBC,KAAKV,QAAUS,EACxCE,OAAQ,c,KCgEIC,G,8MA7GdZ,QAAU,Q,yEACFK,EAAwCI,GAAe,IAAD,OAC7DC,KAAKG,QACJH,KAAKI,OAAL,gBAAqBL,KACrB,SAACnM,GACA+L,EAAS,CACRrN,KAAM,UACNmN,QAAQ,gBAAM7L,EAAG,KAAH,KAAP,CAA4BiC,MAAO,EAAKwK,WAAWzM,EAAG,KAAH,KAAoBiC,cAGhF,SAACyK,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,S,+BAK7BlG,EAAYuF,EAAwCY,GAAwB,IAAD,OACnFP,KAAKG,QACJH,KAAKQ,OAAOpG,IACZ,SAACxG,GACA+L,EAAS,CACRrN,KAAM,UACNmN,QAAQ,gBAAM7L,EAAG,KAAH,KAAP,CAA4BiC,MAAO,EAAKwK,WAAWzM,EAAG,KAAH,KAAoBiC,WAE/E0K,OAED,SAACD,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,S,iCAK3BG,GACV,IAAMC,EAAI,IAAI7B,KAAK4B,GADK,EAEZ,IAAIE,KAAKC,eAAe,KAAM,CAAE7B,KAAM,UAAWC,MAAO,UAAWC,IAAK,YACtB4B,cAAcH,GAHpD,mBAGRI,EAHQ,KAGf5J,MAAwB6J,EAHT,KAGE7J,MAAwB8J,EAH1B,KAGmB9J,MAC3C,MAAM,GAAN,OAAU8J,EAAV,YAAgBF,EAAhB,YAAsBC,K,kCAGXpB,EAAwCY,GAAgD,IAAD,OAoB7FU,UAAUC,YAGdnL,QAAQC,IAAIiL,UAAUC,YAAYC,oBAtBnB,SAAC3P,GAChB,IAAM4P,EAAW5P,EAAS6P,OAAOD,SAC3BE,EAAY9P,EAAS6P,OAAOC,UAElC,EAAKnB,QACJ,EAAKK,OAAO,CAAEtB,IAAKkC,EAAUjC,IAAKmC,KAClC,SAAC1N,GACA2M,EAAUa,EAAUE,MAErB,SAAChB,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,UAKxB,SAACiB,GACdxL,QAAQC,IAAI,iBAAmBuL,EAAc3B,aAI7C7J,QAAQC,IAAI,kD,kCAMFwL,EAAcC,EAAcC,EAAcC,GACrD,IACMC,EAAMJ,EAAOK,KAAKC,GAAM,IACxBC,EAAML,EAAOG,KAAKC,GAAM,IACxBE,GAAON,EAAOF,GAAQK,KAAKC,GAAM,IACjCG,GAAON,EAAOF,GAAQI,KAAKC,GAAM,IAEjCI,EAAIL,KAAKM,IAAIH,EAAK,GAAKH,KAAKM,IAAIH,EAAK,GAAKH,KAAKO,IAAIR,GAAMC,KAAKO,IAAIL,GAAMF,KAAKM,IAAIF,EAAK,GAAKJ,KAAKM,IAAIF,EAAK,GACzGI,EAAI,EAAIR,KAAKS,MAAMT,KAAKU,KAAKL,GAAIL,KAAKU,KAAK,EAAIL,IAGrD,OADUL,KAAKW,MAA0C,KAT/C,OASiBH,EAAK,IAAOI,OAAOC,UAAkB,M,+BAIxD/C,EAAwCrB,GAChD0B,KAAKG,QACJH,KAAK2C,QAAQ,GAAb,iBAA2BrE,EAAKlI,MAChC,SAACxC,GACIA,EAAIwG,KAAJ,SACHuF,EAAS,CAAErN,KAAM,UAAWmN,QAAQ,gBAAMnB,EAAP,CAAasE,aAActE,EAAKsE,aAAe,EAAGC,cAAc,SAGrG,SAACvC,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,S,iCAK3BX,EAAwCrB,GAClD0B,KAAKG,QACJH,KAAK8C,OAAL,iBAAsBxE,EAAKlI,MAC3B,SAACxC,GACIA,EAAIwG,KAAJ,SACHuF,EAAS,CAAErN,KAAM,UAAWmN,QAAQ,gBAAMnB,EAAP,CAAasE,aAActE,EAAKsE,aAAe,EAAGC,cAAc,SAGrG,SAACvC,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,W,GAxGbjB,ICPpB0D,GAAc,IAAI7C,GAkLT8C,GAtKmB,SAACtR,GAClC,IAAM4C,EAAU0H,KACR2D,EAAgCjO,EAAhCiO,SAAUrB,EAAsB5M,EAAtB4M,KAAMC,EAAgB7M,EAAhB6M,YAF2B,EAGrB3M,mBAAQ,gBAClC0M,EADkC,CAErC9B,UAAW8B,EAAK9B,UAAUyG,WALwB,mBAG5CnH,EAH4C,KAGnCD,EAHmC,KAQ7CqH,EAAoB,SAACC,GAAD,OAAkB,SAAC7F,GAC5CzB,EAAW,gBAAKC,EAAN,eAAgBqH,EAAO7F,EAAME,OAAOtG,WAQzCkM,EAAoB,SAACD,GAAD,OAAkB,SAAC7F,GACnC,IAAI+F,OAAO,uBACbC,KAAKhG,EAAME,OAAOtG,QAAQ2E,EAAW,gBAAKC,EAAN,eAAgBqH,EAAO7F,EAAME,OAAOtG,WAGhF,OACC,kBAAC9B,EAAA,EAAD,CAAKN,UAAWR,EAAQ+G,aACvB,kBAACvJ,EAAA,EAAD,CAAMC,WAAS,GACd,kBAACD,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIsM,GAAI,GACtB,yBAAK1J,UAAS,UAAKR,EAAQsG,cAAb,YAA8BtG,EAAQwG,sBACnD,yBACChG,UAAWR,EAAQsG,cACnBrE,IAAKuF,EAAQ2C,OAAS3C,EAAQ2C,OAAOC,OAAhC,0BAA4D5C,EAAQhG,OAApE,QACLU,IAAI,gBAEL,kBAAC,IAAD,CAAMhC,GAAG,YACR,yBAAKM,UAAS,UAAKR,EAAQsG,cAAb,YAA8BtG,EAAQ0G,sBACnD,kBAAC,KAAD,CAAkBlG,UAAWR,EAAQ2G,uBAKzC,kBAACnJ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIsM,GAAI,EAAG1J,UAAWR,EAAQgH,2BAC5C,kBAAClG,EAAA,EAAD,KACEsG,GAAO5E,KAAI,SAACC,GACZ,OACC,kBAAC3E,EAAA,EAAD,CACCC,MAAO0E,EAAKxE,KACZE,SAAUyQ,EAAkBnM,EAAKE,KACjCC,MAAO4E,EAAQ/E,EAAKE,KACpBA,IAAKF,EAAKE,IACVzE,WAAW,EACXgI,OAAO,cAKX,kBAACpF,EAAA,EAAD,KACC,kBAACmO,GAAA,EAAD,CAAa/N,UAAU,YACtB,kBAACgO,GAAA,EAAD,CAAWhO,UAAU,UAArB,sBACA,kBAACkB,EAAA,EAAD,CAAYC,aAAW,SAASO,MAAO4E,EAAQhG,QAAU,GAAIrD,SAAUyQ,EAAkB,UAAWtM,KAAG,GACrG,CAAC,OAAQ,UAAUE,KAAI,SAACC,GACxB,OACC,kBAACC,EAAA,EAAD,CACCC,IAAK,SAAWF,EAChBG,MAAOH,EACPI,QAAS,kBAACC,EAAA,EAAD,CAAOC,MAAM,YACtBhF,MAAO0E,EACPO,eAAe,eAMpB,kBAACiM,GAAA,EAAD,CAAa/N,UAAU,YACtB,kBAACgO,GAAA,EAAD,CAAWhO,UAAU,UAArB,0BACA,kBAACkB,EAAA,EAAD,CACCC,aAAW,cACXC,KAAG,EACHM,MAAO4E,EAAQ8C,YACfnM,SAAUyQ,EAAkB,gBAC3B,CAAC,OAAQ,SAAU,mBAAmBpM,KAAI,SAACC,GAC3C,OACC,kBAACC,EAAA,EAAD,CACCC,IAAK,OAASF,EACdG,MAAOH,EACPI,QAAS,kBAACC,EAAA,EAAD,CAAOC,MAAM,YACtBhF,MAAO0E,EACPO,eAAe,kBASvB,kBAAClF,EAAA,EAAD,CACCgE,GAAG,OACH/D,MAAM,WACNC,KAAK,OACLmR,aAAc3H,EAAQjG,MACtBpD,SAAUyQ,EAAkB,SAC5B7M,gBAAiB,CAChBC,QAAQ,KAGV,kBAAC1B,EAAA,EAAD,iBACA,kBAAC9C,EAAA,EAAD,CAAMC,WAAS,GACd,kBAACD,EAAA,EAAD,CAAMI,GAAI,EAAGD,MAAI,GAChB,kBAACG,EAAA,EAAD,CACCC,MAAO,WACPI,SAAU2Q,EAAkB,OAC5BlM,MAAO4E,EAAO,IACdtJ,WAAW,EACXgI,OAAO,WAGT,kBAAC1I,EAAA,EAAD,CAAMI,GAAI,EAAGD,MAAI,GAChB,kBAACG,EAAA,EAAD,CACCC,MAAO,YACPI,SAAU2Q,EAAkB,OAC5BlM,MAAO4E,EAAO,IACdtJ,WAAW,EACXgI,OAAO,WAGT,kBAAC1I,EAAA,EAAD,CAAMI,GAAI,EAAGD,MAAI,GAChB,kBAACgD,EAAA,EAAD,CACC8H,QAAS,kBACRgG,GAAYW,YAAY/D,GAAU,SAACT,EAAKC,GAAN,OAActD,EAAW,gBAAKC,EAAN,CAAeoD,IAAKA,EAAKC,IAAKA,SAEzFtK,QAAQ,WACRM,MAAO,CAAEqF,OAAQ,OAAQmJ,YAAa,UALvC,YAUF,kBAAC,GAAD,CAAY9H,WAAYA,EAAYC,QAASA,EAASC,UAAU,IAChE,kBAAC,GAAD,CAAWF,WAAYA,EAAYC,QAASA,EAASC,UAAU,IAC/D,kBAAC3G,EAAA,EAAD,CAAKE,UAAU,UACd,kBAAClD,EAAA,EAAD,CACCI,WAAW,EACX4D,GAAG,4BACH/D,MAAM,QACNuR,WAAS,EACTC,KAAK,IACLhP,QAAQ,WACRqC,MAAO4E,EAAQsD,UACf3M,SAAUyQ,EAAkB,eAE7B,kBAACjO,EAAA,EAAD,CAAQ8H,QAxIU,WACpB4C,EAAS,CAAErN,KAAM,UAAWmN,QAASnB,IACrCC,GAAY,IAsIqB1J,QAAQ,WAAWC,UAAWR,EAAQiG,UACnE,SAEF,kBAACtF,EAAA,EAAD,CACC8H,QAAS,kBACRgG,GAAYe,SAAZ,gBAA0BhI,EAA1B,CAAmCU,UAAWV,EAAQU,UAAWiC,YAAQ5G,IAAa8H,GAAU,kBAC/FpB,GAAY,OAGd1J,QAAQ,WACRC,UAAWR,EAAQiG,UAClB,WCrKSwJ,GAtBW,WAAO,IAAD,EACCnS,oBAAkB,GADnB,mBACxBmK,EADwB,KACdwC,EADc,KAG/B,OACC,kBAAC5E,GAAD,MACE,SAACI,GAAD,OACAA,GACC,kBAACrF,EAAA,EAAD,CAAWC,SAAS,MAClBoH,GAAiC,YAArBhC,EAAIC,MAAMzF,QACtB,kBAAC,GAAD,CAAU+J,KAAMvE,EAAIC,MAAMI,KAAMuF,SAAU5F,EAAI4F,SAAUpB,YAAaA,KAGpExC,GAAiC,YAArBhC,EAAIC,MAAMzF,QACvB,kBAAC,GAAD,CAAa+J,KAAMvE,EAAIC,MAAMI,KAAMmE,YAAaA,S,8BC2CxCyF,G,8MApDd1E,QAAU,S,EASV2E,YAAc,SAAC3G,EAA4CqC,GAC1D,IAAM5I,EAAOuG,EAAME,OACnB,GAAIzG,EAAKmN,MAAO,CACf,IAAMC,EAAK,IAAIC,SACfD,EAAGE,OAAO,QAAStN,EAAKmN,MAAM,IAC9BnO,QAAQC,IAAI,gBACZ,EAAKmK,QACJ,EAAKwC,QAAQwB,IACb,WACC,EAAKG,UAAU3E,MAEhB,SAACW,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,S,EAMvCiE,YAAc,SAACnO,EAAYuJ,GAC1B,EAAKQ,QACJ,EAAK2C,OAAL,iBAAsB1M,KACtB,WACC,EAAKkO,UAAU3E,MAEhB,SAACW,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,Q,EAKtCkE,UAAY,SAACpO,EAAYuJ,GACxB,EAAKQ,QACJ,EAAKK,OAAO,CAAE/B,OAAQrI,GAAM,UAC5B,WACC,EAAKkO,UAAU3E,MAEhB,SAACW,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,Q,2EA7C5BX,EAA2CI,GACpDC,KAAKyE,eAAezE,KAAKI,SAAUT,K,+CAGXA,EAA2C3M,GACnEgN,KAAKyE,eAAezE,KAAKI,OAAO,UAAYpN,GAAW2M,O,GAP7BN,I,yCCmHblP,GA3HAC,aAAW,SAACC,GAAD,eACzBC,YAAa,CACZoU,KAAK,aACJlU,UAAW,MACX2K,aAAc,MACdR,QAAS,OACRtK,EAAMa,YAAY2J,KAAK,MAAQ,CAC/BrK,UAAW,QACX2K,aAAc,QACdR,QAAS,UAGXgK,gBAAiB,CAChB/T,QAAS,OACTC,SAAU,QAEXF,KAAM,CACLC,QAAS,OACTC,SAAU,OACV4F,MAAO,QAERmO,SAAU,CACTpT,SAAU,WACVqT,KAAM,MACNC,IAAK,MACLC,YAAa,mBACbC,UAAW,oCACXvO,MAAO,cACPnF,OAAQ,eAET2T,OAAK,GACJrU,QAAS,eACTF,SAAU,OACVc,SAAU,WACVF,OAAQ,OACR4T,OAAO,cAAD,OAAgB7U,EAAMwI,QAAQU,QAAQ4L,MAC5C3K,OAAQ,QACR/D,MAAO,OAPH,cAQHpG,EAAMa,YAAY2J,KAAK,MAAQ,CAC/BvJ,OAAQ,OACR,mBAAoB,CACnB8T,QAAS,KAEV,aAAc,CACbrK,WAAY,WAEb,UAAW,CACVA,WAAY,aAjBV,cAoBJ,UAAW,CACV,mBAAoB,CACnBqK,QAAS,KAEV,aAAc,CACbrK,WAAY,WAEb,UAAW,CACVA,WAAY,aA5BV,GAgCLsK,cAAe,CACdD,QAAS,EACTxM,gBAAiB,SAElB0M,YAAa,CACZ9T,SAAU,WACV+T,MAAO,EACPT,IAAK,EACLU,OAAQ,EACR5U,QAAS,OACTyG,MAAOhH,EAAMwI,QAAQ4M,OAAOC,OAE7BC,SAAU,CACTnU,SAAU,WACVqT,KAAM,EACNU,MAAO,EACPT,IAAK,EACLU,OAAQ,EACRzU,eAAgB,QAChBC,mBAAoB,cAErB4U,QAAQ,aACPL,MAAO,MACPC,OAAQ,OACPnV,EAAMa,YAAY2J,KAAK,MAAQ,CAC/B0K,MAAO,QACPC,OAAQ,UAGVK,KAAK,aACJN,MAAO,MACPT,IAAK,OACJzU,EAAMa,YAAY2J,KAAK,MAAQ,CAC/B0K,MAAO,QACPT,IAAK,UAGP5L,YAAU,GACT5H,OAAQ,MACRE,SAAU,WACV+T,MAAO,MACPC,OAAQ,MACR5U,QAAS,OACToB,WAAY,SACZqF,MAAO,QACP0D,WAAY,UARH,cASR1K,EAAMa,YAAY2J,KAAK,MAAQ,CAC/B0K,MAAO,QACPC,OAAQ,QACRzK,WAAY,WAZJ,cAcT,UAAW,CACVnC,gBAAiB,6BAfT,GAkBVkN,YAAa,CACZtL,OAAQ,cCjHLuL,GAAgB,IAAI/B,GAmDXgC,GA5Ce,SAACtU,GAC9B,IAAM4C,EAAU2R,KAD+B,EAGftU,IAAMC,SAA6B,MAHpB,mBAGxCsU,EAHwC,KAG9BC,EAH8B,KAIzCC,EAAaC,QAAQH,GAMrBI,EAAkB,WACvBH,EAAY,OAGPI,EACL,kBAACC,GAAA,EAAD,CACCC,WAAY,CACXtR,MAAO,CACN+P,OAAQ,qBAETwB,aAAcJ,GAEfJ,SAAUA,EACVS,gBAAiB,CAAEC,SAAU,MAAOC,WAAY,UAChDC,aAAW,EACX3J,KAAMiJ,EACNnJ,QAASqJ,GACT,kBAACS,GAAA,EAAD,CAAUhK,QAAS,kBAAMgJ,GAAcvB,UAAU9S,EAAM0E,GAAI1E,EAAMiO,YAAjE,iBACA,kBAACoH,GAAA,EAAD,CAAUhK,QAAS,kBAAMgJ,GAAcxB,YAAY7S,EAAM0E,GAAI1E,EAAMiO,YAAnE,WAIF,OACC,kBAAC1K,EAAA,EAAD,CACCgC,IAAK,OACL+G,KAAK,QACLlJ,UAAS,UAAKR,EAAQ4E,WAAb,YAA2B5E,EAAQuR,MAC5C9I,QA/B4B,SAACO,GAC9B6I,EAAY7I,EAAM0J,iBA+BjB,kBAAC,KAAD,MACCT,IC7CER,GAAgB,IAAI/B,GAiDXiD,GA/CW,WACzB,IAAM3S,EAAU2R,KADe,EAELiB,qBAAWnB,GAAcxG,QAAS,CAAEhL,OAAQ,YAFvC,mBAExByF,EAFwB,KAEjB2F,EAFiB,KAQ/B,OAJAwH,qBAAU,WACTpB,GAAczB,UAAU3E,KACtB,IAGF,kBAACjL,EAAA,EAAD,KACmB,YAAjBsF,EAAMzF,QACN,kBAAC6S,GAAA,EAAD,CAAMtS,UAAWR,EAAQoQ,MACxB,kBAAC9P,EAAA,EAAD,CAAY+J,MAAM,UAAlB,WACA,yBAAK7J,UAAWR,EAAQqQ,iBACvB,yBAAK7P,UAAWR,EAAQ2Q,OACvB,kBAACoC,GAAA,EAAD,CAASC,MAAM,gBAAgB3Q,aAAW,OACzC,kBAAC1B,EAAA,EAAD,CAAQH,UAAWR,EAAQsQ,SAAU5G,KAAK,QAAQxI,UAAU,SAC3D,kBAAC+R,GAAA,EAAD,CACCjV,KAAK,OACL6C,MAAO,CAAEvE,QAAS,QAClB6B,SAAU,SAAC6K,GAAD,OACTyI,GAAc9B,YAAY3G,EAAOqC,MAGnC,kBAAC,KAAD,CAAsBtI,MAAM,UAAU3G,SAAS,aAIjDsJ,EAAMI,KAAKtD,KAAI,SAACmO,EAAOuC,GAAR,OACf,yBAAKvQ,IAAKuQ,EAAK1S,UAAWR,EAAQ2Q,OACjC,0BACCnQ,UAAWR,EAAQqR,SACnBxQ,MAAO,CACNsS,gBAAgB,OAAD,OAASxC,EAAMA,MAAMyC,UAArB,QAGjB,yBAAK5S,UAAS,UAAKR,EAAQ+Q,cAAb,YAA8B/Q,EAAQqR,YACpD,kBAAC,GAAD,CAAMvP,GAAI6O,EAAM7O,GAAIuJ,SAAUA,Y,qGC/BvBO,G,8MARdZ,QAAU,U,6EAEEK,EAA0CgI,GACrD5R,QAAQC,IAAI,iBAAmB2R,GAC/B3H,KAAKyE,eAAezE,KAAKI,OAAL,kBAAuBuH,IAAUhI,O,GAL7BN,ICoDXlP,GAzDAC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACZK,KAAM,CACLC,QAAS,OACTC,SAAU,OACV4F,MAAO,OACPjG,UAAW,GAEZyU,MAAM,aACLzT,SAAU,WACVF,OAAQ,IACRmF,MAAO,MACP+D,OAAQ,SACPnK,EAAMa,YAAY2J,KAAK,MAAQ,CAC/BpE,MAAO,kBACPnF,OAAQ,MAGVsW,aAAc,GACdtC,YAAa,CACZ9T,SAAU,WAEV+T,MAAO,EACPT,IAAK,EACLU,OAAQ,EACR5U,QAAS,OAGTyG,MAAOhH,EAAMwI,QAAQ4M,OAAOC,OAE7BC,SAAU,CACTnU,SAAU,WACVqT,KAAM,EACNU,MAAO,EACPT,IAAK,EACLU,OAAQ,EACRzU,eAAgB,QAChBC,mBAAoB,cAErB6W,WAAY,CACXrW,SAAU,WACVmJ,QAAQ,GAAD,OAAKtK,EAAMoK,QAAQ,GAAnB,cAA2BpK,EAAMoK,QAAQ,GAAzC,cAAiDpK,EAAMoK,QAAQ,GAAK,EAApE,MACPhK,WAAY,QAEbqX,uBAAwB,CACvBtW,SAAU,SACVsT,IAAK,EACLD,KAAM,EACNU,MAAO,EACP3M,gBAAiBvI,EAAMwI,QAAQC,WAAWC,QAG1CE,OAAQ,QCjCL8O,GAAgB,IAAIC,GAqJXC,GAnJU,WACxB,IAAM3T,EAAUnE,KADc,EAGQwB,IAAMuV,WAAWa,GAAcxI,QAAS,CAAEhL,OAAQ,YAH1D,mBAGvB2T,EAHuB,KAGVC,EAHU,KAIxBC,EAAWC,iBAAuB,MAClC3Q,EAAS,IAAI4Q,gBAAgBC,OAAOC,SAASC,QALrB,EAOM9W,IAAMC,SAAS8F,EAAOO,IAAI,eAPhC,mBAOvBmG,EAPuB,KAOXsK,EAPW,OAQE/W,IAAMC,SAAS8F,EAAOO,IAAI,aAR5B,mBAQvB2E,EARuB,KAQb+L,EARa,OASEhX,IAAMC,SAAS6Q,OAAO/K,EAAOO,IAAI,cAAgB,IATnD,mBASvB2Q,EATuB,KASbC,EATa,KAa9B1B,qBAAU,WAAO,IAAD,EAKf,OAJApR,QAAQC,IAAI,YACZD,QAAQC,IAAIuS,OAAOC,SAASC,QAC5B,UAAAL,EAASU,eAAT,SAAkBC,iBAAiB,SAAUC,GAC7CjB,GAAckB,YAAYd,EAAgBI,OAAOC,SAASC,QACnD,kCAAML,EAASU,eAAf,aAAM,EAAkBI,oBAAoB,SAAUF,MAC3D,IAEH,IAAMA,EAAW,WACZZ,EAASU,UACSV,EAASU,QAAQK,eACpBf,EAASU,QAAQM,UAAYhB,EAASU,QAAQO,cAE/DtT,QAAQC,IAAI,eA+Bf,OACC,yBAAKsT,IAAKlB,GACT,kBAACmB,GAAA,EAAD,CAAgBzU,UAAWR,EAAQwT,wBAClC,kBAAC0B,GAAA,EAAD,CACCC,WAAY,kBAAC,KAAD,CAAgBtU,MAAO,CAAEkC,MAAO,WAC5CqS,gBAAc,kBACdtT,GAAG,iBACHjB,MAAO,CAAEwU,cAAe,YACxB,kBAAC/U,EAAA,EAAD,CAAYO,MAAO,CAAEsB,MAAO,OAAQnB,UAAW,UAA/C,mBAED,kBAACsU,GAAA,EAAD,KACC,kBAAC9X,EAAA,EAAD,CAAMC,WAAS,EAAC0I,QAAS,GACxB,kBAAC3I,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GACd,kBAAC0C,EAAA,EAAD,CAAYwB,GAAG,kBAAkByT,cAAY,GAA7C,YAGA,kBAACC,GAAA,EAAD,CACC5S,MAAO0R,EACPmB,iBAxBP,SAAmB7S,GAClB,MAAM,GAAN,OAAUA,EAAV,OAwBMgG,kBAAgB,kBAChB8M,kBAAkB,OAClBvX,SAAU,SAACiL,EAAGH,GAAJ,OAxBG0M,EAwBoBxH,OAAOlF,QAvB9CsL,EAAYoB,GADM,IAACA,GAyBb1W,IAAK,GACL2W,IAAK,OAGP,kBAACpY,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GACd,kBAAC0C,EAAA,EAAD,CAAYwB,GAAG,kBAAkByT,cAAY,GAA7C,cAGA,kBAACzX,EAAA,EAAD,CACCE,KAAK,OACLE,WAAW,EACX0E,MAAOkH,GAA0B,GACjC3L,SAAU,SAACiL,GAAD,OAAOgL,EAAchL,EAAEsJ,cAAc9P,WAGjD,kBAACpF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GACd,kBAAC0C,EAAA,EAAD,CAAYwB,GAAG,kBAAkByT,cAAY,GAA7C,YAGA,kBAACzX,EAAA,EAAD,CACCE,KAAK,OACLE,WAAW,EACX0E,MAAO0F,GAAsB,GAC7BnK,SAAU,SAACiL,GAAD,OAAOiL,EAAYjL,EAAEsJ,cAAc9P,YAIhD,kBAACiT,GAAA,EAAD,KACC,kBAAClV,EAAA,EAAD,CAAQ+I,KAAK,QAAQnJ,QAAQ,WAAWkI,QA5E7C,WACKqB,EACH1G,EAAO0S,IAAI,aAAchM,GAEzB1G,EAAO2S,OAAO,cAEXzN,EACHlF,EAAO0S,IAAI,WAAYxN,GAEvBlF,EAAO2S,OAAO,YAEXzB,EACHlR,EAAO0S,IAAI,WAAYE,OAAO1B,IAE9BlR,EAAO2S,OAAO,YAEf9B,OAAOgC,QAAQC,UAAU,GAAI,GAAI,YAAc9S,EAAO+S,YACtD1C,GAAckB,YAAYd,EAAgBI,OAAOC,SAASC,UA2DtD,aAMH,kBAACrT,EAAA,EAAD,CAAKN,UAAS,UAAKR,EAAQ3D,OACF,YAAvBuX,EAAY3T,QACZ2T,EAAY9N,KAAKtD,KAAI,SAACwH,EAAMkJ,GAAP,aACpB,kBAACkD,GAAA,EAAD,CACCC,aAAW,EACX1T,IAAK,OAASuQ,EACd1S,UAAWR,EAAQ2Q,MACnB2F,sBAAuBtW,EAAQsT,cAC/B,kBAAC,IAAD,CAAMpT,GAAI8J,EAAKtL,UACd,0BACC8B,UAAWR,EAAQqR,SACnBxQ,MAAO,CACNsS,gBAAgB,OAAD,OACdnJ,EAAKG,OAAL,UAAcH,EAAKG,cAAnB,aAAc,EAAaiJ,UAA3B,0BAA0DpJ,EAAKxI,OAA/D,QADc,QAKjB,0BAAMhB,UAAWR,EAAQgR,aACxB,kBAAC1Q,EAAA,EAAD,CAAYY,UAAU,OAAOX,QAAQ,YAAYwC,MAAM,UAAUvC,UAAWR,EAAQuT,YAClFvJ,EAAK3I,UAAY,IAAM2I,EAAK1I,gBAMX,YAAvBsS,EAAY3T,QACZ,aAAIsW,MAAM,IAAI/T,KAAI,SAAC4G,EAAGoN,GAAJ,OACjB,kBAACC,GAAA,EAAD,CAAU9T,IAAK,OAAS6T,EAAGjW,QAAQ,OAAOC,UAAWR,EAAQ2Q,MAAO9P,MAAO,CAAEyD,gBAAiB,gB,wECxIrFzI,GAzBAC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACZgO,KAAM,GACN0M,WAAY,CACXpa,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChBS,SAAU,SACVqH,gBAAiBvI,EAAMwI,QAAQC,WAAWmS,MAC1Cza,UAAW,OAEZ0a,SAAU,CACTra,SAAU,SAEVmU,UAAW,iBAEZsC,MAAO,CACNjQ,MAAOhH,EAAMwI,QAAQU,QAAQ4R,OAE9BC,SAAU,CACTtS,WAAY,6FCXTiK,GAAc,IAAI7C,GAClB6F,GAAgB,IAAI/B,GAmHXqH,GAjHY,WAAO,IACzB/M,EAAS3G,cAAT2G,KADwB,EAEE4I,qBAAWnE,GAAYxD,QAAS,CAAEhL,OAAQ,YAF5C,mBAEzB+W,EAFyB,KAEdC,EAFc,OAGMrE,qBAAWnB,GAAcxG,QAAS,CAAEhL,OAAQ,YAHlD,mBAGzBiX,EAHyB,KAGZC,EAHY,KAK1BnX,EAAUlE,KACVsb,EAAgBC,KAQtB,OANAxE,qBAAU,WACTpR,QAAQC,IAAIsI,GACZyE,GAAY6I,QAAQL,EAAcjN,GAClCyH,GAAc8F,yBAAyBJ,EAAgBnN,KACrD,CAACA,IAGH,kBAAC3E,GAAD,MACE,SAACI,GAAD,MACsB,aAAnB,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKC,MAAMzF,SACU,YAArB+W,EAAU/W,QACT,kBAACzC,EAAA,EAAD,CAAMC,WAAS,EAACoD,MAAO,CAAE7D,OAAQ,UAAWqJ,QAAS,QACpD,kBAAC7I,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GACd,kBAAC4Z,GAAA,EAAD,CACC7G,MACCqG,EAAUlR,KAAKqE,OAAS6M,EAAUlR,KAAKqE,OAAOC,OAA9C,0BAA0E4M,EAAUlR,KAAKtE,OAAzF,QAEDX,MAAO,CAAEoG,WAAY,WAEvB,kBAACzJ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGiD,MAAO,CAAEwO,YAAa,QACvC,yBAAKxO,MAAO,CAAEvE,QAAS,OAAQF,SAAU,QAASqb,WAAY,UAC7D,kBAACnX,EAAA,EAAD,CAAYC,QAAQ,KAAKM,MAAO,CAAE1E,WAAY,SAA9C,UACK6a,EAAUlR,KAAKzE,UADpB,aACkC2V,EAAUlR,KAAK4R,MAEjD,yBAAK7W,MAAO,CAAEuD,SAAU,KACvB4S,EAAUlR,KAAKwI,aAChB,kBAACzI,EAAA,EAAD,CACChF,MAAO,CAAE3E,UAAW,SACpBuM,QACCuO,EAAUlR,KAAKyI,aACZ,kBAAME,GAAYkJ,WAAWV,EAAcD,EAAUlR,OACrD,kBAAM2I,GAAYmJ,SAASX,EAAcD,EAAUlR,QAEvD,kBAAC,KAAD,CACCjF,MAAO,CACNsB,MAAO,QACPnF,OAAQ,QACR+F,MAAOiU,EAAUlR,KAAKyI,aAAe,UAAY,YAKrD,kBAACjO,EAAA,EAAD,CAAYO,MAAO,CAAE0B,aAAc,oBAAqBuE,cAAe,QACtE,kBAAC,KAAD,MAAmB,IAClB2H,GAAYoJ,YACZpS,EAAIC,MAAMI,KAAK8E,IACfnF,EAAIC,MAAMI,KAAK+E,IACfmM,EAAUlR,KAAK8E,IACfoM,EAAUlR,KAAK+E,KAEf,YAEF,kBAACvK,EAAA,EAAD,CAAYC,QAAQ,KAAKM,MAAO,CAAEkC,MAAO,UAAW7G,UAAW,QAA/D,eAGC8a,EAAUlR,KAAKgE,WAAWtH,KAAI,SAACsD,GAC/B,OAAO,kBAACsC,GAAA,EAAD,CAAMzF,IAAKmD,EAAM/H,MAAO+H,EAAMtF,UAAW4W,EAAcjQ,UAE/D,kBAAC7G,EAAA,EAAD,CAAYC,QAAQ,KAAKM,MAAO,CAAEkC,MAAO,UAAW7G,UAAW,QAA/D,SAGA,kBAACoE,EAAA,EAAD,KAAa0W,EAAUlR,KAAKgF,WACJ,YAAvBoM,EAAYjX,QACZ,yBAAKO,UAAWR,EAAQ0W,YACvB,kBAACoB,GAAA,EAAD,CAAUtX,UAAWR,EAAQ4W,SAAUmB,KAAM,GAC3Cb,EAAYpR,KAAKtD,KAAI,SAACwV,GAAD,OACrB,kBAACC,GAAA,EAAD,CAActV,IAAKqV,EAAIlW,GAAIjB,MAAO,CAAE7D,OAAQ,SAC3C,yBAAKiF,IAAK+V,EAAIrH,MAAMyC,UAAWlR,IAAK,UAIvC,kBAAC1E,EAAA,EAAD,CAAMC,WAAS,GACd,kBAACD,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGiD,MAAO,CAAE3E,UAAW,QACrC,kBAACoE,EAAA,EAAD,CAAYO,MAAO,CAAEkC,MAAO,UAAW3G,SAAU,SAAU8b,cAAe,cAA1E,iBAID,kBAAC1a,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGiD,MAAO,CAAE3E,UAAW,QACrC,kBAACoE,EAAA,EAAD,0BAED,kBAAC9C,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGiD,MAAO,CAAE3E,UAAW,QACrC,kBAACoE,EAAA,EAAD,CAAYO,MAAO,CAAEkC,MAAO,UAAW3G,SAAU,SAAU8b,cAAe,cAA1E,cAID,kBAAC1a,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGiD,MAAO,CAAE3E,UAAW,QACpC8a,EAAUlR,KAAKoC,UAAU1F,KAAI,SAACsD,EAAMoN,GACpC,OACC,0BAAMvQ,IAAKuQ,EAAKrS,MAAO,CAAEsX,YAAa,UAAtC,IACGrS,e,+BC7EDsS,G,8MAfdpN,QAAU,Q,0EACDK,EAA0CY,GAClDP,KAAKG,QACJH,KAAKI,UACL,SAACxM,GACA+L,EAAS,CAAErN,KAAM,UAAWmN,QAAS7L,EAAG,KAAH,OACrC2M,OAED,SAACD,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,W,GAVTjB,ICYflP,GA5BAC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACZqc,UAAW,GACXC,eAAgB,CAAEpb,SAAU,SAAUqb,UAAW,OAAQ1R,aAAc,QAASvK,QAAS,QACzFkc,SAAU,CACTlc,QAAS,OACT0E,UAAW,OACXxE,eAAgB,aAChB2F,MAAO,OACP0E,aAAc,SAEf4R,eAAgB,CACftW,MAAO,QACPnF,OAAQ,QACRmb,YAAa,SAEdO,SAAU,CAAEtc,SAAU,QACtBuc,SAAU,CAAE5V,MAAO,UAAW3G,SAAU,UACxCwc,YAAa,CACZxc,SAAU,SACVa,SAAU,SACV4b,aAAc,WACdC,WAAY,SACZC,WAAY,cC4CAC,GAvDmB,SAAC5b,GAClC,IAAM6b,EAAkB,IAAIb,GACtBc,EAAKrd,KACHsd,EAA2B/b,EAA3B+b,QAASC,EAAkBhc,EAAlBgc,cAHkC,EAKT/b,IAAMuV,WAAWqG,EAAgBhO,QAAS,CAAEhL,OAAQ,YAL3C,mBAK5CoZ,EAL4C,KAK7BC,EAL6B,KAoBnD,OAbAjc,IAAMwV,WAAU,WAQf,OAPApR,QAAQC,IAAI,mBACZuX,EAAgBM,SAASD,GAAkB,WAC1CF,EAAcI,OAAOC,GAAG,YAAY,SAAC3T,GACpCmT,EAAgBM,SAASD,GAAkB,qBAItC,WACNF,EAAcI,OAAOE,eAAe,eAEnC,IAE6B,YAAzBL,EAAcpZ,OAEpB,kBAACa,EAAA,EAAD,CAAKN,UAAW0Y,EAAGb,WAClB,kBAACvX,EAAA,EAAD,CAAKN,UAAW0Y,EAAGZ,gBAClB,kBAAChY,EAAA,EAAD,CAAYC,QAAQ,KAAKM,MAAO,CAAEqG,UAAW,WAA7C,aAID,kBAACpG,EAAA,EAAD,KACEuY,EAAcvT,KAAKtD,KAAI,SAACmX,EAAMzG,GAAS,IAAD,MACtC,OACC,kBAACkD,GAAA,EAAD,CAAY5V,UAAW0Y,EAAGV,SAAU7V,IAAKuQ,EAAKzK,QAAS,kBAAM0Q,EAAQQ,KACpE,kBAACC,GAAA,EAAD,CAAQpZ,UAAW0Y,EAAGT,eAAgBvW,IAAI,QAAQD,IAAK0X,EAAKE,qBAC5D,kBAAC/Y,EAAA,EAAD,CAAKD,MAAO,CAAE5D,SAAU,WACvB,kBAACqD,EAAA,EAAD,CAAYE,UAAW0Y,EAAGR,UAAWiB,EAAKG,kBAC1C,kBAACxZ,EAAA,EAAD,CAAYE,UAAW0Y,EAAGP,WACxB,UAAAgB,EAAKI,eAAL,eAAcC,MAAO,IAAIzP,KAAKoP,EAAKI,QAAQC,MAAMC,iBAAmB,IAEtE,kBAACnZ,EAAA,EAAD,CAAKD,MAAO,CAAEvE,QAAS,SACrBqd,EAAKO,kBAAL,UAAwBP,EAAKI,eAA7B,aAAwB,EAAcI,WAAY,kBAAC,KAAD,CAAe/d,SAAS,UAE3E,kBAACkE,EAAA,EAAD,CAAYE,UAAW0Y,EAAGN,cAAc,UAAAe,EAAKI,eAAL,eAAc/U,OAAQ,uBAUrE,4C,0CCvCaoV,G,8MAfdpP,QAAU,W,6EACEK,EAA6CgP,EAAgBpO,GACxEP,KAAKG,QACJH,KAAKI,OAAL,wBAA6BuO,KAC7B,SAAC/a,GACA+L,EAAS,CAAErN,KAAM,UAAWmN,QAAS7L,EAAG,KAAH,OACrC2M,OAED,SAACD,GACAX,EAAS,CAAErN,KAAM,UAAW2B,MAAOqM,W,GAVVjB,IC6CdlP,GArDAC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACZse,QAAS,CACRpd,SAAU,WACVsT,IAAK,EACLD,KAAM,EACNU,MAAO,EACPC,OAAQ,EACRvM,OAAQ,GAET4V,WAAY,CACXC,UAAW,SACXnL,YAAa,GACboL,aAAc,GACdzd,OAAQ,qBAET0d,MAAO,CACNpe,QAAS,OACT+J,QAAS,QACT9D,aAAc,sBACdsE,aAAc,SAEfyE,QAAS,CACRpO,SAAU,WACV2J,aAAc,OACdR,QAAS,OACTrF,UAAW,OACX2Z,KAAM,mCACN9V,aAAc,QAEf+V,YAAa,CACZzC,YAAa,OACb7T,gBAAiB,WAElBuW,aAAc,CACb9B,WAAY,OACZzU,gBAAiB,WAElBwW,eAAgB,CACfzU,QAAS,IACTH,OAAQ,KAET6U,aAAc,CACb7d,SAAU,WACVqT,KAAM,EACNU,MAAO,EACPC,OAAQ,EACR7K,QAAS,GACTsU,KAAM,yCC7BHK,GAAiB,IAAIC,GAgGZC,GA9FkB,SAAC9d,GACjC,IAAM4C,EAAUnE,KACR8d,EAAiCvc,EAAjCuc,KAAMR,EAA2B/b,EAA3B+b,QAASC,EAAkBhc,EAAlBgc,cAF2B,EAGd/b,IAAMC,SAAS,IAHD,mBAG3C6d,EAH2C,KAG/BC,EAH+B,KAI5CC,EAAiBhe,IAAM0W,OAAuB,MAJF,EAKV1W,IAAMuV,WAAWoI,GAAe/P,QAAS,CAAEhL,OAAQ,YALzC,mBAK3Cqb,EAL2C,KAK7BC,EAL6B,KAO5CC,EAAiB,SAACC,GACnBJ,GAAkBA,EAAe7G,UAChCiH,EAAQJ,EAAe7G,QAAQkH,eAAe,CAAEC,SAAU,WACzDN,EAAe7G,QAAQkH,mBAI9Bre,IAAMwV,WAAU,WAef,OAdAmI,GAAeY,YAAYL,EAAiB5B,EAAK7X,IAAI,WACpD0Z,GAAe,MAGhBpC,EAAcI,OAAOC,GAAG,eAAe,SAAC3T,GACvCsV,EAAc,IACdG,EAAgB,CAAEvd,KAAM,UAAWmN,QAASrF,IAC5C0V,GAAe,MAEhBpC,EAAcI,OAAOC,GAAG,WAAW,SAAC3T,GACP,YAAxBwV,EAAarb,QAAsBsb,EAAgB,CAAEvd,KAAM,UAAWmN,QAASrF,IACnF0V,GAAe,MAGT,WACNpC,EAAcI,OAAOE,eAAe,WACpCN,EAAcI,OAAOE,eAAe,kBAEnC,CAACC,IAEJ,IAMwBrS,EANlBuU,EAAU,WACf,IAAMvc,EAAM6b,EAAWW,QAAQ,iBAAkB,IACjDV,EAAc9b,GACVA,EAAIyc,OAAS,GAAG3C,EAAc4C,YAAY,CAAE3B,OAAQV,EAAK7X,GAAIma,WAAYtC,EAAKO,eAAgBlV,KAAM1F,KASzG,OACC,kBAACwT,GAAA,EAAD,CAAMtS,UAAWR,EAAQsa,SACC,YAAxBgB,EAAarb,QACb,kBAACa,EAAA,EAAD,CAAKN,UAAWR,EAAQ0a,OACvB,kBAACd,GAAA,EAAD,CAAQ3X,IAAK0X,EAAKE,mBAAoBhZ,MAAO,CAAEsB,MAAO,MAAOnF,OAAQ,SACrE,kBAACsD,EAAA,EAAD,CAAYC,QAAQ,KAAKM,MAAO,CAAEwF,QAAS,UACzCsT,EAAKG,kBAEP,yBAAKjZ,MAAO,CAAEuD,SAAU,KACxB,kBAACyB,EAAA,EAAD,CAAYhF,MAAO,CAAEsB,MAAO,MAAOnF,OAAQ,OAASyL,QAAS,kBAAM0Q,EAAQ,QAC1E,kBAAC,KAAD,CAAW/c,SAAS,cAIvB,kBAAC0E,EAAA,EAAD,CAAKiC,MAAM,eAAevC,UAAWR,EAAQua,YACnB,YAAxBe,EAAarb,QACbqb,EAAaxV,KAAKtD,KAAI,SAACC,EAAMyQ,GAC5B,IAAMgJ,EAAWvC,EAAKO,iBAAmBzX,EAAK0X,SAAWna,EAAQ4a,YAAc5a,EAAQ6a,aACvF,OACC,yBAAKra,UAAS,UAAKR,EAAQsL,QAAb,YAAwB4Q,GAAYvZ,IAAK,MAAQuQ,GAC9D,kBAAC5S,EAAA,EAAD,CAAYE,UAAWR,EAAQ8a,gBAAiBrY,EAAK6I,aAIzD,yBAAK0J,IAAKqG,KAEX,kBAACvd,EAAA,EAAD,CACCqe,YAAY,qBACZ3b,UAAWR,EAAQ+a,aACnBzL,WAAW,EACX/O,QAAQ,WACR6b,QAAQ,IACRxZ,MAAOuY,EACPhd,SAAU,SAACiL,GAAD,OAAOgS,EAAchS,EAAEF,OAAOtG,QACxCuG,WAxCqB7B,EAwCKuU,EAxCgB,SAACzS,GAC3B,KAAdA,EAAEC,SACL/B,MAuCCiC,WAAY,CACX8S,aACC,kBAACxW,EAAA,EAAD,CAAY4C,QAASoT,GACpB,kBAAC,KAAD,Y,qBC1GMS,GAAb,WAGC,aAAe,0BAFf9C,OAAgC+C,KAAG,yBAGlC7Q,KAAK8N,OAAOC,GAAG,SAAS,SAAUzN,GACjCvK,QAAQC,IAAI,0BACZD,QAAQC,IAAIsK,MAGbN,KAAK8N,OAAOC,GAAG,WAAW,WACzBhY,QAAQC,IAAI,oCAVf,yDAca4J,GACXI,KAAK8N,OAAOgD,KAAK,UAAWlR,OAf9B,KCaMmD,GAAc,IAAI7C,GAClBwN,GAAgB,IAAIkD,GA0CXG,GApCwB,SAACrf,GAAkB,IAAD,EAC9BC,IAAMuV,WAAWnE,GAAYxD,QAAS,CAAEhL,OAAQ,YADlB,mBACjDyF,EADiD,KAC1C2F,EAD0C,OAEhChO,IAAMC,SAAsB,MAFI,mBAEjDqc,EAFiD,KAE3CR,EAF2C,KAGlDuD,EAAcC,IAKpB,OAJAtf,IAAMwV,WAAU,WACfpE,GAAY6I,QAAQjM,KAClB,IAGF,kBAAC,IAAMlL,SAAP,KACC,kBAACgF,GAAD,CAAqBvC,MAAO,CAAE8C,QAAO2F,aAEpC,kBAACjL,EAAA,EAAD,CAAWS,MAAO,CAAEoG,WAAY,QAASH,cAAe,UACvD,kBAACgM,GAAA,EAAD,CAAMjS,MAAO,CAAE+P,OAAQ,mBAAoBvB,YAAa,QACvD,kBAAC7R,EAAA,EAAD,CAAMC,WAAS,EAACoD,MAAO,CAAE7D,OAAQ,sBAChC,kBAACQ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGiD,MAAO,CAAE+b,YAAa,qBACvC,kBAAC,GAAD,CAAUzD,QAASA,EAASC,cAAeA,MAE5C,kBAAC,IAAD,CAAOpT,KAAM5I,EAAM4I,MAClB,kBAACxI,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAG4C,UAAWkc,EAAY3f,yBACxC,kBAAC,GAAD,MACC4c,EAAO,kBAAC,GAAD,CAASA,KAAMA,EAAMR,QAASA,EAASC,cAAeA,KAAoB,GAClF,yBAAKvY,MAAO,CAAE7D,OAAQ,mBAAoBwd,UAAW,WACpD,kBAACpd,EAAM8D,UAAP,eC/BK2b,GAJuB,SAACzf,GACtC,OAAO6G,IAAW,kBAAC,GAAD,CAAe/C,UAAW9D,EAAM8D,UAAW8E,KAAM5I,EAAM4I,OAAW,kBAAC,IAAD,CAAU9F,GAAG,Y,8BCkClG,IAuEe4c,GAvEE,SAACvY,GAAD,OAAsB,WACtC9C,QAAQC,IAAI,UAAY6C,GAExB,IAAMwY,EA5CP,SAAoB9e,GACnB,OAAQA,GACP,IAAK,QACJ,MAAO,CACNgH,QAAS,CACR4L,KAAM,WAEPmM,UAAW,CACVnM,KAAM,WAEPrM,WAAY,CACXC,QAAS,QAEVO,KAAM,CACLC,QAAS,YAGZ,IAAK,OACJ,MAAO,CACNA,QAAS,CACR4L,KAAM,WAEPmM,UAAW,CACVnM,KAAM,WAEPrM,WAAY,CACXC,QAAS,UACTkS,MAAO,WAER3R,KAAM,CACLC,QAAS,OACT+X,UAAW,2BACXpc,SAAU,2BACVqc,KAAM,8BAWaC,CAAW3Y,GAClC,OAAO4Y,aAAe,CACrB5Y,QAASwY,EACTK,WAAY,CACXC,WAAY,CAAC,SAAU,YAAa,SAASC,KAAK,KAClDlhB,SAAU,IAEXmhB,UAAW,CACVC,cAAe,CACdnhB,KAAM,CACL0G,MAAO,OACP,UAAW,CACVuB,gBAAiB,+BAIpBmZ,iBAAkB,CACjBC,eAAgB,CACfC,YAAa,WAGfC,UAAW,CACVC,UAAW,CACVrZ,WAAY,mDACZzB,MAAO,SAER+a,SAAU,CACT/a,MAAO,OACPuB,gBAAiB,UACjBqZ,YAAa,QAEdthB,KAAM,CACL0G,MAAO,OACP,UAAW,CACVuB,gBAAiB,aAIpByZ,UAAW,CACVpH,MAAO,CACNrS,gBAAiB,YAGnB0Z,QAAS,CACR3hB,KAAM,CACL0G,MAAO,OACPuB,gBAAiB,WAElBwZ,SAAU,CACT/a,MAAO,OACPuB,gBAAiB,YAGnB2Z,SAAU,CACTH,SAAU,CACTH,YAAa,SAGfO,cAAe,CACdC,GAAI,CACHd,WAAY,iBACZjhB,SAAU,cCzGfgiB,IAASC,OAAO,mBCcD,WACd,IAEMtiB,EAAQsB,IAAMihB,QAAQxB,GAFA,QAEsB,CAFtB,SAI5B,OACC,kBAACyB,GAAA,EAAD,CAAexiB,MAAOA,GACrB,kBAACyiB,GAAA,EAAD,MACA,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOxY,KAAK,IAAIyY,OAAK,EAACvd,UAAWwd,IACjC,kBAAC,GAAD,CAAY1Y,KAAK,SAAS9E,UAAWwd,IACrC,kBAAC,GAAD,CAAY1Y,KAAK,YAAY9E,UAAWyd,IACxC,kBAAC,GAAD,CAAY3Y,KAAK,wBAAwB9E,UAAWiC,IACpD,kBAAC,GAAD,CAAc6C,KAAK,WAAW9E,UAAWuO,KACzC,kBAAC,GAAD,CAAczJ,KAAK,UAAU9E,UAAWyS,KACxC,kBAAC,GAAD,CAAc3N,KAAK,WAAW9E,UAAWyR,KACzC,kBAAC,GAAD,CAAc3M,KAAK,SAAS9E,UAAW6V,UD/B5B,MAAS6H,SAASC,cAAc,Y","file":"static/js/main.9768d049.chunk.js","sourcesContent":["import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\th1: {\n\t\t\tmarginTop: '0.5em',\n\t\t\tfontWeight: 400,\n\t\t\tfontSize: '3.5em',\n\t\t},\n\t\troot: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'space-around',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center 40%',\n\t\t\tmarginTop: '2em',\n\t\t},\n\t\tsectionDesktop: {\n\t\t\tdisplay: 'none',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t},\n\t\t},\n\t\tsectionMobile: {\n\t\t\tdisplay: 'flex',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\trightScrollingContainer: {\n\t\t\theight: 'inherit',\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React, { ChangeEvent } from 'react'\nimport { TextField, Grid } from '@material-ui/core'\n\nexport interface Props {\n\tlabel: string\n\ttype: string\n\tname: string\n\ticon: (props: any) => JSX.Element\n\thandleChange: (e: ChangeEvent<any>) => void\n\thandleBlur: (e: ChangeEvent<any>) => void\n}\n\nconst TextFieldWithIcon: React.FC<Props> = props => {\n\tconst [values] = React.useState<Props>(props)\n\n\treturn (\n\t\t<Grid container alignItems='flex-end'>\n\t\t\t<Grid item xs={1}>\n\t\t\t\t<values.icon />\n\t\t\t</Grid>\n\t\t\t<Grid item xs={11}>\n\t\t\t\t<TextField\n\t\t\t\t\tlabel={values.label}\n\t\t\t\t\ttype={values.type}\n\t\t\t\t\tname={values.name}\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t\tonChange={values.handleChange}\n\t\t\t\t\tonBlur={values.handleBlur}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default TextFieldWithIcon\n","import React from 'react'\nimport { Link as ReactLink, Redirect } from 'react-router-dom'\nimport * as Yup from 'yup'\nimport { withFormik, FormikProps, Form } from 'formik'\nimport axios from 'axios'\nimport { Button, Link, Box, Checkbox, FormControlLabel, Typography, Container } from '@material-ui/core'\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\n\nimport styles from '../../styles'\nimport TextFieldWithIcon from '../reusableComponents/TextFieldWithIcon'\n\ninterface FormValues {\n\tusername: string\n\tpassword: string\n\tremember: boolean\n}\n\nconst InnerForm = (props: FormikProps<FormValues>) => {\n\tconst { touched, errors, isSubmitting } = props\n\tconst classes = styles()\n\n\tif (props.status) {\n\t\treturn <Redirect to='/profile' />\n\t}\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Container maxWidth='sm'>\n\t\t\t\t<Typography variant='h1' className={classes.h1}>\n\t\t\t\t\t{'Sign In'}\n\t\t\t\t</Typography>\n\t\t\t\t<Form>\n\t\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\t\tlabel='Username'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tname='username'\n\t\t\t\t\t\ticon={AccountCircleOutlinedIcon}\n\t\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{touched.username && errors.username && <div>{errors.username}</div>}\n\t\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\t\tlabel='Password'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\ticon={LockOutlinedIcon}\n\t\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{touched.password && errors.password && <div>{errors.password}</div>}\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\tstyle={{ marginTop: '2em' }}>\n\t\t\t\t\t\t{'Log In'}\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n\t\t\t\t<Box m={1} textAlign='center'>\n\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\t{'New here? '}\n\t\t\t\t\t\t<ReactLink to='/register'>\n\t\t\t\t\t\t\t<Link component='button' type='button' variant='body1'>\n\t\t\t\t\t\t\t\t{'Sign Up'}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</ReactLink>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Container>\n\t\t</React.Fragment>\n\t)\n}\n\nconst SignIn = withFormik<{}, FormValues>({\n\tmapPropsToValues: (props) => {\n\t\treturn {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tremember: true,\n\t\t}\n\t},\n\tvalidationSchema: Yup.object().shape({\n\t\tusername: Yup.string().required('Required'),\n\t\tpassword: Yup.string().required('Required').min(6, 'Must be 6 characters or less'),\n\t}),\n\n\thandleSubmit: (values: FormValues, props) => {\n\t\taxios\n\t\t\t.post('/auth/login', {\n\t\t\t\tusername: values.username,\n\t\t\t\tpassword: values.password,\n\t\t\t})\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: res['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (error.response['data']['success'] === true) {\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: error.response['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t},\n})(InnerForm)\n\nexport default SignIn\n","import React from 'react'\nimport { Link as ReactLink, Redirect } from 'react-router-dom'\nimport * as Yup from 'yup'\nimport { withFormik, FormikProps, Form } from 'formik'\nimport {\n\tButton,\n\tContainer,\n\tLink,\n\tBox,\n\tTypography,\n\tRadioGroup,\n\tFormControlLabel,\n\tRadio,\n\tGrid,\n\tTextField,\n} from '@material-ui/core'\nimport axios from 'axios'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined'\nimport Filter1OutlinedIcon from '@material-ui/icons/Filter1Outlined'\nimport Filter2OutlinedIcon from '@material-ui/icons/Filter2Outlined'\nimport styles from '../../styles'\nimport TextFieldWithIcon from '../reusableComponents/TextFieldWithIcon'\nimport CakeIcon from '@material-ui/icons/Cake'\n\ninterface FormValues {\n\temail: string\n\tusername: string\n\tfirstName: string\n\tlastName: string\n\tpassword: string\n\tgender: string\n\tbirth: string\n}\n\nconst InnerForm = (props: FormikProps<FormValues>) => {\n\tconst { touched, errors, isSubmitting } = props\n\tconst classes = styles()\n\n\tif (props.status) {\n\t\treturn <Redirect to='/profile' />\n\t}\n\n\treturn (\n\t\t<Container maxWidth='sm'>\n\t\t\t<Typography variant='h1' className={classes.h1}>\n\t\t\t\t{'Sing Up'}\n\t\t\t</Typography>\n\t\t\t<Form>\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Email'\n\t\t\t\t\ttype='email'\n\t\t\t\t\tname='email'\n\t\t\t\t\ticon={MailOutlineIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.email && errors.email && <div>{errors.email}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Username'\n\t\t\t\t\ttype='username'\n\t\t\t\t\tname='username'\n\t\t\t\t\ticon={AccountCircleOutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.username && errors.username && <div>{errors.username}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='First name'\n\t\t\t\t\ttype='firstName'\n\t\t\t\t\tname='firstName'\n\t\t\t\t\ticon={Filter1OutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.firstName && errors.firstName && <div>{errors.firstName}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Last name'\n\t\t\t\t\ttype='lastName'\n\t\t\t\t\tname='lastName'\n\t\t\t\t\ticon={Filter2OutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.lastName && errors.lastName && <div>{errors.lastName}</div>}\n\n\t\t\t\t<Grid container alignItems='flex-end' style={{ height: '3.587em' }}>\n\t\t\t\t\t<Grid item xs={1}>\n\t\t\t\t\t\t<CakeIcon />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={11}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid='date'\n\t\t\t\t\t\t\ttype='date'\n\t\t\t\t\t\t\tname='birth'\n\t\t\t\t\t\t\tonChange={props.handleChange}\n\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t{touched.birth && errors.birth && <div>{errors.birth}</div>}\n\n\t\t\t\t<Grid container alignItems='flex-end' style={{ height: '3.587em' }}>\n\t\t\t\t\t<Grid item xs={1}>\n\t\t\t\t\t\t<img src={'/images/genderIcon.svg'} alt='gender' style={{ width: '2em', height: '2em' }} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={11}>\n\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\taria-label='gender'\n\t\t\t\t\t\t\tonChange={props.handleChange}\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\tname='gender'\n\t\t\t\t\t\t\tstyle={{ borderBottom: '0.5px solid #0f0f11' }}>\n\t\t\t\t\t\t\t{['male', 'female'].map((elem) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tkey={'gender' + elem}\n\t\t\t\t\t\t\t\t\t\tvalue={elem}\n\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\t\t\t\tlabel={elem}\n\t\t\t\t\t\t\t\t\t\tlabelPlacement='end'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t{touched.gender && errors.gender && <div>{errors.gender}</div>}\n\n\t\t\t\t<TextFieldWithIcon\n\t\t\t\t\tlabel='Password'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tname='password'\n\t\t\t\t\ticon={LockOutlinedIcon}\n\t\t\t\t\thandleChange={props.handleChange}\n\t\t\t\t\thandleBlur={props.handleBlur}\n\t\t\t\t/>\n\t\t\t\t{touched.password && errors.password && <div>{errors.password}</div>}\n\n\t\t\t\t{/** Log In **/}\n\t\t\t\t<Box mt={2}>\n\t\t\t\t\t<Button type='submit' variant='contained' fullWidth={true} disabled={isSubmitting}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box m={1} textAlign='center'>\n\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\t{'Already have accaunt? '}\n\t\t\t\t\t\t<ReactLink to='/login'>\n\t\t\t\t\t\t\t<Link component='button' type='button' variant='body1'>\n\t\t\t\t\t\t\t\t{'Sign In'}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</ReactLink>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Form>\n\t\t</Container>\n\t)\n}\n\nconst SignUp = withFormik<{}, FormValues>({\n\tmapPropsToValues: (props) => {\n\t\treturn {\n\t\t\temail: '',\n\t\t\tusername: '',\n\t\t\tfirstName: '',\n\t\t\tlastName: '',\n\t\t\tpassword: '',\n\t\t\tbirth: '',\n\t\t\tgender: '',\n\t\t}\n\t},\n\tvalidationSchema: Yup.object().shape({\n\t\temail: Yup.string().email('Should be a valid email adress').required('Required'),\n\t\tusername: Yup.string().required('Required'),\n\t\tfirstName: Yup.string().required('Required'),\n\t\tlastName: Yup.string().required('Required'),\n\t\tpassword: Yup.string().required('Required').min(6, 'Must be 6 characters or less'),\n\t\tbirth: Yup.string().required('Required'),\n\t\tgender: Yup.string().required('Required'),\n\t}),\n\n\thandleSubmit: (values: FormValues, props) => {\n\t\tconsole.log(values)\n\t\taxios\n\t\t\t.post('/auth/register', {\n\t\t\t\temail: values.email,\n\t\t\t\tusername: values.username,\n\t\t\t\tfirstName: values.firstName,\n\t\t\t\tlastName: values.lastName,\n\t\t\t\tpassword: values.password,\n\t\t\t\tbirth: values.birth,\n\t\t\t\tgender: values.gender,\n\t\t\t})\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: res['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (!error.response) {\n\t\t\t\t\tconsole.log('No Connection')\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (error.response['data']['success'] === true) {\n\t\t\t\t\tprops.setStatus(true)\n\t\t\t\t} else {\n\t\t\t\t\tprops.setErrors({ username: error.response['data']['msg'] })\n\t\t\t\t\tprops.setSubmitting(false)\n\t\t\t\t}\n\t\t\t})\n\t},\n})(InnerForm)\n\nexport default SignUp\n","import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\n\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { Alert } from '@material-ui/lab'\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tfullWidth: {\n\t\t\twidth: '100%',\n\t\t},\n\t}),\n)\n\ninterface RouteParams {\n\tuserid: string | undefined\n\tuuid: string | undefined\n}\n\ninterface Props {\n\tsuccess: boolean | undefined\n\tmsg: string | undefined\n\tresponded: boolean\n}\n\nconst VerifyEmail: React.FC = () => {\n\tconst classes = useStyles()\n\n\tconst params = useParams<RouteParams>()\n\tconst [props, setProps] = useState<Props>({\n\t\tsuccess: undefined,\n\t\tmsg: undefined,\n\t\tresponded: false,\n\t})\n\n\tif (props.responded === false) {\n\t\taxios\n\t\t\t.get('/auth/verify/' + params.userid + '/' + params.uuid)\n\t\t\t.then(function (res) {\n\t\t\t\tconsole.log(params.userid)\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tsetProps({ success: true, msg: 'You email successufully verified.', responded: true })\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tif (error.response['data'] && error.response['data']['success'] === false) {\n\t\t\t\t\tsetProps({ success: false, msg: error.response['data']['msg'], responded: true })\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<Container maxWidth='md'>\n\t\t\t<Box justifyContent='center' marginTop='2.5em' display='flex'>\n\t\t\t\t{props.success === true && (\n\t\t\t\t\t<Alert severity='success' className={classes.fullWidth}>\n\t\t\t\t\t\t{props.msg}\n\t\t\t\t\t</Alert>\n\t\t\t\t)}\n\t\t\t\t{props.success === undefined && <CircularProgress className={classes.root} />}\n\t\t\t\t{props.success === false && (\n\t\t\t\t\t<Alert severity='error' className={classes.fullWidth}>\n\t\t\t\t\t\t{props.msg}\n\t\t\t\t\t</Alert>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Container>\n\t)\n}\n\nexport default VerifyEmail\n","import Cookie from 'js-cookie'\n\nexport const isUser = (): boolean => {\n\tif (Cookie.get('user')) return true\n\telse return false\n}\n","import { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tgrow: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tappBar: {\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tboxShadow: 'none',\n\t\t\tzIndex: 2,\n\t\t},\n\t\ticonButton: {\n\t\t\tborderRadius: '0.1em',\n\t\t},\n\t\tlink: {\n\t\t\ttextDecoration: 'none',\n\t\t\tcolor: theme.palette.text.primary,\n\t\t},\n\t}),\n)\n\nexport default styles\n","import * as React from 'react'\nimport { User } from '../reducers/UserReducer'\nimport { Action, State } from '../reducers/RequestReducer'\n\nconst ctxt = React.createContext<{ state: State<User>; dispatch: React.Dispatch<Action<User>> } | null>(null)\n\nexport const UserContextProvider = ctxt.Provider\n\nexport const UserContextConsumer = ctxt.Consumer\n","import React from 'react'\nimport { AppBar, Toolbar, Typography, Container } from '@material-ui/core/'\n\nimport axios from 'axios'\nimport appBarMakeStyles from './styles'\nimport { Link } from 'react-router-dom'\nimport IconButton from '@material-ui/core/IconButton'\nimport { UserContextConsumer } from '../../helpers/UserContextProvider'\nimport SettingsIcon from '@material-ui/icons/Settings'\n\nconst PrimaryAppBar: React.FC = () => {\n\tconst classes = appBarMakeStyles()\n\n\tconst handleLogOut = () => {\n\t\taxios\n\t\t\t.post('/api/auth/logout')\n\t\t\t.then(function (res) {\n\t\t\t\t// setRedirect(true)\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\t// props.setErrors({ username: error })\n\t\t\t})\n\t}\n\n\tconst menu = [\n\t\t{\n\t\t\tname: 'Gallery',\n\t\t\troute: '/gallery',\n\t\t},\n\t\t{\n\t\t\tname: 'Settings',\n\t\t\troute: '/profile',\n\t\t},\n\t]\n\treturn (\n\t\t<UserContextConsumer>\n\t\t\t{(ctx) =>\n\t\t\t\tctx?.state.status === 'success' && (\n\t\t\t\t\t<AppBar position='static' className={classes.appBar}>\n\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t<Typography variant='h3'>Matcha</Typography>\n\t\t\t\t\t\t\t<div className={classes.grow} />\n\t\t\t\t\t\t\t<Link to='/search' className={classes.link}>\n\t\t\t\t\t\t\t\t<IconButton className={classes.iconButton} color='inherit'>\n\t\t\t\t\t\t\t\t\t{'Search'}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to={ctx.state.data.username} className={classes.link}>\n\t\t\t\t\t\t\t\t<IconButton className={classes.iconButton} color='inherit'>\n\t\t\t\t\t\t\t\t\t{'My profile'}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to='/profile' className={classes.link}>\n\t\t\t\t\t\t\t\t<IconButton className={classes.iconButton} color='inherit'>\n\t\t\t\t\t\t\t\t\t<SettingsIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{/* {menu.map((elem, idx) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Link to={elem.route} className={classes.link}>\n\t\t\t\t\t\t\t\t\t\t<IconButton className={classes.iconButton} color='inherit' key={idx}>\n\t\t\t\t\t\t\t\t\t\t\t{elem.name}\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})} */}\n\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t</AppBar>\n\t\t\t\t)\n\t\t\t}\n\t\t</UserContextConsumer>\n\t)\n}\n\nexport default PrimaryAppBar\n","import React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport { isUser } from './getJwt'\nimport PrimaryAppBar from '../components/layout/PrimaryAppBar'\n\ninterface Props {\n\tpath: string\n\tcomponent: React.FC | React.ComponentType\n}\nconst GuestRoute: React.FC<Props> = (props: Props) => {\n\treturn isUser() ? (\n\t\t<Redirect to='/profile' />\n\t) : (\n\t\t<React.Fragment>\n\t\t\t<PrimaryAppBar />\n\t\t\t<Route path={props.path} component={props.component} />\n\t\t</React.Fragment>\n\t)\n}\n\nexport default GuestRoute\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tmarginSm: {\n\t\t\tmargin: `${theme.spacing(0.1)}em`,\n\t\t},\n\t\tpaddingSm: {\n\t\t\tpadding: `${theme.spacing(0.1)}em`,\n\t\t},\n\t\tprofileAvatar: {\n\t\t\twidth: `22em`,\n\t\t\theight: `22em`,\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\twidth: `16em`,\n\t\t\t\theight: `16em`,\n\t\t\t\tmargin: 'none',\n\t\t\t},\n\t\t\tborderRadius: '50%',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tvisibleAvatarChange: {\n\t\t\t'&:hover': {\n\t\t\t\t'& $profileAvatarChange': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tprofileAvatarChange: {\n\t\t\tmarginTop: `-22em`,\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tmarginTop: `-16em`,\n\t\t\t},\n\t\t\tlineHeight: `${theme.spacing(0.5)}em`,\n\t\t\tdisplay: 'flex',\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tcolor: 'white',\n\t\t\topacity: 0.5,\n\t\t\tvisibility: 'hidden',\n\t\t\tmarginBottom: '0.5em',\n\t\t},\n\t\tphotoLibraryIcon: { fontSize: `${theme.spacing(0.5)}em`, margin: 'auto' },\n\t\tprofileTextField: {\n\t\t\tmarginBottom: '0.7em',\n\t\t\tpaddingBottom: '0.4em',\n\t\t\tborderBottom: '1px solid #28272c',\n\t\t},\n\t\tprofileCard: {\n\t\t\tpadding: '1em',\n\t\t\tmarginBottom: '2em',\n\t\t},\n\t\tbasicInputFieldsContainer: {\n\t\t\tpaddingTop: '1.5em',\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t\tchip: {\n\t\t\tmargin: `${theme.spacing(0.05)}em`,\n\t\t},\n\t}),\n)\n\nexport default styles\n","interface BasicField {\n\tname: string\n\tkey: 'username' | 'email' | 'firstName' | 'lastName'\n}\nconst fields: BasicField[] = [\n\t{\n\t\tname: 'Username',\n\t\tkey: 'username',\n\t},\n\t{\n\t\tname: 'Email',\n\t\tkey: 'email',\n\t},\n\t{\n\t\tname: 'First Name',\n\t\tkey: 'firstName',\n\t},\n\t{\n\t\tname: 'Last Name',\n\t\tkey: 'lastName',\n\t},\n]\n\nexport default fields\n","import React from 'react'\nimport { Box, TextField, Button, Typography, Dialog, DialogContent, InputAdornment, Chip } from '@material-ui/core'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\nimport profileClasses from './styles'\n\nimport { User } from '../../reducers/UserReducer'\n\ninterface Props {\n\tsetProfile: ((value: React.SetStateAction<User>) => void) | null\n\tprofile: User\n\teditable: boolean\n}\n\nconst Interests: React.FC<Props> = (props: Props) => {\n\tconst { setProfile, profile, editable } = props\n\tconst classes = profileClasses()\n\n\tconst [interestsDialog, setInterestsDialog] = React.useState<boolean>(false)\n\tconst [newInterest, setNewInterest] = React.useState<string>('')\n\n\tconst newInterestOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = (event.target as HTMLInputElement).value\n\t\tsetNewInterest(val)\n\t}\n\n\tconst interestDialogOpen = () => {\n\t\tsetInterestsDialog(true)\n\t}\n\tconst interestDialogClose = () => {\n\t\tsetInterestsDialog(false)\n\t}\n\n\tconst removeInterest = (interest: string) => () => {\n\t\tif (setProfile) {\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tinterests: profile.interests.filter((chip) => chip !== interest),\n\t\t\t})\n\t\t}\n\t}\n\n\tconst addInterest = () => {\n\t\tif (setProfile) {\n\t\t\tlet arr = profile.interests\n\t\t\tarr.push(newInterest)\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tinterests: arr,\n\t\t\t})\n\t\t\tsetNewInterest('')\n\t\t\tinterestDialogClose()\n\t\t}\n\t}\n\n\tconst runFuncOnEnter = (func: () => void) => (e: React.KeyboardEvent) => {\n\t\tif (e.keyCode === 13) {\n\t\t\tfunc()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box marginBottom='1em'>\n\t\t\t{editable ? (\n\t\t\t\t<Box>\n\t\t\t\t\t<Typography>{'Interests'}:</Typography>\n\t\t\t\t\t{profile.interests.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} onDelete={removeInterest(data)} />\n\t\t\t\t\t})}\n\t\t\t\t\t<Chip\n\t\t\t\t\t\ticon={<AddCircleOutlineIcon />}\n\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\tlabel={'New'}\n\t\t\t\t\t\tclickable={true}\n\t\t\t\t\t\tonClick={interestDialogOpen}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Box textAlign='left'>\n\t\t\t\t\t<Typography>{'Interests'}:</Typography>\n\t\t\t\t\t{profile.interests.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} variant='outlined' />\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Dialog onClose={interestDialogClose} aria-labelledby='customized-dialog-title' open={interestsDialog}>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid='outlined-search'\n\t\t\t\t\t\tlabel='Search field'\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tvalue={newInterest}\n\t\t\t\t\t\tonChange={newInterestOnChange}\n\t\t\t\t\t\tonKeyDown={runFuncOnEnter(addInterest)}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: <InputAdornment position='start'>#</InputAdornment>,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\n\t\t\t\t<Box textAlign='center' m={1}>\n\t\t\t\t\t<Button autoFocus variant='outlined' size='small' onClick={addInterest}>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</Box>\n\t)\n}\n\nexport default Interests\n","import React from 'react'\nimport { Box, TextField, Button, Typography, Dialog, DialogContent, InputAdornment, Chip } from '@material-ui/core'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\nimport profileClasses from './styles'\n\nimport { User } from '../../reducers/UserReducer'\n\ninterface Props {\n\tsetProfile: ((value: React.SetStateAction<User>) => void) | null\n\tprofile: User\n\teditable: boolean\n}\n\nconst LookingFor: React.FC<Props> = (props: Props) => {\n\tconst { setProfile, profile, editable } = props\n\tconst classes = profileClasses()\n\n\tconst [lookingForDialog, setlookingForDialog] = React.useState<boolean>(false)\n\tconst [newInterest, setNewInterest] = React.useState<string>('')\n\n\tconst newInterestOnChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst val = (event.target as HTMLInputElement).value\n\t\tsetNewInterest(val)\n\t}\n\n\tconst interestDialogOpen = () => {\n\t\tsetlookingForDialog(true)\n\t}\n\tconst interestDialogClose = () => {\n\t\tsetlookingForDialog(false)\n\t}\n\n\tconst removeInterest = (interest: string) => () => {\n\t\tif (setProfile) {\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tlookingFor: profile.lookingFor.filter((chip) => chip !== interest),\n\t\t\t})\n\t\t}\n\t}\n\n\tconst addInterest = () => {\n\t\tif (setProfile) {\n\t\t\tlet arr = profile.lookingFor\n\t\t\tarr.push(newInterest)\n\t\t\tsetProfile({\n\t\t\t\t...profile,\n\t\t\t\tlookingFor: arr,\n\t\t\t})\n\t\t\tsetNewInterest('')\n\t\t\tinterestDialogClose()\n\t\t}\n\t}\n\n\tconst runFuncOnEnter = (func: () => void) => (e: React.KeyboardEvent) => {\n\t\tif (e.keyCode === 13) {\n\t\t\tfunc()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box marginBottom='1em'>\n\t\t\t{editable ? (\n\t\t\t\t<Box>\n\t\t\t\t\t<Typography>{'LookingFor'}:</Typography>\n\t\t\t\t\t{profile.lookingFor.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} onDelete={removeInterest(data)} />\n\t\t\t\t\t})}\n\t\t\t\t\t<Chip\n\t\t\t\t\t\ticon={<AddCircleOutlineIcon />}\n\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\tlabel={'New'}\n\t\t\t\t\t\tclickable={true}\n\t\t\t\t\t\tonClick={interestDialogOpen}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Box textAlign='left'>\n\t\t\t\t\t<Typography>{'LookingFor'}:</Typography>\n\t\t\t\t\t{profile.lookingFor.map((data) => {\n\t\t\t\t\t\treturn <Chip key={data} label={data} className={classes.chip} variant='outlined' />\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Dialog onClose={interestDialogClose} aria-labelledby='customized-dialog-title' open={lookingForDialog}>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid='outlined-search'\n\t\t\t\t\t\tlabel='Search field'\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tvalue={newInterest}\n\t\t\t\t\t\tonChange={newInterestOnChange}\n\t\t\t\t\t\tonKeyDown={runFuncOnEnter(addInterest)}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: <InputAdornment position='start'>#</InputAdornment>,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\n\t\t\t\t<Box textAlign='center' m={1}>\n\t\t\t\t\t<Button autoFocus variant='outlined' size='small' onClick={addInterest}>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Dialog>\n\t\t</Box>\n\t)\n}\n\nexport default LookingFor\n","import React from 'react'\nimport { Box, Button, Typography, Grid } from '@material-ui/core'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary'\nimport profileClasses from './styles'\nimport fields from './BasicFields'\nimport Interests from './Interests'\nimport LookingFor from './LookingFor'\nimport { Link } from 'react-router-dom'\nimport { User } from '../../reducers/UserReducer'\n\ninterface Props {\n\tuser: User\n\tsetEditable: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nconst NotEditable: React.FC<Props> = (props: Props) => {\n\tconst { user, setEditable } = props\n\tconst classes = profileClasses()\n\n\treturn (\n\t\t<Box className={classes.profileCard}>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.visibleAvatarChange}`}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName={classes.profileAvatar}\n\t\t\t\t\t\t\tsrc={user.avatar ? user.avatar.normal : `/images/noavatar${user.gender}.jpg`}\n\t\t\t\t\t\t\talt='Your avatar'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Link to='/gallery'>\n\t\t\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.profileAvatarChange}`}>\n\t\t\t\t\t\t\t\t<PhotoLibraryIcon className={classes.photoLibraryIcon} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={6} className={classes.basicInputFieldsContainer}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{fields.map((elem) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Typography align='left' className={classes.profileTextField} key={elem.key}>\n\t\t\t\t\t\t\t\t\t{elem.name}: {user[elem.key]}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box textAlign='left'>\n\t\t\t\t\t\t<Typography className={classes.profileTextField}>\n\t\t\t\t\t\t\t{'Gender'}: {user.gender}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography className={classes.profileTextField}>\n\t\t\t\t\t\t\t{'Sexual preferences'}: {user.preferences}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Typography align='left' className={classes.profileTextField}>\n\t\t\t\tBirthday:{' '}\n\t\t\t\t{new Date(user.birth).toLocaleDateString('en-US', {\n\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\tmonth: 'long',\n\t\t\t\t\tday: 'numeric',\n\t\t\t\t})}\n\t\t\t</Typography>\n\t\t\t<Typography align='left' className={classes.profileTextField}>\n\t\t\t\tLatitude: {user.lat}\n\t\t\t</Typography>\n\t\t\t<Typography align='left' className={classes.profileTextField}>\n\t\t\t\tLongitude: {user.lon}\n\t\t\t</Typography>\n\t\t\t<LookingFor setProfile={null} profile={user} editable={false} />\n\t\t\t<Interests setProfile={null} profile={user} editable={false} />\n\t\t\t<Box textAlign='center'>\n\t\t\t\t<Typography align='left'>{'About'}:</Typography>\n\t\t\t\t<Box className={classes.paddingSm}>\n\t\t\t\t\t<Typography align='left'>{user.biography}</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Button onClick={() => setEditable(true)} variant='outlined' className={classes.marginSm}>\n\t\t\t\t\t{'Edit'}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default NotEditable\n","import React from 'react'\nimport axios, { AxiosRequestConfig, AxiosResponse } from 'axios'\n\nexport type State<T> = { status: 'loading' } | { status: 'error'; error: string } | { status: 'success'; data: T }\n\nexport type Action<T> = { type: 'request' } | { type: 'success'; results: T } | { type: 'failure'; error: string }\n\nexport default abstract class RequesReduser<T> {\n\tabstract baseUrl: string\n\n\treducer = (state: State<T>, action: Action<T>): State<T> => {\n\t\tswitch (action.type) {\n\t\t\tcase 'request':\n\t\t\t\treturn { status: 'loading' }\n\t\t\tcase 'success':\n\t\t\t\treturn { status: 'success', data: action.results }\n\t\t\tcase 'failure':\n\t\t\t\treturn { status: 'error', error: action.error }\n\t\t}\n\t}\n\tprotected requestDefault(reqConfig: AxiosRequestConfig, dispatch: React.Dispatch<Action<T>>) {\n\t\taxios(reqConfig)\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tconsole.log(res['data']['data'])\n\t\t\t\t\tdispatch({ type: 'success', results: res['data']['data'] })\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({ type: 'failure', error: res['data']['message'] })\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tdispatch({ type: 'failure', error: error.message })\n\t\t\t})\n\t}\n\n\tprotected request(\n\t\treqConfig: AxiosRequestConfig,\n\t\tsuccessCb: (res: AxiosResponse<any>) => void = () => {},\n\t\terrorCb: (res: string) => void = () => {},\n\t) {\n\t\taxios(reqConfig)\n\t\t\t.then(function (res) {\n\t\t\t\tif (res['data']['success'] === true) {\n\t\t\t\t\tsuccessCb(res)\n\t\t\t\t} else {\n\t\t\t\t\terrorCb(res['data']['message'])\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\terrorCb(error.message)\n\t\t\t})\n\t}\n\n\tprotected getReq(url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'GET',\n\t\t}\n\t}\n\tprotected postReq(data: any, url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'POST',\n\t\t\tdata: data,\n\t\t}\n\t}\n\tprotected putReq(data: any, url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: data,\n\t\t}\n\t}\n\tprotected delReq(url?: string): AxiosRequestConfig {\n\t\treturn {\n\t\t\turl: url === undefined ? this.baseUrl : url,\n\t\t\tmethod: 'DELETE',\n\t\t}\n\t}\n}\n","import RequesReduser, { Action } from './RequestReducer'\n\ntype Gender = 'male' | 'female' | ''\ntype Preferences = 'male' | 'female' | 'male and female'\n\nexport type User = {\n\tid: number\n\tusername: string\n\temail: string\n\tfirstName: string\n\tlastName: string\n\tgender: Gender\n\tpreferences: Preferences\n\tavatar?:\n\t\t| {\n\t\t\t\tthumbnail: string\n\t\t\t\tnormal: string\n\t\t  }\n\t\t| undefined\n\tlookingFor: string[]\n\tinterests: string[]\n\tbiography: string\n\tlat: number\n\tlon: number\n\theartIsGiven: boolean\n\theartsNumber: number\n\tbirth: Date | string\n\tage: number\n}\n\nclass UserReducer extends RequesReduser<User> {\n\tbaseUrl = '/user'\n\tgetUser(dispatch: React.Dispatch<Action<User>>, url?: string) {\n\t\tthis.request(\n\t\t\tthis.getReq(`/user/${url}`),\n\t\t\t(res) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tresults: { ...res['data']['data'], birth: this.formatDate(res['data']['data'].birth) },\n\t\t\t\t})\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\tsaveUser(data: User, dispatch: React.Dispatch<Action<User>>, onSuccess: () => void) {\n\t\tthis.request(\n\t\t\tthis.putReq(data),\n\t\t\t(res) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tresults: { ...res['data']['data'], birth: this.formatDate(res['data']['data'].birth) },\n\t\t\t\t})\n\t\t\t\tonSuccess()\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\tformatDate(date: string) {\n\t\tconst d = new Date(date)\n\t\tconst dtf = new Intl.DateTimeFormat('en', { year: 'numeric', month: '2-digit', day: '2-digit' })\n\t\tconst [{ value: mo }, , { value: da }, , { value: ye }] = dtf.formatToParts(d)\n\t\treturn `${ye}-${mo}-${da}`\n\t}\n\n\tgetLocation(dispatch: React.Dispatch<Action<User>>, onSuccess: (lat: number, lon: number) => void) {\n\t\tconst success = (position: Position) => {\n\t\t\tconst latitude = position.coords.latitude\n\t\t\tconst longitude = position.coords.longitude\n\t\t\t//   `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`;\n\t\t\tthis.request(\n\t\t\t\tthis.putReq({ lat: latitude, lon: longitude }),\n\t\t\t\t(res) => {\n\t\t\t\t\tonSuccess(latitude, longitude)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t\t},\n\t\t\t)\n\t\t}\n\n\t\tconst error = (positionError: PositionError) => {\n\t\t\tconsole.log('PositionError:' + positionError.message)\n\t\t}\n\n\t\tif (!navigator.geolocation) {\n\t\t\tconsole.log('Geolocation is not supported by your browser')\n\t\t} else {\n\t\t\tconsole.log(navigator.geolocation.getCurrentPosition(success, error))\n\t\t}\n\t}\n\n\tgetDistanse(lat1: number, lon1: number, lat2: number, lon2: number): number {\n\t\tconst R = 6371e3 // metres\n\t\tconst φ1 = (lat1 * Math.PI) / 180 // φ, λ in radians\n\t\tconst φ2 = (lat2 * Math.PI) / 180\n\t\tconst Δφ = ((lat2 - lat1) * Math.PI) / 180\n\t\tconst Δλ = ((lon2 - lon1) * Math.PI) / 180\n\n\t\tconst a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2)\n\t\tconst c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n\n\t\tconst d = Math.round(((R * c) / 1000 + Number.EPSILON) * 100) / 100 // in km\n\t\treturn d\n\t}\n\n\tgiveHurt(dispatch: React.Dispatch<Action<User>>, user: User) {\n\t\tthis.request(\n\t\t\tthis.postReq({}, `/heart/${user.id}`),\n\t\t\t(res) => {\n\t\t\t\tif (res.data['success']) {\n\t\t\t\t\tdispatch({ type: 'success', results: { ...user, heartsNumber: user.heartsNumber + 1, heartIsGiven: true } })\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\treturnHurt(dispatch: React.Dispatch<Action<User>>, user: User) {\n\t\tthis.request(\n\t\t\tthis.delReq(`/heart/${user.id}`),\n\t\t\t(res) => {\n\t\t\t\tif (res.data['success']) {\n\t\t\t\t\tdispatch({ type: 'success', results: { ...user, heartsNumber: user.heartsNumber - 1, heartIsGiven: false } })\n\t\t\t\t}\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default UserReducer\n","import React, { useState } from 'react'\nimport {\n\tBox,\n\tRadio,\n\tRadioGroup,\n\tFormControl,\n\tFormLabel,\n\tFormControlLabel,\n\tTextField,\n\tButton,\n\tGrid,\n\tTypography,\n} from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport MaskedInput from 'react-text-mask'\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary'\nimport profileClasses from './styles'\nimport fields from './BasicFields'\nimport Interests from './Interests'\nimport LookingFor from './LookingFor'\nimport { Action } from '../../reducers/RequestReducer'\nimport UserReducer, { User } from '../../reducers/UserReducer'\n\nconst userReducer = new UserReducer()\n\ninterface Props {\n\tdispatch: React.Dispatch<Action<User>>\n\tuser: User\n\tsetEditable: React.Dispatch<React.SetStateAction<boolean>>\n}\n\ninterface TextMaskCustomProps {\n\tinputRef: (ref: HTMLInputElement | null) => void\n}\n\nconst Editable: React.FC<Props> = (props: Props) => {\n\tconst classes = profileClasses()\n\tconst { dispatch, user, setEditable } = props\n\tconst [profile, setProfile] = useState<User>({\n\t\t...user,\n\t\tinterests: user.interests.slice(),\n\t})\n\n\tconst changeProfileData = (prop: string) => (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetProfile({ ...profile, [prop]: event.target.value })\n\t}\n\n\tconst closeEditing = () => {\n\t\tdispatch({ type: 'success', results: user })\n\t\tsetEditable(false)\n\t}\n\n\tconst changeNumericData = (prop: string) => (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tvar re = new RegExp(/(^[-+]?\\d*\\.?\\d*$)/g)\n\t\tif (re.test(event.target.value)) setProfile({ ...profile, [prop]: event.target.value })\n\t}\n\n\treturn (\n\t\t<Box className={classes.profileCard}>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.visibleAvatarChange}`}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName={classes.profileAvatar}\n\t\t\t\t\t\t\tsrc={profile.avatar ? profile.avatar.normal : `/images/noavatar${profile.gender}.jpg`}\n\t\t\t\t\t\t\talt='Your avatar'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Link to='/gallery'>\n\t\t\t\t\t\t\t<div className={`${classes.profileAvatar} ${classes.profileAvatarChange}`}>\n\t\t\t\t\t\t\t\t<PhotoLibraryIcon className={classes.photoLibraryIcon} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={6} className={classes.basicInputFieldsContainer}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{fields.map((elem) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tlabel={elem.name}\n\t\t\t\t\t\t\t\t\tonChange={changeProfileData(elem.key)}\n\t\t\t\t\t\t\t\t\tvalue={profile[elem.key]}\n\t\t\t\t\t\t\t\t\tkey={elem.key}\n\t\t\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<FormControl component='fieldset'>\n\t\t\t\t\t\t\t<FormLabel component='legend'>Choose your Gender</FormLabel>\n\t\t\t\t\t\t\t<RadioGroup aria-label='gender' value={profile.gender || ''} onChange={changeProfileData('gender')} row>\n\t\t\t\t\t\t\t\t{['male', 'female'].map((elem) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\tkey={'gender' + elem}\n\t\t\t\t\t\t\t\t\t\t\tvalue={elem}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\t\t\t\t\tlabel={elem}\n\t\t\t\t\t\t\t\t\t\t\tlabelPlacement='start'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl component='fieldset'>\n\t\t\t\t\t\t\t<FormLabel component='legend'>Your sexual preference</FormLabel>\n\t\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\t\taria-label='preferences'\n\t\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\t\tvalue={profile.preferences}\n\t\t\t\t\t\t\t\tonChange={changeProfileData('preferences')}>\n\t\t\t\t\t\t\t\t{['male', 'female', 'male and female'].map((elem) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\tkey={'pref' + elem}\n\t\t\t\t\t\t\t\t\t\t\tvalue={elem}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio color='primary' />}\n\t\t\t\t\t\t\t\t\t\t\tlabel={elem}\n\t\t\t\t\t\t\t\t\t\t\tlabelPlacement='start'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<TextField\n\t\t\t\tid='date'\n\t\t\t\tlabel='Birthday'\n\t\t\t\ttype='date'\n\t\t\t\tdefaultValue={profile.birth}\n\t\t\t\tonChange={changeProfileData('birth')}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Typography>Location</Typography>\n\t\t\t<Grid container>\n\t\t\t\t<Grid xs={4} item>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel={'Latitude'}\n\t\t\t\t\t\tonChange={changeNumericData('lat')}\n\t\t\t\t\t\tvalue={profile['lat']}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid xs={4} item>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel={'Longitude'}\n\t\t\t\t\t\tonChange={changeNumericData('lon')}\n\t\t\t\t\t\tvalue={profile['lon']}\n\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid xs={4} item>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tuserReducer.getLocation(dispatch, (lat, lon) => setProfile({ ...profile, lat: lat, lon: lon }))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tstyle={{ margin: 'auto', paddingLeft: '1.5em' }}>\n\t\t\t\t\t\tDetect\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<LookingFor setProfile={setProfile} profile={profile} editable={true} />\n\t\t\t<Interests setProfile={setProfile} profile={profile} editable={true} />\n\t\t\t<Box textAlign='center'>\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth={true}\n\t\t\t\t\tid='outlined-multiline-static'\n\t\t\t\t\tlabel='About'\n\t\t\t\t\tmultiline\n\t\t\t\t\trows='8'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tvalue={profile.biography}\n\t\t\t\t\tonChange={changeProfileData('biography')}\n\t\t\t\t/>\n\t\t\t\t<Button onClick={closeEditing} variant='outlined' className={classes.marginSm}>\n\t\t\t\t\t{'Close'}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tuserReducer.saveUser({ ...profile, interests: profile.interests, avatar: undefined }, dispatch, () =>\n\t\t\t\t\t\t\tsetEditable(false),\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tclassName={classes.marginSm}>\n\t\t\t\t\t{'Save'}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Editable\n","import React, { useState } from 'react'\nimport { Container } from '@material-ui/core'\n\nimport NotEditable from './NotEditable'\nimport Editable from './Editable'\nimport { UserContextConsumer } from '../../helpers/UserContextProvider'\n\nconst Profile: React.FC = () => {\n\tconst [editable, setEditable] = useState<boolean>(false)\n\n\treturn (\n\t\t<UserContextConsumer>\n\t\t\t{(ctx) =>\n\t\t\t\tctx && (\n\t\t\t\t\t<Container maxWidth='md'>\n\t\t\t\t\t\t{editable && ctx.state.status === 'success' && (\n\t\t\t\t\t\t\t<Editable user={ctx.state.data} dispatch={ctx.dispatch} setEditable={setEditable} />\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{!editable && ctx.state.status === 'success' && (\n\t\t\t\t\t\t\t<NotEditable user={ctx.state.data} setEditable={setEditable} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Container>\n\t\t\t\t)\n\t\t\t}\n\t\t</UserContextConsumer>\n\t)\n}\n\nexport default Profile\n","import RequesReduser, { Action } from './RequestReducer'\n\nexport type Image = {\n\tid: number\n\timage: {\n\t\tnormal: string\n\t\tthumbnail: string\n\t}\n}\n\nclass ImagesReducer extends RequesReduser<Image[]> {\n\tbaseUrl = '/image'\n\tgetImages(dispatch: React.Dispatch<Action<Image[]>>, url?: string) {\n\t\tthis.requestDefault(this.getReq(), dispatch)\n\t}\n\n\tgetImagesForSpecificUser(dispatch: React.Dispatch<Action<Image[]>>, username?: string) {\n\t\tthis.requestDefault(this.getReq('/image/' + username), dispatch)\n\t}\n\n\tuploadImage = (event: React.ChangeEvent<HTMLInputElement>, dispatch: React.Dispatch<Action<Image[]>>) => {\n\t\tconst elem = event.target\n\t\tif (elem.files) {\n\t\t\tconst fd = new FormData()\n\t\t\tfd.append('image', elem.files[0])\n\t\t\tconsole.log('upload image')\n\t\t\tthis.request(\n\t\t\t\tthis.postReq(fd),\n\t\t\t\t() => {\n\t\t\t\t\tthis.getImages(dispatch)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t\t},\n\t\t\t)\n\t\t}\n\t}\n\n\tdeleteImage = (id: number, dispatch: React.Dispatch<Action<Image[]>>) => {\n\t\tthis.request(\n\t\t\tthis.delReq(`/image/${id}`),\n\t\t\t() => {\n\t\t\t\tthis.getImages(dispatch)\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n\n\tsetAvatar = (id: number, dispatch: React.Dispatch<Action<Image[]>>) => {\n\t\tthis.request(\n\t\t\tthis.putReq({ avatar: id }, '/user'),\n\t\t\t() => {\n\t\t\t\tthis.getImages(dispatch)\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default ImagesReducer\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tcard: {\n\t\t\tmarginTop: '1em',\n\t\t\tmarginBottom: '1em',\n\t\t\tpadding: '1em',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tmarginTop: '0.5em',\n\t\t\t\tmarginBottom: '0.5em',\n\t\t\t\tpadding: '0.5em',\n\t\t\t},\n\t\t},\n\t\timagesContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\troot: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcentered: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: '50%',\n\t\t\ttop: '50%',\n\t\t\tmsTransform: 'translateY(-50%)',\n\t\t\ttransform: 'translateX(-50%) translateY(-50%)',\n\t\t\twidth: 'fit-content',\n\t\t\theight: 'fit-content',\n\t\t},\n\t\timage: {\n\t\t\tdisplay: 'inline-block',\n\t\t\tfontSize: '12px',\n\t\t\tposition: 'relative',\n\t\t\theight: '20em',\n\t\t\tborder: `1px groove ${theme.palette.primary.main}`,\n\t\t\tmargin: '1.16%',\n\t\t\twidth: '31%',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\theight: '10em',\n\t\t\t\t'& $imageBackdrop': {\n\t\t\t\t\topacity: 0.25,\n\t\t\t\t},\n\t\t\t\t'& $thumbUp': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t\t'& $edit': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\t'& $imageBackdrop': {\n\t\t\t\t\topacity: 0.25,\n\t\t\t\t},\n\t\t\t\t'& $thumbUp': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t\t'& $edit': {\n\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\timageBackdrop: {\n\t\t\topacity: 0,\n\t\t\tbackgroundColor: 'black',\n\t\t},\n\t\timageButton: {\n\t\t\tposition: 'absolute',\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\timageSrc: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center 40%',\n\t\t},\n\t\tthumbUp: {\n\t\t\tright: '1em',\n\t\t\tbottom: '1em',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tright: '0.1em',\n\t\t\t\tbottom: '0.1em',\n\t\t\t},\n\t\t},\n\t\tedit: {\n\t\t\tright: '1em',\n\t\t\ttop: '1em',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tright: '0.1em',\n\t\t\t\ttop: '0.1em',\n\t\t\t},\n\t\t},\n\t\ticonButton: {\n\t\t\theight: '3em',\n\t\t\tposition: 'absolute',\n\t\t\tright: '1em',\n\t\t\tbottom: '1em',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tcolor: 'white',\n\t\t\tvisibility: 'hidden',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tright: '0.1em',\n\t\t\t\tbottom: '0.1em',\n\t\t\t\tvisibility: 'hidden',\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t\t},\n\t\t},\n\t\tthumbsCount: {\n\t\t\tmargin: '0.1em',\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React from 'react'\nimport { Button, Menu, MenuItem } from '@material-ui/core'\nimport EditIcon from '@material-ui/icons/Edit'\nimport { Action } from '../../reducers/RequestReducer'\nimport ImagesReducer, { Image } from '../../reducers/ImagesReducer'\nimport galleryMakeStyles from './styles'\n\nconst imagesReducer = new ImagesReducer()\n\ninterface Props {\n\tid: number\n\tdispatch: React.Dispatch<Action<Image[]>>\n}\n\nconst Edit: React.FC<Props> = (props: Props) => {\n\tconst classes = galleryMakeStyles()\n\n\tconst [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n\tconst isMenuOpen = Boolean(anchorEl)\n\n\tconst handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleMenuClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst renderMenu = (\n\t\t<Menu\n\t\t\tPaperProps={{\n\t\t\t\tstyle: {\n\t\t\t\t\tborder: '1px solid #d3d4d5',\n\t\t\t\t},\n\t\t\t\tonMouseLeave: handleMenuClose,\n\t\t\t}}\n\t\t\tanchorEl={anchorEl}\n\t\t\ttransformOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\tkeepMounted\n\t\t\topen={isMenuOpen}\n\t\t\tonClose={handleMenuClose}>\n\t\t\t<MenuItem onClick={() => imagesReducer.setAvatar(props.id, props.dispatch)}>Set as Avatar</MenuItem>\n\t\t\t<MenuItem onClick={() => imagesReducer.deleteImage(props.id, props.dispatch)}>Remove</MenuItem>\n\t\t</Menu>\n\t)\n\n\treturn (\n\t\t<Button\n\t\t\tkey={'edit'}\n\t\t\tsize='small'\n\t\t\tclassName={`${classes.iconButton} ${classes.edit}`}\n\t\t\tonClick={handleProfileMenuOpen}>\n\t\t\t<EditIcon />\n\t\t\t{renderMenu}\n\t\t</Button>\n\t)\n}\n\nexport default Edit\n","import React, { useEffect, useReducer } from 'react'\nimport { Container, Card, Tooltip, Button, Typography, Input } from '@material-ui/core'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt'\nimport ImagesReducer from '../../reducers/ImagesReducer'\nimport Edit from './Edit'\nimport galleryMakeStyles from './styles'\n\nconst imagesReducer = new ImagesReducer()\n\nconst Gallery: React.FC = () => {\n\tconst classes = galleryMakeStyles()\n\tconst [state, dispatch] = useReducer(imagesReducer.reducer, { status: 'loading' })\n\n\tuseEffect(() => {\n\t\timagesReducer.getImages(dispatch)\n\t}, [])\n\n\treturn (\n\t\t<Container>\n\t\t\t{state.status === 'success' && (\n\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t<Typography align='center'>Gallery</Typography>\n\t\t\t\t\t<div className={classes.imagesContainer}>\n\t\t\t\t\t\t<div className={classes.image}>\n\t\t\t\t\t\t\t<Tooltip title='Add new photo' aria-label='add'>\n\t\t\t\t\t\t\t\t<Button className={classes.centered} size='small' component='label'>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\t\t\t\t\t\tonChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n\t\t\t\t\t\t\t\t\t\t\timagesReducer.uploadImage(event, dispatch)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<AddCircleOutlineIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{state.data.map((image, idx) => (\n\t\t\t\t\t\t\t<div key={idx} className={classes.image}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={classes.imageSrc}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${image.image.thumbnail})`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className={`${classes.imageBackdrop} ${classes.imageSrc}`} />\n\t\t\t\t\t\t\t\t<Edit id={image.id} dispatch={dispatch} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</Container>\n\t)\n}\n\nexport default Gallery\n","import RequesReduser, { Action } from './RequestReducer'\nimport { User } from './UserReducer'\n\ninterface Results {\n\tusers: User[]\n\tpages: number\n}\nclass UserReducer extends RequesReduser<User[]> {\n\tbaseUrl = '/search'\n\n\tsearchUsers(dispatch: React.Dispatch<Action<User[]>>, query?: string) {\n\t\tconsole.log('search users: ' + query)\n\t\tthis.requestDefault(this.getReq(`/search?${query}`), dispatch)\n\t}\n}\n\nexport default UserReducer\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\twidth: '100%',\n\t\t\tmarginTop: 0,\n\t\t},\n\t\timage: {\n\t\t\tposition: 'relative',\n\t\t\theight: 200,\n\t\t\twidth: '31%',\n\t\t\tmargin: '1.16%',\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\twidth: '100% !important', // Overrides inline-style\n\t\t\t\theight: 100,\n\t\t\t},\n\t\t},\n\t\tfocusVisible: {},\n\t\timageButton: {\n\t\t\tposition: 'absolute',\n\t\t\t// left: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tdisplay: 'flex',\n\t\t\t// alignItems: 'center',\n\t\t\t// justifyContent: 'center',\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\timageSrc: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center 40%',\n\t\t},\n\t\timageTitle: {\n\t\t\tposition: 'relative',\n\t\t\tpadding: `${theme.spacing(1)}px ${theme.spacing(1)}px ${theme.spacing(1) + 6}px`,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tsearchFiltersContainer: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\t// padding: '0.5em',\n\t\t\t// height: '5em',\n\t\t\tzIndex: 1,\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React, { useEffect, useRef } from 'react'\nimport {\n\tBox,\n\tButtonBase,\n\tTypography,\n\tSlider,\n\tGrid,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tExpansionPanelDetails,\n\tExpansionPanelActions,\n\tButton,\n\tTextField,\n} from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport SearchReducer from '../../reducers/SearchReducer'\nimport { Link } from 'react-router-dom'\n\nimport styles from './styles'\n\nconst searchReducer = new SearchReducer()\n\nconst Search: React.FC = () => {\n\tconst classes = styles()\n\n\tconst [searchState, searchDispatch] = React.useReducer(searchReducer.reducer, { status: 'loading' })\n\tconst scrollEl = useRef<HTMLDivElement>(null)\n\tconst params = new URLSearchParams(window.location.search)\n\n\tconst [lookingFor, setLookingFor] = React.useState(params.get('lookingfor'))\n\tconst [interest, setInterest] = React.useState(params.get('interest'))\n\tconst [distance, setDistance] = React.useState(Number(params.get('distance')) || 10)\n\n\t// const pagesToshow = 1\n\n\tuseEffect(() => {\n\t\tconsole.log('location')\n\t\tconsole.log(window.location.search)\n\t\tscrollEl.current?.addEventListener('scroll', loadMore)\n\t\tsearchReducer.searchUsers(searchDispatch, window.location.search)\n\t\treturn () => scrollEl.current?.removeEventListener('scroll', loadMore)\n\t}, [])\n\n\tconst loadMore = () => {\n\t\tif (scrollEl.current) {\n\t\t\tconst scrollHeight = scrollEl.current.scrollHeight\n\t\t\tconst scrollTop = scrollEl.current.scrollTop + scrollEl.current.offsetHeight\n\t\t\tif (scrollHeight === scrollTop) {\n\t\t\t\tconsole.log('load more')\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction changeLocation() {\n\t\tif (lookingFor) {\n\t\t\tparams.set('lookingfor', lookingFor)\n\t\t} else {\n\t\t\tparams.delete('lookingfor')\n\t\t}\n\t\tif (interest) {\n\t\t\tparams.set('interest', interest)\n\t\t} else {\n\t\t\tparams.delete('interest')\n\t\t}\n\t\tif (distance) {\n\t\t\tparams.set('distance', String(distance))\n\t\t} else {\n\t\t\tparams.delete('distance')\n\t\t}\n\t\twindow.history.pushState({}, '', '/search?&' + params.toString())\n\t\tsearchReducer.searchUsers(searchDispatch, window.location.search)\n\t}\n\n\tfunction valuetext(value: number) {\n\t\treturn `${value}km`\n\t}\n\tconst changeDist = (num: number) => {\n\t\tsetDistance(num)\n\t}\n\treturn (\n\t\t<div ref={scrollEl}>\n\t\t\t<ExpansionPanel className={classes.searchFiltersContainer}>\n\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\texpandIcon={<ExpandMoreIcon style={{ color: 'white' }} />}\n\t\t\t\t\taria-controls='panel1a-content'\n\t\t\t\t\tid='panel1a-header'\n\t\t\t\t\tstyle={{ flexDirection: 'initial' }}>\n\t\t\t\t\t<Typography style={{ width: '100%', textAlign: 'right' }}>Search options</Typography>\n\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t<Typography id='discrete-slider' gutterBottom>\n\t\t\t\t\t\t\t\tDistance\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tvalue={distance}\n\t\t\t\t\t\t\t\tgetAriaValueText={valuetext}\n\t\t\t\t\t\t\t\taria-labelledby='discrete-slider'\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\tonChange={(e, val) => changeDist(Number(val))}\n\t\t\t\t\t\t\t\tmin={10}\n\t\t\t\t\t\t\t\tmax={1000}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t<Typography id='discrete-slider' gutterBottom>\n\t\t\t\t\t\t\t\tLookingFor\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\t\tvalue={lookingFor ? lookingFor : ''}\n\t\t\t\t\t\t\t\tonChange={(e) => setLookingFor(e.currentTarget.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t<Typography id='discrete-slider' gutterBottom>\n\t\t\t\t\t\t\t\tInterest\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tfullWidth={true}\n\t\t\t\t\t\t\t\tvalue={interest ? interest : ''}\n\t\t\t\t\t\t\t\tonChange={(e) => setInterest(e.currentTarget.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<ExpansionPanelActions>\n\t\t\t\t\t\t<Button size='small' variant='outlined' onClick={changeLocation}>\n\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ExpansionPanelActions>\n\t\t\t\t</ExpansionPanelDetails>\n\t\t\t</ExpansionPanel>\n\t\t\t<Box className={`${classes.root}`}>\n\t\t\t\t{searchState.status === 'success' &&\n\t\t\t\t\tsearchState.data.map((user, idx) => (\n\t\t\t\t\t\t<ButtonBase\n\t\t\t\t\t\t\tfocusRipple\n\t\t\t\t\t\t\tkey={'user' + idx}\n\t\t\t\t\t\t\tclassName={classes.image}\n\t\t\t\t\t\t\tfocusVisibleClassName={classes.focusVisible}>\n\t\t\t\t\t\t\t<Link to={user.username}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={classes.imageSrc}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: `url(${\n\t\t\t\t\t\t\t\t\t\t\tuser.avatar ? user.avatar?.thumbnail : `/images/noavatar${user.gender}.jpg`\n\t\t\t\t\t\t\t\t\t\t})`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className={classes.imageButton}>\n\t\t\t\t\t\t\t\t\t<Typography component='span' variant='subtitle1' color='inherit' className={classes.imageTitle}>\n\t\t\t\t\t\t\t\t\t\t{user.firstName + ' ' + user.lastName}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</ButtonBase>\n\t\t\t\t\t))}\n\t\t\t\t{searchState.status === 'loading' &&\n\t\t\t\t\t[...Array(9)].map((e, i) => (\n\t\t\t\t\t\t<Skeleton key={'skel' + i} variant='rect' className={classes.image} style={{ backgroundColor: 'gray' }} />\n\t\t\t\t\t))}\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default Search\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tuser: {},\n\t\timagesList: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'space-around',\n\t\t\toverflow: 'hidden',\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t\tmarginTop: '1em',\n\t\t},\n\t\tgridList: {\n\t\t\tflexWrap: 'nowrap',\n\t\t\t// Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n\t\t\ttransform: 'translateZ(0)',\n\t\t},\n\t\ttitle: {\n\t\t\tcolor: theme.palette.primary.light,\n\t\t},\n\t\ttitleBar: {\n\t\t\tbackground: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React, { useEffect, useReducer } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { Grid, Chip, Typography, CardMedia, GridList, GridListTile, CardContent, IconButton } from '@material-ui/core'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport { UserContextConsumer } from '../../helpers/UserContextProvider'\nimport UserReducer from '../../reducers/UserReducer'\nimport ImagesReducer from '../../reducers/ImagesReducer'\nimport makeProfileStyles from '../profile/styles'\nimport makeStyles from './styles'\n\nconst userReducer = new UserReducer()\nconst imagesReducer = new ImagesReducer()\n\nconst UserPage: React.FC = () => {\n\tconst { user } = useParams()\n\tconst [userState, userDispatch] = useReducer(userReducer.reducer, { status: 'loading' })\n\tconst [imagesState, imagesDispatch] = useReducer(imagesReducer.reducer, { status: 'loading' })\n\n\tconst classes = makeStyles()\n\tconst profileStyles = makeProfileStyles()\n\n\tuseEffect(() => {\n\t\tconsole.log(user)\n\t\tuserReducer.getUser(userDispatch, user)\n\t\timagesReducer.getImagesForSpecificUser(imagesDispatch, user)\n\t}, [user])\n\n\treturn (\n\t\t<UserContextConsumer>\n\t\t\t{(ctx) =>\n\t\t\t\tctx?.state.status === 'success' &&\n\t\t\t\tuserState.status === 'success' && (\n\t\t\t\t\t<Grid container style={{ height: 'inherit', padding: '2em' }}>\n\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\timage={\n\t\t\t\t\t\t\t\t\tuserState.data.avatar ? userState.data.avatar.normal : `/images/noavatar${userState.data.gender}.jpg`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstyle={{ paddingTop: '150%' }}></CardMedia>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={6} style={{ paddingLeft: '2em' }}>\n\t\t\t\t\t\t\t<div style={{ display: 'flex', fontSize: '1.8em', lineHeight: '1.5em' }}>\n\t\t\t\t\t\t\t\t<Typography variant='h4' style={{ fontWeight: 'bold' }}>\n\t\t\t\t\t\t\t\t\t{`${userState.data.firstName}, ${userState.data.age}`}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<div style={{ flexGrow: 1 }}></div>\n\t\t\t\t\t\t\t\t{userState.data.heartsNumber}\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '-12px' }}\n\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\tuserState.data.heartIsGiven\n\t\t\t\t\t\t\t\t\t\t\t? () => userReducer.returnHurt(userDispatch, userState.data)\n\t\t\t\t\t\t\t\t\t\t\t: () => userReducer.giveHurt(userDispatch, userState.data)\n\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t<FavoriteBorderIcon\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\twidth: '1.5em',\n\t\t\t\t\t\t\t\t\t\t\theight: '1.5em',\n\t\t\t\t\t\t\t\t\t\t\tcolor: userState.data.heartIsGiven ? '#d73652' : '#fff',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Typography style={{ borderBottom: '2px solid #28272c', paddingBottom: '1em' }}>\n\t\t\t\t\t\t\t\t<LocationOnIcon />{' '}\n\t\t\t\t\t\t\t\t{userReducer.getDistanse(\n\t\t\t\t\t\t\t\t\tctx.state.data.lat,\n\t\t\t\t\t\t\t\t\tctx.state.data.lon,\n\t\t\t\t\t\t\t\t\tuserState.data.lat,\n\t\t\t\t\t\t\t\t\tuserState.data.lon,\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{' km away'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant='h5' style={{ color: '#908f96', marginTop: '1em' }}>\n\t\t\t\t\t\t\t\tLooking for\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{userState.data.lookingFor.map((data) => {\n\t\t\t\t\t\t\t\treturn <Chip key={data} label={data} className={profileStyles.chip} />\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t<Typography variant='h5' style={{ color: '#908f96', marginTop: '1em' }}>\n\t\t\t\t\t\t\t\tAbout\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>{userState.data.biography}</Typography>\n\t\t\t\t\t\t\t{imagesState.status === 'success' && (\n\t\t\t\t\t\t\t\t<div className={classes.imagesList}>\n\t\t\t\t\t\t\t\t\t<GridList className={classes.gridList} cols={3}>\n\t\t\t\t\t\t\t\t\t\t{imagesState.data.map((img) => (\n\t\t\t\t\t\t\t\t\t\t\t<GridListTile key={img.id} style={{ height: '10em' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={img.image.thumbnail} alt={''} />\n\t\t\t\t\t\t\t\t\t\t\t</GridListTile>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</GridList>\n\t\t\t\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ color: '#908f96', fontSize: '0.8rem', textTransform: 'uppercase' }}>\n\t\t\t\t\t\t\t\t\t\t\t\tRelationship\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography>It's complicated</Typography>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography style={{ color: '#908f96', fontSize: '0.8rem', textTransform: 'uppercase' }}>\n\t\t\t\t\t\t\t\t\t\t\t\tInterests\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6} style={{ marginTop: '1em' }}>\n\t\t\t\t\t\t\t\t\t\t\t{userState.data.interests.map((data, idx) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={idx} style={{ marginRight: '0.2em' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t#{data}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)\n\t\t\t}\n\t\t</UserContextConsumer>\n\t)\n}\n\nexport default UserPage\n","import RequesReduser, { Action } from './RequestReducer'\n\ntype MsgStatus = 'sended' | 'readed' | 'unreaded'\n\nexport type Chat = {\n\tid: number\n\tinterlocutorId: number\n\tinterlocutorName: string\n\tinterlocutorAvatar?: string\n\tlastMsg?:\n\t\t| {\n\t\t\t\tsenderId: number\n\t\t\t\ttext: string\n\t\t\t\ttime: Date\n\t\t  }\n\t\t| undefined\n}\n\nclass ChatListReducer extends RequesReduser<Chat[]> {\n\tbaseUrl = '/chat'\n\tgetChats(dispatch: React.Dispatch<Action<Chat[]>>, onSuccess: () => void) {\n\t\tthis.request(\n\t\t\tthis.getReq(),\n\t\t\t(res) => {\n\t\t\t\tdispatch({ type: 'success', results: res['data']['data'] })\n\t\t\t\tonSuccess()\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default ChatListReducer\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tchatsList: {},\n\t\tchatListHeader: { position: 'static', minHeight: '64px', marginBottom: '1.5em', display: 'flex' },\n\t\tchatItem: {\n\t\t\tdisplay: 'flex',\n\t\t\ttextAlign: 'left',\n\t\t\tjustifyContent: 'flex-start',\n\t\t\twidth: '100%',\n\t\t\tmarginBottom: '1.5em',\n\t\t},\n\t\tchatItemAvatar: {\n\t\t\twidth: '3.5em',\n\t\t\theight: '3.5em',\n\t\t\tmarginRight: '0.5em',\n\t\t},\n\t\tchatName: { fontSize: '1rem' },\n\t\tchatTime: { color: '#94929c', fontSize: '0.7rem' },\n\t\tchatMessage: {\n\t\t\tfontSize: '0.8rem',\n\t\t\toverflow: 'hidden',\n\t\t\ttextOverflow: 'ellipsis',\n\t\t\twhiteSpace: 'nowrap',\n\t\t\tmarginLeft: '0.2em',\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React from 'react'\nimport { Box, Typography, Avatar, ButtonBase } from '@material-ui/core/'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord'\nimport ChatListReducer, { Chat } from '../../reducers/ChatListReducer'\nimport styles from './chatsListStyles'\nimport { SocketContextConsumer } from '../../helpers/SocketContextProvider'\nimport { SocketManager } from '../../helpers/SocketManager'\n\ninterface Props {\n\tsetChat: React.Dispatch<React.SetStateAction<Chat | null>>\n\tsocketManager: SocketManager\n}\n\nconst ChatList: React.FC<Props> = (props: Props) => {\n\tconst chatListReducer = new ChatListReducer()\n\tconst cl = styles()\n\tconst { setChat, socketManager } = props\n\n\tconst [chatListState, chatListDispatch] = React.useReducer(chatListReducer.reducer, { status: 'loading' })\n\n\tReact.useEffect(() => {\n\t\tconsole.log('useEffect /chat')\n\t\tchatListReducer.getChats(chatListDispatch, () => {\n\t\t\tsocketManager.socket.on('chatlist', (data: any) => {\n\t\t\t\tchatListReducer.getChats(chatListDispatch, () => {})\n\t\t\t})\n\t\t})\n\n\t\treturn () => {\n\t\t\tsocketManager.socket.removeListener('chatlist')\n\t\t}\n\t}, [])\n\n\treturn chatListState.status === 'success' ? (\n\t\t// <SocketContextConsumer>\n\t\t<Box className={cl.chatsList}>\n\t\t\t<Box className={cl.chatListHeader}>\n\t\t\t\t<Typography variant='h5' style={{ alignSelf: 'center' }}>\n\t\t\t\t\tMessages\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t{chatListState.data.map((chat, idx) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ButtonBase className={cl.chatItem} key={idx} onClick={() => setChat(chat)}>\n\t\t\t\t\t\t\t<Avatar className={cl.chatItemAvatar} alt='Vasya' src={chat.interlocutorAvatar} />\n\t\t\t\t\t\t\t<Box style={{ overflow: 'hidden' }}>\n\t\t\t\t\t\t\t\t<Typography className={cl.chatName}>{chat.interlocutorName}</Typography>\n\t\t\t\t\t\t\t\t<Typography className={cl.chatTime}>\n\t\t\t\t\t\t\t\t\t{chat.lastMsg?.time ? new Date(chat.lastMsg.time).toLocaleString() : ''}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Box style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t\t{chat.interlocutorId === chat.lastMsg?.senderId && <ArrowBackIcon fontSize='small' />}\n\t\t\t\t\t\t\t\t\t{/* {chat.msgStatus === 'unreaded' && <FiberManualRecordIcon fontSize='small' color='error' />} */}\n\t\t\t\t\t\t\t\t\t<Typography className={cl.chatMessage}>{chat.lastMsg?.text || 'No messages'}</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ButtonBase>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t) : (\n\t\t// </SocketContextConsumer>\n\t\t<div>loading...</div>\n\t)\n}\n\nexport default ChatList\n","import RequesReduser, { Action } from './RequestReducer'\n\nexport type Message = {\n\tid?: number\n\tchatId: number\n\tsenderId?: number\n\tmessage: string\n\ttime?: Date\n}\n\nclass MessageReducer extends RequesReduser<Message[]> {\n\tbaseUrl = '/message'\n\tgetMessages(dispatch: React.Dispatch<Action<Message[]>>, chatId: number, onSuccess: () => void) {\n\t\tthis.request(\n\t\t\tthis.getReq(`/message/chat/${chatId}`),\n\t\t\t(res) => {\n\t\t\t\tdispatch({ type: 'success', results: res['data']['data'] })\n\t\t\t\tonSuccess()\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tdispatch({ type: 'failure', error: err })\n\t\t\t},\n\t\t)\n\t}\n}\n\nexport default MessageReducer\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst styles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tchatBox: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tzIndex: 2,\n\t\t},\n\t\tmessageBox: {\n\t\t\toverflowY: 'scroll',\n\t\t\tpaddingLeft: 20,\n\t\t\tpaddingRight: 20,\n\t\t\theight: 'calc(100% - 14em)',\n\t\t},\n\t\tclose: {\n\t\t\tdisplay: 'flex',\n\t\t\tpadding: '0.8em',\n\t\t\tborderBottom: '1px solid #c4c4c480',\n\t\t\tmarginBottom: '0.5em',\n\t\t},\n\t\tmessage: {\n\t\t\tposition: 'relative',\n\t\t\tmarginBottom: '10px',\n\t\t\tpadding: '10px',\n\t\t\ttextAlign: 'left',\n\t\t\tfont: \"400 .9em 'Open Sans', sans-serif\",\n\t\t\tborderRadius: '10px',\n\t\t},\n\t\tleftMessage: {\n\t\t\tmarginRight: '20px',\n\t\t\tbackgroundColor: '#24232a',\n\t\t},\n\t\trightMessage: {\n\t\t\tmarginLeft: '20px',\n\t\t\tbackgroundColor: '#e92d41',\n\t\t},\n\t\tmessageContent: {\n\t\t\tpadding: '0',\n\t\t\tmargin: '0',\n\t\t},\n\t\tmessageInput: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tpadding: 10,\n\t\t\tfont: \"400 .9em 'Open Sans', sans-serif\",\n\t\t},\n\t}),\n)\n\nexport default styles\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport Box from '@material-ui/core/Box'\nimport IconButton from '@material-ui/core/IconButton'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Avatar from '@material-ui/core/Avatar'\nimport SendIcon from '@material-ui/icons/Send'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport MessagesReducer, { Message } from '../../reducers/MessagesReducer'\nimport { SocketManager } from '../../helpers/SocketManager'\nimport { Chat } from '../../reducers/ChatListReducer'\nimport styles from './chatBoxStyles'\n\ninterface Props {\n\tchat: Chat\n\tsetChat: React.Dispatch<React.SetStateAction<Chat | null>>\n\tsocketManager: SocketManager\n}\n\nconst messageReducer = new MessagesReducer()\n\nconst ChatBox: React.FC<Props> = (props: Props) => {\n\tconst classes = styles()\n\tconst { chat, setChat, socketManager } = props\n\tconst [newMessage, setNewMessage] = React.useState('')\n\tconst messagesEndRef = React.useRef<HTMLDivElement>(null)\n\tconst [messageState, messageDispatch] = React.useReducer(messageReducer.reducer, { status: 'loading' })\n\n\tconst scrollToBottom = (smooth: boolean) => {\n\t\tif (messagesEndRef && messagesEndRef.current) {\n\t\t\tif (smooth) messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n\t\t\telse messagesEndRef.current.scrollIntoView()\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\tmessageReducer.getMessages(messageDispatch, chat.id, () => {\n\t\t\tscrollToBottom(false)\n\t\t})\n\n\t\tsocketManager.socket.on('messageSent', (data: any) => {\n\t\t\tsetNewMessage('')\n\t\t\tmessageDispatch({ type: 'success', results: data })\n\t\t\tscrollToBottom(true)\n\t\t})\n\t\tsocketManager.socket.on('message', (data: any) => {\n\t\t\tif (messageState.status === 'success') messageDispatch({ type: 'success', results: data })\n\t\t\tscrollToBottom(true)\n\t\t})\n\n\t\treturn () => {\n\t\t\tsocketManager.socket.removeListener('message')\n\t\t\tsocketManager.socket.removeListener('messageSent')\n\t\t}\n\t}, [chat])\n\n\tconst sendMsg = () => {\n\t\tconst res = newMessage.replace(/(\\r\\n|\\n|\\r)/gm, '')\n\t\tsetNewMessage(res)\n\t\tif (res.length > 0) socketManager.sendMessage({ chatId: chat.id, receiverId: chat.interlocutorId, text: res })\n\t}\n\n\tconst runFuncOnEnter = (func: () => void) => (e: React.KeyboardEvent) => {\n\t\tif (e.keyCode === 13) {\n\t\t\tfunc()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Card className={classes.chatBox}>\n\t\t\t{messageState.status === 'success' && (\n\t\t\t\t<Box className={classes.close}>\n\t\t\t\t\t<Avatar src={chat.interlocutorAvatar} style={{ width: '3em', height: '3em' }} />\n\t\t\t\t\t<Typography variant='h6' style={{ padding: '0.5em' }}>\n\t\t\t\t\t\t{chat.interlocutorName}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div style={{ flexGrow: 1 }}></div>\n\t\t\t\t\t<IconButton style={{ width: '2em', height: '2em' }} onClick={() => setChat(null)}>\n\t\t\t\t\t\t<CloseIcon fontSize='default' />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box color='text.primary' className={classes.messageBox}>\n\t\t\t\t{messageState.status === 'success' &&\n\t\t\t\t\tmessageState.data.map((elem, idx) => {\n\t\t\t\t\t\tconst msgStyle = chat.interlocutorId === elem.senderId ? classes.leftMessage : classes.rightMessage\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={`${classes.message} ${msgStyle}`} key={'msg' + idx}>\n\t\t\t\t\t\t\t\t<Typography className={classes.messageContent}>{elem.message}</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t<div ref={messagesEndRef} />\n\t\t\t</Box>\n\t\t\t<TextField\n\t\t\t\tplaceholder='Enter your message'\n\t\t\t\tclassName={classes.messageInput}\n\t\t\t\tmultiline={true}\n\t\t\t\tvariant='outlined'\n\t\t\t\trowsMax='4'\n\t\t\t\tvalue={newMessage}\n\t\t\t\tonChange={(e) => setNewMessage(e.target.value)}\n\t\t\t\tonKeyDown={runFuncOnEnter(sendMsg)}\n\t\t\t\tInputProps={{\n\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t<IconButton onClick={sendMsg}>\n\t\t\t\t\t\t\t<SendIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Card>\n\t)\n}\n\nexport default ChatBox\n","import io from 'socket.io-client'\n\nexport class SocketManager {\n\tsocket: SocketIOClient.Socket = io('http://localhost:5001')\n\n\tconstructor() {\n\t\tthis.socket.on('error', function (err: any) {\n\t\t\tconsole.log('received socket error:')\n\t\t\tconsole.log(err)\n\t\t})\n\n\t\tthis.socket.on('connect', function () {\n\t\t\tconsole.log('socket successfuly connected!')\n\t\t})\n\t}\n\n\tsendMessage(message: { chatId: number; receiverId: number; text: string }) {\n\t\tthis.socket.emit('message', message)\n\t}\n}\n","import React from 'react'\nimport { Route } from 'react-router-dom'\nimport PrimaryAppBar from '../layout/PrimaryAppBar'\nimport UserReducer from '../../reducers/UserReducer'\nimport { Chat } from '../../reducers/ChatListReducer'\nimport { UserContextProvider } from '../../helpers/UserContextProvider'\nimport { SocketContextProvider } from '../../helpers/SocketContextProvider'\nimport ChatList from '../chat/index'\nimport ChatBox from '../chat/ChatBox'\nimport { Grid, Card, Container } from '@material-ui/core'\n\nimport { SocketManager } from '../../helpers/SocketManager'\n\nimport mainStyles from '../../styles'\n\nconst userReducer = new UserReducer()\nconst socketManager = new SocketManager()\ninterface Props {\n\tpath: string\n\tcomponent: React.FC\n}\n\nconst PrivateLayout: React.FC<Props> = (props: Props) => {\n\tconst [state, dispatch] = React.useReducer(userReducer.reducer, { status: 'loading' })\n\tconst [chat, setChat] = React.useState<Chat | null>(null)\n\tconst mainClasses = mainStyles()\n\tReact.useEffect(() => {\n\t\tuserReducer.getUser(dispatch)\n\t}, [])\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<UserContextProvider value={{ state, dispatch }}>\n\t\t\t\t{/* <SocketContextProvider value={{ socket: socketManager }}> */}\n\t\t\t\t<Container style={{ paddingTop: '0.5em', paddingBottom: '0.5em' }}>\n\t\t\t\t\t<Card style={{ border: '1px solid bisque', paddingLeft: '1em' }}>\n\t\t\t\t\t\t<Grid container style={{ height: 'calc(100vh - 2em)' }}>\n\t\t\t\t\t\t\t<Grid item xs={3} style={{ borderRight: '1px solid bisque' }}>\n\t\t\t\t\t\t\t\t<ChatList setChat={setChat} socketManager={socketManager} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Route path={props.path}>\n\t\t\t\t\t\t\t\t<Grid item xs={9} className={mainClasses.rightScrollingContainer}>\n\t\t\t\t\t\t\t\t\t<PrimaryAppBar />\n\t\t\t\t\t\t\t\t\t{chat ? <ChatBox chat={chat} setChat={setChat} socketManager={socketManager} /> : ''}\n\t\t\t\t\t\t\t\t\t<div style={{ height: 'calc(100% - 5em)', overflowY: 'scroll' }}>\n\t\t\t\t\t\t\t\t\t\t<props.component />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Card>\n\t\t\t\t</Container>\n\t\t\t\t{/* </SocketContextProvider> */}\n\t\t\t</UserContextProvider>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default PrivateLayout\n","import React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport { isUser } from './getJwt'\nimport PrivateLayout from '../components/app/UserLayout'\n\ninterface Props {\n\tpath: string\n\tcomponent: React.FC\n}\n\nconst PrivateRoute: React.FC<Props> = (props: Props) => {\n\treturn isUser() ? <PrivateLayout component={props.component} path={props.path} /> : <Redirect to='/login' />\n}\n\nexport default PrivateRoute\n","import { createMuiTheme, Theme } from '@material-ui/core/styles'\nimport { PaletteOptions } from '@material-ui/core/styles/createPalette'\n\nexport type Palette = 'light' | 'dark'\nfunction getPalette(name: Palette): PaletteOptions {\n\tswitch (name) {\n\t\tcase 'light':\n\t\t\treturn {\n\t\t\t\tprimary: {\n\t\t\t\t\tmain: '#FE5D26',\n\t\t\t\t},\n\t\t\t\tsecondary: {\n\t\t\t\t\tmain: '#19857b',\n\t\t\t\t},\n\t\t\t\tbackground: {\n\t\t\t\t\tdefault: '#fff',\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\tprimary: '#1a191e',\n\t\t\t\t},\n\t\t\t}\n\t\tcase 'dark':\n\t\t\treturn {\n\t\t\t\tprimary: {\n\t\t\t\t\tmain: '#FE5D26',\n\t\t\t\t},\n\t\t\t\tsecondary: {\n\t\t\t\t\tmain: '#19857b',\n\t\t\t\t},\n\t\t\t\tbackground: {\n\t\t\t\t\tdefault: '#1a191e',\n\t\t\t\t\tpaper: '#1a191e',\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\tprimary: '#fff',\n\t\t\t\t\tsecondary: 'rgba(255, 255, 255, 0.7)',\n\t\t\t\t\tdisabled: 'rgba(255, 255, 255, 0.5)',\n\t\t\t\t\thint: 'rgba(255, 255, 255, 0.5)',\n\t\t\t\t},\n\t\t\t}\n\t}\n}\n\n// nice grey #f5f5f5\n\nconst useTheme = (palette: Palette) => (): Theme => {\n\tconsole.log('THEME: ' + palette)\n\n\tconst paletteOptions = getPalette(palette)\n\treturn createMuiTheme({\n\t\tpalette: paletteOptions,\n\t\ttypography: {\n\t\t\tfontFamily: ['Roboto', 'Helvetica', 'Arial'].join(','), //'Dancing Script'\n\t\t\tfontSize: 13,\n\t\t},\n\t\toverrides: {\n\t\t\tMuiIconButton: {\n\t\t\t\troot: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.19)',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiOutlinedInput: {\n\t\t\t\tnotchedOutline: {\n\t\t\t\t\tborderColor: 'bisque',\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiButton: {\n\t\t\t\tcontained: {\n\t\t\t\t\tbackground: 'linear-gradient(45deg, #FE5D26 30%, #FF8E53 90%)',\n\t\t\t\t\tcolor: 'white',\n\t\t\t\t},\n\t\t\t\toutlined: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: '#1a191e',\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t},\n\t\t\t\troot: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\tbackgroundColor: '#49484a',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiDrawer: {\n\t\t\t\tpaper: {\n\t\t\t\t\tbackgroundColor: '#FE6B8B',\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiChip: {\n\t\t\t\troot: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: '#FE5D26',\n\t\t\t\t},\n\t\t\t\toutlined: {\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: '#FE5D26',\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiPaper: {\n\t\t\t\toutlined: {\n\t\t\t\t\tborderColor: '#fff',\n\t\t\t\t},\n\t\t\t},\n\t\t\tMuiTypography: {\n\t\t\t\th3: {\n\t\t\t\t\tfontFamily: 'Dancing Script',\n\t\t\t\t\tfontSize: '34px',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t})\n}\n\nexport default useTheme\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/app'\n\nReactDOM.render(<App />, document.querySelector('#root'))\n","import React from 'react'\nimport SingIn from '../auth/SignIn'\nimport SingUp from '../auth/SignUp'\nimport VerifyEmail from '../auth/VerifyEmail'\nimport GuestRoute from '../../helpers/GuestRoute'\nimport Profile from '../profile'\nimport Gallery from '../gallery'\nimport Search from '../search'\nimport UserPage from '../userpage'\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport PrivateRoute from '../../helpers/PrivateRoute'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { ThemeProvider } from '@material-ui/core/styles'\n\nimport useTheme, { Palette } from '../../theme'\n\nexport default function App() {\n\tconst colorTheme: Palette = 'dark'\n\n\tconst theme = React.useMemo(useTheme(colorTheme), [colorTheme])\n\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<CssBaseline />\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' exact component={SingIn} />\n\t\t\t\t\t<GuestRoute path='/login' component={SingIn} />\n\t\t\t\t\t<GuestRoute path='/register' component={SingUp} />\n\t\t\t\t\t<GuestRoute path='/verify/:userid/:uuid' component={VerifyEmail} />\n\t\t\t\t\t<PrivateRoute path='/profile' component={Profile} />\n\t\t\t\t\t<PrivateRoute path='/search' component={Search} />\n\t\t\t\t\t<PrivateRoute path='/gallery' component={Gallery} />\n\t\t\t\t\t<PrivateRoute path='/:user' component={UserPage} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</ThemeProvider>\n\t)\n}\n\nconst NoPage: React.FC = () => {\n\treturn <div>404</div>\n}\n"],"sourceRoot":""}